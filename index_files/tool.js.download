//>>built
require({cache:{"url:hdx/js/hsbc/errorCodeMapping.json":"[\n    {\n        \"key\": \"SYSTEM_00001\",\n        \"value\": \"SYS00001\"\n    },\n    {\n        \"key\": \"SYSTEM_00002\",\n        \"value\": \"SYS00002\"\n    },\n    {\n        \"key\": \"SYSTEM_00003\",\n        \"value\": \"SYS00003\"\n    }\n]","hdx/bijits/tools/serviceFinder/ServiceFinder":function(){require({cache:{"url:hdx/bijits/tools/serviceFinder/templates/ServiceFinder.html":"<div class=\"find-branch\">\n   <div class=\"service-finder-content\">\n      <div class=\"mobile-mar-b page-title hide-on-mobile\">\n         <h1>${i18n.serviceFinder}</h1>\n      </div>\n      <div class=\"l-twelve m-eight s-four columns pearl-bg dropdown-checkboxes\">\n         <div class=\"l-five m-eight s-four columns location-drop-down nopad\">\n            <div class=\"row\">\n               <div class=\"l-six m-three s-four columns\">\n                  <!-- Location Drop Down Starts Here -->\n                  <span id=\"locationId\" class=\"accessibleHidden\" style=\"visibility: hidden;\">${i18n.selectTerritory} ${i18n.dropdown}</span>\n                  <select name=\"location\" aria-labelledby=\"locationId\" data-dojo-type=\"hdx/dijits/form/Select\" data-dojo-attach-point=\"location\" data-dojo-props=\"maxHeight:'260',scrollOnFocus :true,forceWidth:true\"></select>\n                  <!-- Location Drop Down Ends Here -->\n               </div>\n               <div class=\"l-six m-three s-four columns\">\n                  <!-- Sub-Location Drop Down Starts Here -->\n                  <span id=\"subLocationId\" class=\"accessibleHidden\" style=\"visibility: hidden;\">${i18n.selectDistrict} ${i18n.dropdown}</span>\n                  <select name=\"subLocation\" aria-labelledby=\"subLocationId\" data-dojo-type=\"hdx/dijits/form/Select\" data-dojo-attach-point=\"subLocation\" data-dojo-props=\"maxHeight:'260',scrollOnFocus :true,forceWidth:true\"></select>\n                  <!-- Sub-Location Drop Down Ends Here -->\n               </div>\n            </div>\n            <div class=\"row\">\n               <div class=\"l-twelve m-six s-four columns hide\">\n                  <!-- Services Drop Down Starts Here -->\n                  <span id=\"serviceTypeId\" class=\"accessibleHidden\" style=\"visibility: hidden;\">${i18n.all} ${i18n.dropdown}</span>\n                  <select name=\"serviceType\" aria-labelledby=\"serviceTypeId\" data-dojo-type=\"hdx/dijits/form/Select\" data-dojo-attach-point=\"serviceType\" data-dojo-props=\"maxHeight:'260',scrollOnFocus :true,forceWidth:true\"></select>\n                  <!-- Services Drop Down Ends Here -->\n               </div>\n            </div>\n         </div>\n         <!-- Location Types checkboxes starts here -->\n         <div class=\"l-six m-eight s-four columns location-check-boxes hide tablet-pad-l\" data-dojo-attach-point=\"locationType\">\n            <div data-dojo-attach-point=\"checkBoxType\" >\n               <div class=\"l-six m-four s-four columns\" data-dojo-attach-point=\"leftLocationTypes\">\n               </div>\n               <div class=\"l-six m-four s-four columns\" data-dojo-attach-point=\"rightLocationTypes\">\n               </div>\n            </div>\n         </div>\n      </div>\n      <!-- Close/Filter by services button starts here -->\n      <div class=\"hideonmobile search-position\">\n         <a href=\"javascript:void(0)\" class=\"filter-by-services-button\" data-dojo-attach-point=\"filterByServices\">\n         <span class=\"close-button\">\n         ${i18n.filterbyServices}\n         </span>\n         <span\n           class=\"accessibleHidden expandedSpan\"> ${i18n.expandDisclaimer}</span><span\n           class=\"accessibleHidden collapsedSpan hide\"> ${i18n.collapseDiscalimer}</span>\n         <em class=\"icon-chevron-down\">\n         </em>\n         </a>\n      </div>\n      <!-- Close/Filter by services button ends here -->\n      <div class=\"l-twelve m-eight s-four columns bottom mobile-pad-l mobile-pad-r nopad\">\n         <!-- <div class=\"s-four columns mobile-mar-b page-title show-on-mobile\" data-dojo-attach-point=\"toolTitle\"> -->\n         <div class=\"s-four columns mobile-mar-b page-title show-on-mobile\" data-dojo-attach-point=\"toolTitle\" custom_id=\"toolTitle\">\n            <p class=\"mobileheader\">\n               ${i18n.serviceFinder}\n            </p>\n            <a custom_id=\"filterSearchMobile\" class=\"chvicon\" href=\"javascript: void(0)\"><em class=\"icon-search\"></em><span class=\"accessibleHidden\">${i18n.accessibleRefineSearch}</span><span class=\"accessibleHidden\">${i18n.accessibleLinkOverlay}</span></a>\n         </div>\n         <div class=\"l-eight m-five s-four columns rightsection nopad\">\n            <div class=\"findme\">\n               <a href=\"#\" onclick=\"return false;\" class=\"findme-link\"  data-dojo-attach-point=\"findMyLocation\">\n                  <div class=\"findmetext findme-content\">\n                     <em class=\"icon-location icon-location-find-text\"></em>\n                     <span class=\"button-findme\">${i18n.findMe}</span>\n                  </div>\n               </a>\n            </div>\n            <div id=\"map_canvas\" style=\"width: 100%; height: 100%\" data-dojo-attach-point=\"mapCanvas\"></div>\n            <div class=\"disclaimer-icon\" custom_id=\"disclaimer_overlay\">\n               <p class=\"singleicon clearfix\">\n                  <a class=\"chvicon t16r\" href=\"javascript:void(0);\">\n                  <i class=\"icon-information\"></i>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n                  </a>\n               </p>\n            </div>\n         </div>\n         <div class=\"l-four m-three s-four columns leftsection\" data-dojo-attach-point=\"resultScrollList\">\n            <div class=\"padding-mmap\" data-dojo-attach-point=\"listing\"></div>\n            <img src=\"/clientapp/hdx/images/loaders/Spinner64Dark.gif\" data-dojo-attach-point=\"loadingIcon\" />\n            <div data-dojo-attach-point=\"serviceFinderDetails\"></div>\n         </div>\n         <div class=\"l-twelve columns\">\n         \t<div class=\"legend-down\">\n            <span data-dojo-attach-point=\"legendBar\"></span>\n            </div>\n         </div>\n      </div>\n      <!-- Disclamier begins here -->\n      <div data-dojo-type=\"hdx/dijits/Disclaimer\"\n\t\t\t\tdata-collapsable-header=\"disclaimer\">\n\t\t\t\t<div class=\"discwrapper discmargin\">\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"l-twelve m-eight s-four columns\">\n\t\t\t\t\t\t\t<div role=\"region\" aria-labelledby=\"disclaimer-heading\" class=\"content page-disclaimer disclaimer-container\">\n\t\t\t\t\t\t\t\t<h2 class=\"disclaimer\" data-disclaimer-click-target=\"val\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" class=\"disclaimer-heading\" aria-controls=\"disclaimer_content\" aria-expanded=\"true\" id=\"disclaimer-heading\"\n\t\t\t\t\t\t\t\t\t\tcustom_id=\"disclaimer-heading\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"title bold icon-disc-chevron-down\">${i18n.disclaimerTitle}</span>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclass=\"accessibleHidden expandedSpan hide\"> ${i18n.expandDisclaimer}</span><span\n\t\t\t\t\t\t\t\t\t\tclass=\"accessibleHidden collapsedSpan\"> ${i18n.collapseDiscalimer}</span>\n\t\t\t\t\t\t\t\t\t\t<em class=\"collapsed icon-chevron-down hide\">\n\t\t\t\t\t\t\t\t\t\t</em>\n\t\t\t\t\t\t\t\t\t\t<em class=\"expanded icon-chevron-up\">\n\t\t\t\t\t\t\t\t\t\t</em>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t<div id=\"disclaimer_content\" data-disclaimer-click-module=\"val\"\n\t\t\t\t\t\t\t\t\tclass=\"row disclaimer-content\">\n\t\t\t\t\t\t\t        <div id=\"disclaimer_page\" class=\"content t14r\">\n\t\t\t\t\t\t\t            \t${i18n.disclaimerText}\n\t\t\t\t\t\t\t        </div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n      <!-- Disclamier ends here -->\t\n   </div>\n</div>"}});define("hdx/bijits/tools/serviceFinder/ServiceFinder",["dojo/_base/declare","dojo/dom-class","dijit/_TemplatedMixin","hsbc/_ECAMixin","dijit/_WidgetsInTemplateMixin","dijit/_WidgetBase","dojo/dom","dojo/on","dojo/_base/lang","dojo/query","dijit/registry","dijit/form/CheckBox","dojo/text!./templates/ServiceFinder.html","hdx/bijits/tools/serviceFinder/ServiceFinderListing","hdx/bijits/tools/serviceFinder/ServiceFinderDetails","dojo/dom-construct","dojo/dom-style","dojo/json","dojo/_base/array","dojo/dom-attr","dijit/focus","dojo/_base/window","hdx/bijits/tools/serviceFinder/disclaimerOverlay","hdx/bijits/tools/serviceFinder/mobileOverlay","dojo/dom-geometry","hdx/dijits/reusableComponents/Scroller","dojo/request/script","dojo/request","hsbc/eca!dojo/i18n!pws/Components/client/serviceFinder/nls/servicefinder_nls","dojo/i18n!hsbc/nls/accessible_nls","hsbc/_PWSEndpointMixin","hdx/dijits/Disclaimer","hdx/dijits/ScrollPane","hsbc/eca!pws/Components/client/serviceFinder/config/ABSLConfig","hsbc/utilities/CommonUtil"],function(_1,_2,_3,_4,_5,_6,_7,on,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12,_13,_14,win,_15,_16,_17,_18,_19,_1a,_1b,_1c,_1d,_1e,_1f,_20,_21){var _22=[];var _23=null;var _24=true;var _25=[];var _26=null;var map=null;var _27=null;var _28=[];var _29=null;var _2a=[];var _2b=0;var _2c=[];var _2d=[];var _2e=300;var _2f=[];var _30="/clientapp/hdx/images/absl";var _31="HK";var _32="22.2818319";var _33="114.15770139999995";var _34=15;var _35=4;var _36;var _37;var _38;var _39;var _3a;var _3b;var _3c;var _3d;var _3e;var _3f;var _40;var _41=_38;var _42=_39;var _43=_40;var _44;var _45;var _46;var _47;var _48=15.135303;var _49=109.440306;var _4a=17.685439;var _4b=115.275231;var _4c=7.116426;var _4d=109.440306;var _4e=11.839663;var _4f=118.273174;var _50=14;var _51=false;return _1("hdx.bijits.tools.serviceFinder.ServiceFinder",[_6,_3,_5,_4,_1d],{templateString:_c,i18n:_8.mixin(_8.clone(_1c),_1b),_prepareABSLEndPoint:null,_enquireABSLEndPoint:null,configData:null,isEventBound:false,isDataLoaded:false,constructor:function(){_29=this;_29.inherited(arguments);var _52="https://maps.google.com/maps/api/js?v=3.2&libraries=geometry";var _53=_21.getConfiguration(_20.ABSLConfig);this.configData=_53;_52=(_53&&_53["mapConfig.libUrl"]&&_53["mapConfig.libUrl"]["default"])?_53["mapConfig.libUrl"]["default"]:_52;if(_53&&_53["mapConfig.libParam"]&&_53["mapConfig.libParam"]["default"]){_52+="&"+_53["mapConfig.libParam"]["default"];}else{if(_53&&_53.param&&_53.param["default"]){_52+="&"+_53.param["default"];}else{_52+="&sensor=false&client=gme-hsbc&langauge=en";}}_31=(_53&&_53["mapConfig.defaultCountryCode"]&&_53["mapConfig.defaultCountryCode"]["default"])?_53["mapConfig.defaultCountryCode"]["default"]:_31;_32=(_53&&_53["mapConfig.defaultCenterLat"]&&_53["mapConfig.defaultCenterLat"]["default"])?_53["mapConfig.defaultCenterLat"]["default"]:_32;_33=(_53&&_53["mapConfig.defaultCenterLng"]&&_53["mapConfig.defaultCenterLng"]["default"])?_53["mapConfig.defaultCenterLng"]["default"]:_33;_34=(_53&&_53["mapConfig.defaultZoomLevel"]&&_53["mapConfig.defaultZoomLevel"]["default"])?_53["mapConfig.defaultZoomLevel"]["default"]:_34;_35=(_53&&_53["mapConfig.minZoomLevel"]&&_53["mapConfig.minZoomLevel"]["default"])?_53["mapConfig.minZoomLevel"]["default"]:_35;_30=(_53&&_53.imagePath&&_53.imagePath["default"])?_53.imagePath["default"]:_30;_19.get(_52,{jsonp:"callback",timeout:5000,preventCache:false}).then(function(){_19.get("/clientapp/hdx/bijits/tools/serviceFinder/markerwithlabel.js");_26=new google.maps.Geocoder();_29.initializeMap();},function(){_29.handleServiceErr();_29.loadingIcon.style.display="none";});},postCreate:function(){_29=this;_3e=_29.getDefaultCountryCode();_3f=_29.getDefaultLanguageCode();_29.hideFindMeButton();_29.createDisclaimer();_29.createSearchOverlay();_29.populateDropDownDefaultValue();_29.bindFindMyLocationEvent();_29.bindScrollingEvent();},_setPrepareABSLEndPointAttr:function(_54){this._prepareABSLEndPoint=_54;},_setEnquireABSLEndPointAttr:function(_55){this._enquireABSLEndPoint=_55;},createDisclaimer:function(){var _56=new _15();on(_9("[custom_id=\"disclaimer_overlay\"]")[0],"click",function(){_56.openDisclaimer.show();_14.focus(_56.deleteIcon);_10.set(win.body(),{overflowY:"hidden"});});on(this.listing,"click",_8.hitch(this,function(){if(window.size==="small"){_9(".disclaimer-icon").style("display","none");_9(".discwrapper.discmargin").style("display","block");}}));on(window,"resize",_8.hitch(this,function(){if(window.size==="medium"){_9(".disclaimer-icon").style("display","inline-block");_9(".discwrapper.discmargin").style("display","none");if(_29.onDetailsPage){_9(".disclaimer-icon").style("display","inline-block");}}else{if(window.size==="large"){_9(".disclaimer-icon").style("display","none");_9(".discwrapper.discmargin").style("display","block");}else{if(_29.onDetailsPage){_9(".disclaimer-icon").style("display","none");}}}}));},createSearchOverlay:function(){var _57=this;_23=new _16();if(window.size==="small"){_9("[custom_id=\"filterSearchMobile\"]")[0].style.display="inline";}else{_9("[custom_id=\"filterSearchMobile\"]")[0].style.display="none";}on(win.global,"resize",function(){if(window.size==="small"){_9("[custom_id=\"filterSearchMobile\"]")[0].style.display="inline";}else{_9("[custom_id=\"filterSearchMobile\"]")[0].style.display="none";}});on(_9("[custom_id=\"filterSearchMobile\"]")[0],"click",function(){_23.showDialog();});var _58=true;on(_57.filterByServices,"click",_8.hitch(this,function(){_2.toggle(_57.filterByServices,"expanded");var _59=_57.serviceType.domNode.parentNode;var _5a=_57.locationType;var _5b=(_57.filterByServices.firstElementChild||_57.filterByServices.children[0]||{});var _5c=_9(".expandedSpan",_57.filterByServices)[0];var _5d=_9(".collapsedSpan",_57.filterByServices)[0];var _5e=_9("em",_57.filterByServices)[0];var _5f=false;if(_25){for(var k=0;k<_25.length;k++){var _60=_a.byId(_25[k].id).checked;if(!_60){_5f=true;break;}else{_5f=false;}}}if(_58){_58=false;_5b.innerHTML=_1b.close;_2.remove(_5e,"icon-chevron-down");_2.add(_5e,"icon-chevron-up");_2.add(_5c,"hide");_2.remove(_5d,"hide");_2.remove(_59,"hide");_2.add(_59,"show");_2.remove(_5a,"hide");_2.add(_5a,"show");}else{_58=true;if(_5f){_5b.innerHTML=_1b.refineSearch;}else{_5b.innerHTML=_1b.filterbyServices;}_2.add(_5e,"icon-chevron-down");_2.remove(_5e,"icon-chevron-up");_2.remove(_5c,"hide");_2.add(_5d,"hide");_2.remove(_59,"show");_2.add(_59,"hide");_2.remove(_5a,"show");_2.add(_5a,"hide");}}));_14.watch("curNode",function(_61,_62,_63){_57.previousFocussedNode=_62;});on(_57.filterByServices,"keydown",_8.hitch(this,function(_64){if(_64.keyCode==9){if(_2.contains(_57.filterByServices,"expanded")){if(!_64.shiftKey){if(_57.previousFocussedNode.tagName.toLowerCase()=="input"&&_13.get(_57.previousFocussedNode,"type")=="checkbox"){}else{_14.focus(_57.subLocation);}}else{var _65=_9("input[type=checkbox]",_57.checkBoxType).length;var _66=_9("input[type=checkbox]",_57.checkBoxType)[_65];_14.focus(_66);}}}}));},callPrepareABSLSvc:function(_67,_68,_69,_6a,_6b){var _6c=_29.getCountryCode();var _6d=_29.getLanguageCode();if(_6c&&_6d){var req={countryCode:_6c,locale:_6d};var url=this._prepareABSLEndPoint.url;var _6e=this._prepareABSLEndPoint.retry;_1a.post(url,{data:_11.stringify(req),headers:{"Content-Type":"application/json"}}).then(_8.hitch(this,function(_6f){var _70=_11.parse(_6f);if(_70&&!(_70.responseInfo&&_70.responseInfo.reasons&&_70.responseInfo.reasons.length>0)){if(_6a){_29.populateDistrict(_70,_69);_29.populateSubLocation(_70,_69);}_29.populateServiceType(_70);_29.populateLocationType(_70);if(!_29.isEventBound){_29.bindDistrictEvent(_70);_29.bindSubLocationEvent(_70);_29.bindServiceTypeEvent(_70);_29.isEventBound=true;}_29.createLegends(_70);if(_67){_29.loadDropDownLocation();}if(_68){_29.callEnquireABSLSvc();}}else{_29.handleServiceErr();}}),_8.hitch(this,function(){if(_6e&&!_6b){_29.callPrepareABSLSvc(_67,_68,_69,_6a,true);}else{_29.handleServiceErr();}}));}else{_29.handleServiceErr();}},callEnquireABSLSvc:function(_71){var _72=_29.getCountryCode();var _73=_29.getLanguageCode();var _74=_29.getSelectedServices();var _75=_29.getSelectedLocationTypes();var _76=_29.normalizedLongitude(_39);if(_72&&_73&&_75&&_74&&_38&&_76&&_3a&&_3b&&_3c&&_3d){var req={countryCode:_72,locale:_73,locationTypes:_75,services:_74,cLat:_38,cLng:_76,bottomLeftLat:_3a,bottomLeftLng:_3b,topRightLat:_3c,topRightLng:_3d};var url=this._enquireABSLEndPoint.url;var _77=this._enquireABSLEndPoint.retry;_1a.post(url,{data:_11.stringify(req),headers:{"Content-Type":"application/json"}}).then(_8.hitch(this,function(_78){var _79=_11.parse(_78);if(_79&&!(_79.responseInfo&&_79.responseInfo.reasons&&_79.responseInfo.reasons.length>0)){_29.clearPreviousMarker();_29.clearPreviousBranchList();var _7a=_29.getBranchArray(_79);_29.loadingIcon.style.display="none";if(!_29.isDataLoaded){_29.isDataLoaded=true;}}else{_29.handleServiceErr();_29.loadingIcon.style.display="none";}}),_8.hitch(this,function(){if(_77&&!_71){_29.callEnquireABSLSvc(true);}else{_29.handleServiceErr();_29.loadingIcon.style.display="none";}}));}else{_29.handleServiceErr();_29.loadingIcon.style.display="none";}},normalizedLongitude:function(_7b){var _7c=_7b;if(_7b>180){var a=_7b;while(a>180){a=a-360;}_7c=a;}else{if(_7b<-180){var b=_7b;while(b<-180){b=b+360;}_7c=b;}}return _7c;},bindFindMyLocationEvent:function(){on(_29.findMyLocation,"click",function(){_29.loadMyLocation();});},bindScrollingEvent:function(){on(this.resultScrollList,"scroll",function(){if(window.size==="small"&&!_29.onDetailsPage){_29.scrollingFunction();}});},scrollingFunction:function(){var _7d=[];_12.forEach(_9(".resultlist-absl",_29.listing),function(_7e,i){var _7f=Math.round(_17.position(_7e,true).y);_2a[i].set("labelContent",_2c[i]);_7d.push(_7f);});var _80=_29.closestTo(_7d,_29.showcaseContainerTopPosition);_2a[_80].set("labelContent",_2d[_80]);},closestTo:function(arr,val){var u=0;var b=arr[0]-val;var ind=0;if(b<0){b*=-1;}for(var y=1;y<arr.length;y++){if((arr[y]-val)<0){u=arr[y]-val;u*=-1;}else{u=arr[y]-val;}if(u<b){b=u;ind=y;}}return ind;},hideFindMeButton:function(){_9(".findme").style("display","none");},showFindMeButton:function(){_9(".findme").style("display","inline-block");},populateDropDownDefaultValue:function(){var _81=this;_81.location.addOption({value:"",label:_1b.selectTerritory});_23.locationMobile.addOption({value:"",label:_1b.selectTerritory});_81.subLocation.addOption({value:"",label:_1b.selectDistrict});_23.subLocationMobile.addOption({value:"",label:_1b.selectDistrict});_81.serviceType.addOption({value:"show-all-results",label:_1b.all});_23.serviceTypeMobile.addOption({value:"show-all-results",label:_1b.all});},resetDropDownDefaultValue:function(){_29.location.set("value","");_23.locationMobile.set("value","");_29.subLocation.set("value","");_23.subLocationMobile.set("value","");},populateDistrict:function(_82,_83){if(_82&&_82.locations&&_82.locations.length>0){if(_29.location.getOptions()){_29.location.removeOption(_29.location.getOptions());}if(_23.locationMobile.getOptions()){_23.locationMobile.removeOption(_23.locationMobile.getOptions());}var _84=[];_84.push({value:"",label:_1b.selectTerritory});for(var i=0;i<_82.locations.length;i++){if(i===0&&_83){_84.push({value:_82.locations[i].value,label:_82.locations[i].desc,selected:true});}else{_84.push({value:_82.locations[i].value,label:_82.locations[i].desc});}}_29.location.addOption(_84);_23.locationMobile.addOption(_84);}},bindDistrictEvent:function(){on(_29.location,"keydown, click",function(){_29.addDropDownScrollBar(this.id);});on(_23.locationMobile,"keydown, click",function(){_29.addDropDownScrollBar(this.id);});on(_29.location,"change",function(){_29.updateSubLocationDropDown(this.value,false,false);});on(_23.locationMobile,"change",function(){_29.updateSubLocationDropDown(this.value,false,false);});},populateSubLocation:function(_85,_86){if(_85&&_85.locations&&_85.locations.length>0){if(_29.subLocation.getOptions()){_29.subLocation.removeOption(_29.subLocation.getOptions());}if(_23.subLocationMobile.getOptions()){_23.subLocationMobile.removeOption(_23.subLocationMobile.getOptions());}_22.length=0;var _87=null;for(var k=0;k<_85.locations.length;k++){for(var i=0;i<_85.locations[k].subLocation.length;i++){var _88=null;if(k===0&&i===2&&_86){_87=_85.locations[k].value;_88={location:_85.locations[k].value,value:_85.locations[k].subLocation[i].value,label:_85.locations[k].subLocation[i].desc,selected:true};}else{_88={location:_85.locations[k].value,value:_85.locations[k].subLocation[i].value,label:_85.locations[k].subLocation[i].desc};}_22.push(_88);}}_29.updateSubLocationDropDown(_87,true,_86);}},bindSubLocationEvent:function(){on(_29.subLocation,"keydown, click",function(){_29.addDropDownScrollBar(this.id);});on(_23.subLocationMobile,"keydown, click",function(){_29.addDropDownScrollBar(this.id);});on(_23.subLocationMobile,"change",function(){if(_29.getCountryCode()!=_29.getDefaultCountryCode()){_3e=_29.getDefaultCountryCode();_29.callPrepareABSLSvc(true,false,false,false);}else{_3e=_29.getDefaultCountryCode();_29.loadDropDownLocation();}});on(_29.subLocation,"change",function(){if(_29.getCountryCode()!=_29.getDefaultCountryCode()){_3e=_29.getDefaultCountryCode();_29.callPrepareABSLSvc(true,false,false,false);}else{_3e=_29.getDefaultCountryCode();_29.loadDropDownLocation();}});},populateServiceType:function(_89){if(_89&&_89.serviceTypes&&_89.serviceTypes.length>0){_29.serviceType.removeOption(_29.serviceType.getOptions());_23.serviceTypeMobile.removeOption(_23.serviceTypeMobile.getOptions());var _8a=[];for(var i=0;i<_89.serviceTypes.length;i++){if(i===0&&_89.serviceTypes[i].id!=="show-all-results"){_8a.push({value:"show-all-results",label:_1b.all});}else{_8a.push({value:_89.serviceTypes[i].id,label:_89.serviceTypes[i].desc});}}_29.serviceType.addOption(_8a);_23.serviceTypeMobile.addOption(_8a);}else{if(_89&&_89.serviceTypes&&_89.serviceTypes.length===0){_29.serviceType.removeOption(_29.serviceType.getOptions());_23.serviceTypeMobile.removeOption(_23.serviceTypeMobile.getOptions());var _8a={value:"show-all-results",label:_1b.all};_29.serviceType.addOption(_8a);_23.serviceTypeMobile.addOption(_8a);}}},bindServiceTypeEvent:function(){on(_29.serviceType,"keydown, click",function(_8b){_29.addDropDownScrollBar(this.id);});on(_23.serviceTypeMobile,"keydown, click",function(_8c){_29.addDropDownScrollBar(this.id);});on(_29.serviceType,"change",function(){_29.callEnquireABSLSvc();});on(_23.serviceTypeMobile,"change",function(){_29.callEnquireABSLSvc();});},populateLocationType:function(_8d){var _8e=dijit.findWidgets(_29.leftLocationTypes);dojo.forEach(_8e,function(w){w.destroy();});var _8f=dijit.findWidgets(_29.rightLocationTypes);dojo.forEach(_8f,function(w){w.destroy();});var _90=dijit.findWidgets(_23.locationTypesMobile);dojo.forEach(_90,function(w){w.destroy();});_25.length=0;_29.leftLocationTypes.innerHTML="";_29.rightLocationTypes.innerHTML="";_23.locationTypesMobile.innerHTML="";if(_8d&&_8d.locationTypes&&_8d.locationTypes.length>0){for(var i=0;i<_8d.locationTypes.length;i++){var id=_8d.locationTypes[i].id;var _91=_8d.locationTypes[i].desc;var _92=null;if(id==="show-all-results"){_92=true;}else{if(_3e==="HK"){_92=true;}}var _93=(i%2===0)?_29.leftLocationTypes:_29.rightLocationTypes;var _94=_29._createLocationTypeCheckbox(_93,id,_91,_92);var _95=_29._createLocationTypeCheckbox(_23.locationTypesMobile,"mobile_"+id,_91,_92);_25.push(_94);_29.bindLocationTypeEvent(_94,_95);}}},_createLocationTypeCheckbox:function(_96,id,_97,_98){var _99={id:id,label:_97,checked:_98};checkbox=new _b(_99);var row=_f.create("div");_2.add(row,"checkbox-container");_f.place(row,_96);checkbox.placeAt(row);labelforCheckbox="<label class=\"checkbox-padding\" for=\""+id+"\">"+_97+"</label>";_f.place(labelforCheckbox,checkbox.domNode,"after");return checkbox;},bindLocationTypeEvent:function(_9a,_9b){_9a.watch("checked",function(){if(this.checked!=_9b.checked){_9b.set("checked",this.checked);}_29.callEnquireABSLSvc();});_9b.watch("checked",function(){if(this.checked!=_9a.checked){_9a.set("checked",this.checked);}});},updateSubLocationDropDown:function(_9c,_9d,_9e){if(!_22&&_22.length===0){_29.handleServiceErr();}else{_29.subLocation.removeOption(_29.subLocation.getOptions());_23.subLocationMobile.removeOption(_23.subLocationMobile.getOptions());var _9f={value:"",label:_1b.selectDistrict};var _a0=[];_a0.push(_9f);for(var i=0;i<_22.length;i++){if(_22[i].location==_9c){var _a1={value:_22[i].value,label:_22[i].label};if(_9d&&i===2&&_9e){_a1={value:_22[i].value,label:_22[i].label,selected:true};}_a0.push(_a1);}}_29.subLocation.addOption(_a0);_23.subLocationMobile.addOption(_a0);}},getBranchArray:function(_a2){var _a3=[];var _a4=null;var _a5=null;var _a6=null;var _a7=null;var _a8=null;var _a9=null;var _aa=null;var _ab=null;var _ac=null;var _ad=null;var _ae=null;var _af=null;var _b0=null;var _b1=null;var _b2=null;var _b3=null;var _b4=null;if(_a2&&_a2.results&&_a2.results.length>0){for(var i=0;i<_a2.results.length;i++){var _b5=_a2.results[i];_a4=i+1;if(_a4<10){_a4="0"+_a4;}_a5=_b5.name;_a6=_b5.locationId;_a7=_b5.type;_a8=_b5.workHrs.todayOpenHours;_a9=_29.getFacilityLabel(_b5.facilities).facility;_aa=_29.getFacilityLabel(_b5.facilities).isMultiFacility;_ab=_b5.address.line1;_ac=_b5.address.lat;_ad=_b5.address.lng;_ae=_b5.distance;_af=_b5.workHrs.lobby;_b0=_b5.workHrs.driveThru;_b1=_b5.services;_b2=_b5.contacts;_b3=_b5.email;locationIconColorCode=_29.getColorforImageIcon(_a7);locationIconShadowClass=_29.getFacilityLabel(_b5.facilities).shadowClass;_b4=_b5.addInfo;var _b6={number:i,name:_a5,locationId:_a6,serviceType:_a7,todayOpenHours:_a8,facilities:_a9,isMultiFacility:_aa,address:_ab,latitude:_ac,longitude:_ad,distance:_ae,branchHours:_af,expressBankingHours:_b0,services:_b1,contacts:_b2,email:_b3,resultNumber:_a4,locationIconColorCode:locationIconColorCode,locationIconShadowClass:locationIconShadowClass,addInfo:_b4};_29.populateBranchList(_b6);_29.createBranchMapMarker(_b6);_a3.push(_b6);_29.isResultNotFound=false;}_29.handleBranchListScroll();}else{_29.handleNoSearchResultErr();}return _a3;},getFacilityLabel:function(_b7){var _b8="";var _b9="";var _ba=false;if(_b7){if(_b7.length>1){_ba=true;_b9="boxShadowIcon";for(var i=0;i<_b7.length;i++){_b8+=_b7[i].facility;if(i!=_b7.length-1){_b8+=_1b.facilityWith;}}}else{_b8=_b7[0].facility;}}return {facility:_b8,shadowClass:_b9,isMultiFacility:_ba};},getMapMarkerImageName:function(_bb){if(_bb){return "icon-"+_bb+".png";}else{return "";}},getExpandedMapMarkerImageName:function(_bc){if(_bc){return "icon-expanded"+_bc+".png";}else{return "";}},handleBranchListScroll:function(){if(_29.customScrollBar){_29.customScrollBar.resizeScrollArea();_29.customScrollBar.scrollWindowNode.scrollTop=0;}if(window.size==="small"&&_9(".resultlist-absl",_29.listing).length>1){_29.firstListItemPosition=Math.round(_17.position(_9(".resultlist-absl",_29.listing)[0],true).y);_29.secondListItemPosition=Math.round(_17.position(_9(".resultlist-absl",_29.listing)[1],true).y);_29.listItemsDifference=_29.secondListItemPosition-_29.firstListItemPosition;_29.showcaseContainerTopPosition=Math.round(_17.position(_29.listing,true).y);_29.listSpaceFillerDivHeight=(Math.round(_29.resultScrollList.clientHeight/_29.listItemsDifference)-1)*_29.listItemsDifference;if(_9(".footer-bottom",_29.resultScrollList).length>0){_29.listSpaceFillerDivHeight=_29.listSpaceFillerDivHeight-_9(".footer-bottom",_29.resultScrollList)[0].clientHeight;}if(dojo.byId("spaceFillerBlock")===null){_10.set(_f.create("div",{"class":"s-four columns space-filler-block","id":"spaceFillerBlock"},_29.listing),"height",_29.listSpaceFillerDivHeight+"px");}}if(!_29.customScrollBar&&window.size==="large"){_29.customScrollBar=new _1f();_29.customScrollBar.init({domNode:_29.resultScrollList,scrollBarShowHide:true,useKeyEvents:true});_2.remove(_29.resultScrollList,"l-four m-three s-four columns");var _bd=_29.resultScrollList.parentNode.parentNode;_2.add(_bd,"l-four m-three s-four columns pad-l");_10.set(_bd,"width","");_10.set(_9(_bd).children(".scrollWindow")[0],"width","");}if(_29.isResultNotFound){_29.resetScrollBar("hide");}else{_29.resetScrollBar("show");}},handleNoSearchResultErr:function(){_29.isResultNotFound=true;var _be="<div class=\"error-msg-txt\"><span style=\"font-weight: bold;\">"+_1b.noSearchResultTitle+"</span><span>"+_1b.noSearchResultContent1+"</span><span>"+_1b.noSearchResultContent2+"</span></div>";var _bf="<div class='error-msg-font'><i class="+"icon-information"+"></i></div>";var _c0=_bf+_be;domFrag5="<div class=\"error-msg\">"+_c0+"</div>";_f.place(domFrag5,_29.listing,"last");if(!_29.customScrollBar){_29.handleBranchListScroll();}_29.resetScrollBar("hide");},handleServiceErr:function(){var _c1="<div class=\"error-msg-txt\"><span style=\"font-weight: bold;\"></span><span>"+_1b.serviceError+"</span></div>";var _c2="<div class='error-msg-font'><i class="+"icon-information"+"></i></div>";var _c3=_c2+_c1;domFrag5="<div class=\"error-msg\">"+_c3+"</div>";_29.clearPreviousBranchList();_f.place(domFrag5,_29.listing,"last");if(!_29.customScrollBar){_29.handleBranchListScroll();}_29.resetScrollBar("hide");},resetScrollBar:function(opt){if(_29.customScrollBar){_10.set(_29.customScrollBar.scrollPaneWrapper,{"position":"relative","height":"555px"});_10.set(_29.customScrollBar.scrollWindowNode,{"height":"555px","overflow":"hidden"});if(opt=="hide"){_10.set(_29.customScrollBar.scrollBarHandleNode,{"display":"none"});}else{_10.set(_29.customScrollBar.scrollBarHandleNode,{"display":"block"});_29.customScrollBar.toggleScrollBar();}}},populateBranchList:function(_c4){var _c5=_29.displayDate();var _c6={facility:_c4.facilities,name:_c4.name,distance:_c4.distance,address:_c4.address,locationId:_c4.locationId,date:_c5,lobbyWorkHrs:_c4.branchHours,todayOpenHours:_c4.todayOpenHours,colorCode:_c4.locationIconColorCode,shadowClass:_c4.locationIconShadowClass,resultNumber:_c4.resultNumber};var _c7=new _d(_c6).placeAt(_29.listing);var _c8=_c7.domNode;_29.attachBranchClickEvent(_c4,_c8);if(_c7&&_c4.todayOpenHours&&_c4.todayOpenHours.length>=5){_c7.notOpenTodayListings.style.display="none";_c7.openTodayListings.innerHTML=_1b.openToday+_c4.todayOpenHours;}else{if(_c7&&_c4.todayOpenHours&&_3e==="HK"&&_c4.todayOpenHours==="-"){_c7.notOpenTodayListings.style.display="inline-block";_c7.notOpenTodayListings.innerHTML=_1b.notOpenToday;}else{_c7.openTodayListings.innerHTML="";_c7.notOpenTodayListings.innerHTML="";}}},createBranchMapMarker:function(_c9){var _ca=_c9.latitude;var _cb=_c9.longitude;var _cc=_c9.number;var _cd=_c9.facilities;var _ce=_c9.name;var _cf=_c9.distance;var _d0=_c9.isMultiFacility;var _d1=_c9.serviceType;var _d2=_c9.locationId;var _d3=new google.maps.LatLng(_ca,_cb);var _d4=_29.getMarkerImage(_d1,_cc,_ce,_d0);var _d5=_d4.split("*");var _d6=_d5[0];var _d7=_d5[1];var _d8="<div id=\"content\" style=\"height:auto;\"> "+"<div style=\"padding:2px;color:#666666\">"+_cd+"</div>"+"<div style=\"padding:2px;font-size:1.1em\"><strong>"+_ce+"</strong></div>"+"<div style=\"padding:2px;color:#666666\">"+_cf+"</div>"+"</div>";var _d9=new google.maps.LatLng(_ca,_cb);var _da=new google.maps.InfoWindow({content:_d8,position:_d9,pixelOffset:new google.maps.Size(85,-8),maxWidth:130});var _db=_d6;var _dc=new google.maps.Point(0,30);if(_c9.number===0){_db=_d7;_dc=new google.maps.Point(0,61);}var _dd=new MarkerWithLabel({position:_d3,icon:{path:"",strokeOpacity:0},map:map,labelContent:_db,labelAnchor:_dc,infowindow:_da,locationId:_d2,markerNumber:_cc,overFlag:true});_2a.push(_dd);_2c.push(_d6);_2f.push(_cc);_2d.push(_d7);_2b=_2a.length;google.maps.event.addListener(_dd,"mouseover",function(){if(_dd.overFlag){if(_27){_27.close();}_da.open(map);_27=_da;var _de=_9(".gm-style-iw").next();_10.set(_de[0],{width:"0px",display:"none"});var _df=_9(".gm-style-iw").prev().children();for(var x=0;x<_df.length-1;x++){dojo.destroy(_df[x]);}}});google.maps.event.addListener(_dd,"mouseout",function(){if(_27){_27.close();}});google.maps.event.addListener(_dd,"click",function(){_dd.infowindow.close();for(var i=0;i<_2b;i++){_2a[i].set("labelContent",_2c[i]);_2a[i].set("labelAnchor",new google.maps.Point(0,30));_2a[i].overFlag=true;}_dd.overFlag=false;for(var _e0=0;_e0<_2d.length;_e0++){if(_dd.markerNumber==_2f[_e0]){_dd.set("labelContent",_2d[_e0]);}}_9("div[data-attr=\"big-marker\"]").parent().style("zIndex",++_2e);_dd.set("labelAnchor",new google.maps.Point(0,61));var _e1=_29.getImageIconContainer(_c9.serviceType,_dd.markerNumber);var _e2=_9(".defaultMarkerIcon").parent();var _e3=_9(".expandedMarkerIcon").parent();for(var _e4=0;_e4<_e2.length;_e4++){_10.set(_e2[_e4],{pointerEvents:"auto"});}_10.set(_e3[1],{pointerEvents:"none"});_29.onMarkerClick(_c9);});},clearPreviousBranchList:function(){_29.listing.innerHTML="";},clearPreviousMarker:function(){for(var i=0;i<_2a.length;i++){_2a[i].setMap(null);}_2a=[];_2c=[];_2f=[];_2d=[];},getMarkerImage:function(_e5,_e6,_e7,_e8){if(++_e6<10){_e6="0"+_e6;}var _e9="";var _ea="";if(window.size==="small"){if(!_e8){_e9="<div class=\"defaultMarkerIcon\" style=\"background-image:url("+_30+"/"+_29.getMapMarkerImageName(_e5)+");\"><span class=\"defaultMarkerIconNo\">"+_e6+"</span></div>";_ea="<div class=\"expandedMarkerIcon\" data-attr=\"big-marker\" style=\"background-image:url("+_30+"/"+_29.getExpandedMapMarkerImageName(_e5)+");width:51px;\"><span class=\"expandedMarkerIconNo\" >"+_e6+"</span></div>";}else{_e9="<div class=\"defaultMarkerIcon\" style=\"background-image:url("+_30+"/"+_29.getMapMarkerImageName(_e5)+");\"><span class=\"defaultMarkerIconNo\" style=\"left:9px;\">"+_e6+"</span></div>";_ea="<div class=\"expandedMarkerIcon\" data-attr=\"big-marker\" style=\"background-image:url("+_30+"/"+_29.getExpandedMapMarkerImageName(_e5)+");width:55px;\"><span class=\"expandedMarkerIconNo\" >"+_e6+"</span></div>";}}else{if(!_e8){_e9="<div class=\"defaultMarkerIcon\" style=\"background-image:url("+_30+"/"+_29.getMapMarkerImageName(_e5)+");\"><span class=\"defaultMarkerIconNo\">"+_e6+"</span></div>";_ea="<div class=\"expandedMarkerIcon\" data-attr=\"big-marker\" style=\"background-image:url("+_30+"/"+_29.getExpandedMapMarkerImageName(_e5)+");\"><span class=\"expandedMarkerIconNo\" >"+_e6+"</span><span class=\"expandedMarkerIconName\" ><strong>"+_e7+"</strong></span></div>";}else{_e9="<div class=\"defaultMarkerIcon\" style=\"background-image:url("+_30+"/"+_29.getMapMarkerImageName(_e5)+");\"><span class=\"defaultMarkerIconNo\" style=\"left:9px;\">"+_e6+"</span></div>";_ea="<div class=\"expandedMarkerIcon\" data-attr=\"big-marker\" style=\"background-image:url("+_30+"/"+_29.getExpandedMapMarkerImageName(_e5)+");\"><span class=\"expandedMarkerIconNo\" >"+_e6+"</span><span class=\"expandedMarkerIconName\" ><strong>"+_e7+"</strong></span></div>";}}return _e9+"*"+_ea;},initializeMap:function(){var _eb=true;if(window.size==="small"||window.size==="medium"){_eb=false;}if(window.size==="small"){_34=15;}else{_34=15;}var _ec={zoom:_34,center:new google.maps.LatLng(_32,_33),zoomControl:_eb,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_BOTTOM},panControl:false,mapTypeControl:false,disableDefaultUI:true};map=new google.maps.Map(_29.mapCanvas,_ec);google.maps.event.addListener(map,"zoom_changed",function(){if(map.zoom<_35){map.setZoom(_35);}if(_24){_29.onMapChange();}_24=true;});google.maps.event.addListener(map,"dragend",function(){_29.onMapChange();});google.maps.event.addListenerOnce(map,"bounds_changed",function(){_29.loadMyLocation();});google.maps.event.addListener(map,"click",function(){var _ed=_9(".defaultMarkerIcon").parent();for(var _ee=0;_ee<_ed.length;_ee++){_10.set(_ed[_ee],{pointerEvents:"auto"});}for(var i=0;i<_2b;i++){if(_2a[i]){_2a[i].set("labelContent",_2c[i]);_2a[i].set("labelAnchor",new google.maps.Point(0,30));_2a[i].overFlag=true;}}if(_27){_27.close();}});},attachBranchClickEvent:function(_ef,_f0){_29.listing.style.display="block";_29.serviceFinderDetails.style.display="none";on(_f0,"click",function(){var _f1=new google.maps.LatLng(_ef.address.lat,_ef.address.lng);var _f2="<div id=\"content\" style=\"height:auto;\"> "+"<div style=\"padding:2px;color:#666666\">"+_ef.facilities+"</div>"+"<div style=\"padding:2px;font-size:1.1em\"><strong>"+_ef.name+"</strong></div>"+"<div style=\"padding:2px;color:#666666\">"+_ef.distance+"</div>"+"</div>";var _f3=new google.maps.InfoWindow({content:_f2,position:_f1,pixelOffset:new google.maps.Size(85,-8),maxWidth:130});var _f4=_ef.number;var _f5=0;for(var _f6=0;_f6<_2d.length;_f6++){if(_f4==_2f[_f6]){_f5=_f6;_2a[_f5].set("labelContent",_2d[_f6]);}else{_2a[_f6].set("labelContent",_2c[_f6]);}}_2a[_f4].overFlag=false;_2a[_f5].set("labelAnchor",new google.maps.Point(0,61));google.maps.event.addListener(_2a[_f5],"mouseover",function(){if(_2a[_f5].overFlag){if(_27){_27.close();}_f3.open(map);_27=_f3;var _f7=_9(".gm-style-iw").next();_10.set(_f7[0],{width:"0px",display:"none"});var _f8=_9(".gm-style-iw").prev().children();for(var x=0;x<_f8.length-1;x++){dojo.destroy(_f8[x]);}}});google.maps.event.addListener(_2a[_f5],"mouseout",function(){if(_27){_27.close();}});_29.showBranchDetails(_ef);});},showBranchDetails:function(_f9){_29.onDetailsPage=true;_29.serviceFinderDetails.innerHTML="";var _fa=_f9.services;var _fb=_f9.branchHours;var _fc=_f9.expressBankingHours;var _fd=_f9.contacts;var _fe=_29.displayDate();var _ff=_f9.todayOpenHours;var _100=_f9.addInfo;var _101;var _102={facility:_f9.facilities,name:_f9.name,distance:_f9.distance,address:_f9.address,locationId:_f9.locationId,date:_fe,workHrsBranch:_f9.branchHours,workHrsExpressBanking:_f9.expressBankingHours,shadowClass:_f9.locationIconShadowClass,resultNumber:_f9.resultNumber,colorCode:_f9.locationIconColorCode};_29.listing.style.display="none";_29.serviceFinderDetails.style.display="block";_101=new _e(_102).placeAt(_29.serviceFinderDetails);_29.loadServiceDetails(_fa,_101);_29.loadContactDetails(_fd,_101);_29.loadExpressBankingDetails(_fc,_101);if(_100&&_100.callOutText){_101.callOutText.innerHTML=_100.callOutText;}if(_ff&&_ff.length>=5){_101.notOpenTodayDetails.style.display="none";_101.openTodayDetails.innerHTML=_1b.openToday+_ff;}else{if(_ff&&_3e==="HK"&&_ff==="-"){_101.notOpenTodayDetails.style.display="inline-block";_101.notOpenTodayDetails.innerHTML=_1b.notOpenToday;}else{_101.openTodayDetails.innerHTML="";_101.notOpenTodayDetails.innerHTML="";}}var day=new Date().getUTCDay();var _103=_9("tr",_101.hours);var days=_9(_103," td");_9(_103.at(day-1)).children().style("fontFamily","Univers-Next-W02-Bold");on(_101.backButton,"click",function(){_29.onDetailsPage=false;for(var i=0;i<_2a.length;i++){_2a[i].set("labelContent",_2c[i]);_2a[i].set("labelAnchor",new google.maps.Point(0,30));_2a[i].overFlag=true;}_29.listing.style.display="block";_29.serviceFinderDetails.style.display="none";_29.serviceFinderDetails.innerHTML="";if(window.size==="small"){_2a[0].set("labelContent",_2d[0]);_9(".disclaimer-icon").style("display","inline-block");_9(".discwrapper.discmargin").style("display","none");_9(".rightsection").style("height","180px");}if(_29.customScrollBar){_29.customScrollBar.resizeScrollArea();_29.customScrollBar.scrollWindowNode.scrollTop=0;}});if(_36&&_37){_101.directionLink.style.display="block";on(_101.directionLink,"click",function(){var _104=_f9.latitude;var _105=_f9.longitude;var _106="https://www.google.com/maps/dir/";if(_1b.getDirectionsUrl){_106=_1b.getDirectionsUrl;}_106=_106+_36+","+_37+"/"+_104+","+_105;window.open(_106);});}else{_101.directionLink.style.display="none";}if(window.size==="small"){_9(".rightsection").style("height","128px");google.maps.event.trigger(map,"resize");map.setCenter(_2a[_f9.number].position);_2a[_f9.number].set("labelAnchor",new google.maps.Point(0,61));_9(".discwrapper.discmargin").style("display","block");_29.resultScrollList.scrollTop=0;}if(_29.customScrollBar){_29.customScrollBar.resizeScrollArea();_29.customScrollBar.scrollWindowNode.scrollTop=0;_10.set(_29.customScrollBar.scrollWindowNode,{"overflowX":"hidden"});}},getSelectedLocationTypes:function(){var _107=true;var _108=[];if(!_25){return _108;}for(var i=0;i<_25.length;i++){var _109=_a.byId(_25[i].id).checked;if(_109){_108.push({locationType:_25[i].id});}}if(_107&&(_108.length===0)){_108.push({locationType:"show-all-results"});}return _108;},getSelectedSubLocation:function(){var _10a;if(window.size==="small"){_10a=_13.get(_23.subLocationMobile,"value");}else{_10a=_13.get(_29.subLocation,"value");}return _10a;},currentMarkupLocationImage:function(_10b){var _10c=new google.maps.MarkerImage(_30+"/icons/place_icon.png");for(var i=0;i<_28.length;i++){_28[i].setMap(null);}_28=[];var _10d=new google.maps.Marker({position:_10b,map:map,icon:_10c,title:_1b.currentLocation});_28.push(_10d);},getImageIconContainer:function(code,_10e){var _10f=_10e;if(++_10f<10){_10f="0"+_10f;}var _110="<div class=\"boxShadowIcon\" style=\"background-color:"+this.getColorforImageIcon(code)+";height:20px; width:20px;color:white;float: left;margin-right: 5px;text-align:center;vertical-align: middle;line-height: 20px;\">"+_10f+"</div>";return _110;},getSelectedServices:function(){var _111=this;var _112=false;var _113=[];var _114=null;if(window.size==="small"){_114={service:_13.get(_23.serviceTypeMobile,"value")};}else{_114={service:_13.get(_111.serviceType,"value")};}_113.push(_114);if(_112&&(_113.length===0)){_113.push({service:"show-all-results"});}return _113;},getColorforImageIcon:function(code){var _115="#db0011";code="iconColor."+code;if(!this.configData||!this.configData[code]||!this.configData[code]["default"]){code="iconColor.default";}if(this.configData&&this.configData[code]&&this.configData[code]["default"]){_115=this.configData[code]["default"];}return _115;},onMarkerClick:function(_116){var _117=this;if(window.size==="small"){if(_117.onDetailsPage){_117.listing.style.display="block";_117.serviceFinderDetails.style.display="none";_117.serviceFinderDetails.innerHTML="";_9(".disclaimer-icon").style("display","inline-block");_9(".discwrapper.discmargin").style("display","none");_9(".rightsection").style("height","180px");}this.resultScrollList.scrollTop=_117.listItemsDifference*_116.number;}else{_117.showBranchDetails(_116);}},loadDropDownLocation:function(){var _118=_13.get(_29.subLocation,"value");if(window.size==="small"){_118=_13.get(_23.subLocationMobile,"value");}if(!_118){return false;}var _119=_118;_26.geocode({"address":_119},function(_11a,_11b){if(_11b==google.maps.GeocoderStatus.OK){var cLat="";var cLng="";var _11c="";var _11d="";var _11e="";var _11f="";if(_11a[0].geometry.location){cLat=_11a[0].geometry.location.lat();cLng=_11a[0].geometry.location.lng();_29.setCountryCodeFromGeoCode(_11a[0]);if(cLat&&cLng){var _120=new google.maps.LatLng(cLat,cLng);map.setCenter(_120);}}_11c=map.getBounds().getNorthEast().lat();_11d=map.getBounds().getNorthEast().lng();_11e=map.getBounds().getSouthWest().lat();_11f=map.getBounds().getSouthWest().lng();_38=cLat;_39=cLng;_3a=_11e;_3b=_11f;_3c=_11c;_3d=_11d;_29.callEnquireABSLSvc();}});},loadMyLocation:function(){this.serviceFinderDetails.style.display="none";this.listing.style.display="block";if(navigator.geolocation){var _121=null;checkForFindDistrcitZooomDrag=true;var _122=function(_123){clearTimeout(_121);_29.showFindMeButton();var clat=_123.coords.latitude;var _124=_123.coords.longitude;var _125=new google.maps.LatLng(clat,_124);_24=false;map.setZoom(_34);map.setCenter(_125);_36=clat;_37=_124;_38=map.center.lat();_39=map.center.lng();_40=map.zoom;if(map.getBounds()){_3c=map.getBounds().getNorthEast().lat();_3d=map.getBounds().getNorthEast().lng();_3a=map.getBounds().getSouthWest().lat();_3b=map.getBounds().getSouthWest().lng();}_29.currentMarkupLocationImage(_125);_29.callGeoCoderReverse(clat,_124);_29.callPrepareABSLSvc(false,false,false,true);};var _126=function(_127){clearTimeout(_121);if(!_29.isDataLoaded){_29.callPrepareABSLSvc(true,false,true,true);_29.loadingIcon.style.display="none";}};_121=setTimeout(_126,5000);navigator.geolocation.getCurrentPosition(_122,_126);}else{_29.callPrepareABSLSvc(true,false,true,true);}},loadServiceDetails:function(_128,_129){if(_128&&_128.length>0){_129.servicesAvailable.style.display="block";_129.servicesAvailable_separator.style.display="block";var _12a="";_12a="<span class='t14b serviceFeatures'>"+_1b.servicesAndFeatures+"</span>";_12a+="<ul class='bulletlist'>";for(var i=0;i<_128.length;i++){_12a+="<li class='servicelist'><span>"+_128[i].service+"</span></li>";}_12a+="</ul>";_f.create("div",{innerHTML:_12a},_129.servicesAvailable);}else{_129.servicesAvailable.style.display="none";_129.servicesAvailable_separator.style.display="none";}},loadContactDetails:function(_12b,_12c){if(_12b&&_12b.length>0){dojo.addClass(_12c.contactsBankDetails,"sectionList");var _12d="<span class='t14b dis-in-bl'>"+_1b.contact+"</span>";_12d+="<ul>";for(var i=0;i<_12b.length;i++){if(_12b[i]&&_12b[i].name==="Phone"&&_12b[i].value){_12d+="<li class='absl-contact'>"+"<span class='t14b devicename'>"+_12b[i].name+"</span>"+"<a href='tel:"+_12b[i].value.replace(/\((\d+)\)/,"+$1").replace(/\s/g,"")+"' class='t14r devicenum devicenumber'>"+_12b[i].value+"</a><span class='t14r devicenum desktopnumber'>"+_12b[i].value+"</span>"+"</li>";}else{_12d+="<li class='absl-contact'>"+"<span class='t14b devicename'>"+_12b[i].name+"</span>"+"<span class='t14r devicenum'>"+_12b[i].value+"</span>"+"</li>";}}_12d+="</ul>";_f.create("div",{innerHTML:_12d},_12c.contactsBankDetails);}},loadExpressBankingDetails:function(_12e,_12f){var flag=true;var i=0;for(i in _12e){if(_12e[i]!="00:00 - 23:59"){flag=false;break;}}if(flag){_12f.expressBankingWorkHrs.setAttribute("rowspan",7);_12f.expressBankingWorkHrs.innerHTML=_12f.expressBankingAccessible24Hrs.innerHTML;_f.destroy(_12f.tuesday);_f.destroy(_12f.wednesday);_f.destroy(_12f.thursday);_f.destroy(_12f.friday);_f.destroy(_12f.saturday);_f.destroy(_12f.sunday);}else{_12f.expressBankingWorkHrs.removeAttribute("rowspan");}},getCountryCode:function(){var cc=_3e;return cc;},getDefaultCountryCode:function(){var cc=_31;return cc;},getLanguageCode:function(){var lc=_3f;return lc;},getDefaultLanguageCode:function(){if(dojoConfig.locale){return dojoConfig.locale;}else{return _31;}},clearAddressSearchText:function(_130){var _131=_7.byId("abslAddressSearchText");_131.value=_130;},setCountryCodeFromGeoCode:function(_132){var _133=_132.address_components;var _134=_133[_133.length-1].short_name;_3e=_134;if(_3e!==_134){_3e=_134;}},onMapGeocodeChange:function(_135){if(_3e!==_135.countryCode){_29.onCountryChange(_135.countryCode);}else{_29.callEnquireABSLSvc();}},onCountryChange:function(_136){_3e=_136;_29.callPrepareABSLSvc(false,true,false,false);},convertGeocodeResults:function(_137){var _138=null;if(_137&&_137[0]){var _139=_137[0];var _13a="";if(_139.address_components){var _13b=_139.address_components;var _13c=false;var i=0,j=0;for(i=0;i<_13b.length;i++){for(j=0;j<_13b[i].types.length;j++){if(_13b[i].types[j]==="country"){_13a=_13b[i].short_name;_13c=true;break;}}if(_13c){break;}}}var _13d={countryCode:_13a};_138=_13d;}return _138;},onMapChange:function(){var _13e=_9(".rightsection");var _13f={height:"180px"};if(window.size==="small"){_10.set(_13e[0],_13f);}_38=map.center.lat();_39=map.center.lng();_40=map.zoom;_3a=map.getBounds().getSouthWest().lat();_3b=map.getBounds().getSouthWest().lng();_3c=map.getBounds().getNorthEast().lat();_3d=map.getBounds().getNorthEast().lng();if(_29.isRestrictedRegion(_48,_49,_4a,_4b)||_29.isRestrictedRegion(_4c,_4d,_4e,_4f)){var _140=new google.maps.LatLng(_41,_42);map.setCenter(_140);map.zoom=_43;}else{_41=_38;_42=_39;_43=_40;_44=_3a;_45=_3b;_46=_3c;_47=_3d;_29.callGeoCoderReverse(_38,_39);}_29.resetDropDownDefaultValue();},callGeoCoderReverse:function(lat,lng){var _141=new google.maps.LatLng(lat,lng);_26.geocode({"latLng":_141},function(_142,_143){var _144=null;if(_143==google.maps.GeocoderStatus.OK){_144=_29.convertGeocodeResults(_142);_29.onMapGeocodeChange(_144);}});},displayDate:function(){var _145=new Date();var day=_145.getUTCDay();var _146=null;if(day==1){_146="monday";}else{if(day==2){_146="tuesday";}else{if(day==3){_146="wednesday";}else{if(day==4){_146="thursday";}else{if(day==5){_146="friday";}else{if(day==6){_146="saturday";}else{if(day===0){_146="sunday";}}}}}}}return _146;},createLegends:function(_147){var _148="";if(_147&&_147.locationTypes&&_147.locationTypes.length>0){_29.legendBar.innerHTML="";if(_36&&_37){_148="<span class=\"legend-text\"><span><em class=\"icon-location icon-location-text\"></em></span><span class=\"legend-space\">"+_1b.currentLocation+"</span></span>";}for(var i=0;i<_147.locationTypes.length;i++){var id=_147.locationTypes[i].id;var desc=_147.locationTypes[i].desc;if(id!=="show-all-results"){_148=_148+"<span class=\"legend-text\">"+"<img alt=\"\" class=\"imag-align\" src=\""+_30+"/absl_"+id+"_icon.png\" ></img>"+"<span class=\"legend-space\">"+desc+"</span>"+"</span>";}}_f.place(_148,_29.legendBar);}},addDropDownScrollBar:function(_149){dropDown=dojo.query("#"+_149+"_dropdown")[0];var _14a=dojo.query(".dijitMenuItem",dropDown);var _14b=_14a.length*_14a[0].clientHeight;if(_14b>dropDown.clientHeight){dojo.query(".scrollBar",dropDown)[0].style.display="block";}},isRestrictedRegion:function(_14c,_14d,_14e,_14f){var _150=false;if(_40>=_50){var _151=[new google.maps.LatLng(_14c,_14d),new google.maps.LatLng(_14e,_14d),new google.maps.LatLng(_14e,_14f),new google.maps.LatLng(_14c,_14f)];var _152=[new google.maps.LatLng(_3a,_3b),new google.maps.LatLng(_3c,_3b),new google.maps.LatLng(_3c,_3d),new google.maps.LatLng(_3a,_3d)];var _153=new google.maps.Polygon({paths:_151});var _154=new google.maps.Polygon({paths:_152});var i;for(i=0;i<_152.length;i++){if(google.maps.geometry.poly.containsLocation(_152[i],_153)){_150=true;break;}}if(_150===false){for(i=0;i<_151.length;i++){if(google.maps.geometry.poly.containsLocation(_151[i],_154)){_150=true;break;}}}}return _150;}});});},"url:hdx/dijits/reusableComponents/templates/ErrorMessage.html":"<div role=\"alert\" data-dojo-attach-point=\"error\" class=\"error-message\">\n    <em data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-info\" aria-hidden=\"true\"></em>\n    <span data-dojo-attach-point=\"errorRead\" class=\"error-text-alignment\">\n        <span class=\"accessibleHidden\" data-dojo-attach-point=\"errorCount\"></span>\n        <span data-dojo-attach-point=\"errorText\"></span>\n    </span>\n</div>","url:hdx/bijits/tools/cashInstalmentInterestCalculator/template/CashInstalmentCalculator.html":"<div class=\"tools w-tol-cnt-2 cash-instalment-calculator intresetcalculator-resources l-twelve m-eight s-four columns nopad\">\n    <div class=\"reusable-int-calc cashinstallmenttool\" id=\"intrestCalculator\">\n\n        <!-- Expand / Collapse  -->\n        <div class=\"l-twelve m-eight s-four columns mobile-pad-l mobile-pad-r\">\n            <!-- Mobile view heading -->\n            <p class=\"cal-heading showonmobile\" id=\"intrestCalculator-focus\">${i18n.repaymentCalctitle}</p>\n            <span class=\"collapse-control\" data-dojo-attach-point=\"collapseControl\">\n                <button class=\"expand\" type=\"button\" data-dojo-attach-event=\"click:clickShowDetail\" data-dojo-attach-point=\"showDetail\">\n                    <span class=\"hideonmobile\">${i18n.repaymentCalcShowDetailBtn}</span><em class=\"icon-chevron-down\"></em>\n                    <span class=\"accessibleHidden expandedSpan\">${i18n.accessShowDetail}</span>\n                </button>\n                <button class=\"collapse\" type=\"button\" data-dojo-attach-event=\"click:clickHideDetail\" data-dojo-attach-point=\"hideDetail\">\n                    <span class=\"hideonmobile\">${i18n.repaymentCalcHideDetailBtn}</span><em class=\"icon-chevron-up\"></em>\n                    <span class=\"accessibleHidden expandedSpan\">${i18n.accessHideDetail}</span>\n                </button>\n            </span>\n        </div>\n\n        <!-- Column 1 -->\n        <!-- Heading disclaimer section -->\n        <div class=\"l-four m-five s-four columns tab-first-col desktop-pad-l tablet-pad-l mobile-pad-l mobile-pad-r\">\n            <h3 class=\"cal-heading hideonmobile\" id=\"intrestCalculator-focus\">${i18n.repaymentCalctitle}</h3>\n            <div class=\"collapsed-hidden\">\n                <p class=\"\">${i18n.repaymentCalcHeading}</p>\n                <p class=\"cal-disclaimer disclaimer-desktop expanded-display\"><span>${i18n.repaymentCalcDisclaimer}</span></p>\n            </div>\n        </div>\n\n        <!-- Column 2 -->\n        <!-- Form components section -->\n        <div class=\"l-four m-five s-four columns tablet-pad-l mobile-pad-l mobile-pad-r collapsed-hidden\" data-dojo-attach-point=\"calcContent\">\n            <h4 class=\"heading t22l\">${i18n.column1Heading}</h4>\n            <div class=\"cal-form collapsed-hidden \">\n                <form action=\"\">\n\t\t\t\t\t<span class=\"t16r\">${i18n.repaymentCalcwithdrawlamt}</span>\n                    <div>\n                        <div data-dojo-attach-point=\"cashWithdrawalAmount\" style=\"width: 100%\" class=\"cal-enter-amount\">\n                        </div>\n                    </div>\n                    <div data-dojo-attach-point=\"cashWithdrawalAmountSlider\"><span class=\"accessibleHidden\" id=\"cashWithdrawalAmountSlider\" data-dojo-attach-point=\"cashWithdrawalAmountSliderSrt\" aria-live=\"polite\"></span></div>\n                    <div class=\"expanded-display\">\n                        <div class=\"l-six m-four s-four columns desktop-pad-l mobile-pad-l mobile-pad-r tablet-pad-l\">\n                            <div id=\"repaymentCalcMonthlyfeeLabel\" class=\"cal-od-days\">${i18n.repaymentCalcMonthlyfeeLabel}</div>\n                            <div >\n                                <div data-dojo-attach-point=\"monthlyHandlingFee\"  class=\"monthfee\" data-dojo-props=\"name: 'repaymentMonthlyFee'\"></div >\n                                <div data-dojo-attach-point=\"monthlyHandlingFeeSlider\"><span class=\"accessibleHidden\" id=\"monthlyHandlingFeeSlider\" data-dojo-attach-point=\"monthlyHandlingFeeSliderSrt\" aria-live=\"polite\"></span></div>\n                            </div>\n                        </div>\n                        <div class=\"l-six m-four s-four columns mobile-pad-l mobile-pad-r tablet-pad-r\">\n                            <div  class=\"cal-od-period\">${i18n.repaymentCalcrepaymentPeriod}\n                            </div>\n                            <div class=\"rep-dropdown\" >\n                                <span id=\"repaymentPeriod\" class=\"accessibleHidden\" >${i18n.repaymentCalcrepaymentPeriodLabel}</span >\n                                <div data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" aria-labelledby=\"repaymentPeriod\" data-dojo-props=\"maxHeight:'260',scrollOnFocus :true,forceWidth:true\"\n                                    data-dojo-attach-point=\"repaymentPeriod\" data-dojo-select-width=\"custmized\" data-dojo-custom-class=\"cashinstallmentmonthselect\" ></div >\n                            </div >\n                        </div>\n                        <div class=\"m-four columns arrowdown showonmobile mobile-arrrow-border\">\n                        </div>\n                    </div>\n                </form>\n                <div class=\"\">\n                    <p class=\"cal-disclaimer disclaimer-tablet expanded-display\"><span>${i18n.repaymentCalcDisclaimer}</span>\n                    </p>\n                </div>\n            </div>\n        </div>\n\n        <!-- Column 3 -->\n        <!-- Calculation results section -->\n\t\t<div class=\"l-four m-three s-four columns mobile-pad-l mobile-pad-r\">\n            \n            <div>\n            <div class=\"cal-int-col col3-first-val expanded-display\">\n                <h4 class=\"heading t22l\">${i18n.column2Heading}</h4>\n                <div class=\"column2-spacing\"></div>\n                <p id=\"${i18n.currency}\" class=\"col3-text bold\">${i18n.repaymentCalcRepaymentTitle}</p>\n                <div class=\"pos-relative\">\n\t                <span aria-labelledby=\"${i18n.currency}\" class=\"cal-int-currency\">${i18n.currency}</span>\n\t                <span class=\"cal-int-val\" data-dojo-attach-point=\"dailyInterestValue\"></span>\n                </div>\n                <p class=\"month-fee\">${i18n.repaymentCalcRepaymentdesc}</p>\n            </div>\n            <div class=\"cal-int-col expanded-display\">\n\t\t\t<p id=\"${i18n.currency}\" class=\"col3-text bold\">${i18n.repaymentCalcDailyAvgFeeText}</p>\n\t\t\t<div class=\"pos-relative\">\n\t                <span aria-labelledby=\"${i18n.currency}\" class=\"cal-int-currency\">${i18n.currency}</span>\n\t                <span class=\"cal-int-val remove-margin-b\" data-dojo-attach-point=\"totalPaymentValue\"></span>\n                \t<div class=\"pos-relative\"></div>\n\t\t\t</div>\n\t\t\t<div class=\" collapsehidedisc\" >\n\t\t\t\t<p class=\"cal-disclaimer od-cal-desc disclaimer-mobile expanded-display\" ><span >${i18n.repaymentCalcDisclaimer}</span ></p >\n\t\t\t</div >\n       \t </div>\n       \t </div>\n\t\t</div>\n\n        <!-- Collapsed Display -->\n        <!-- collapse view section -->\n        <div class=\"l-eight  m-six s-four columns tablet-pad-l tablet-pad-r mobile-pad-l mobile-pad-r collapsed-display\">\n            <div class=\"leftmontlyfee\">\n                <p class=\"daily-int-col\">${i18n.repaymentCalcRepaymentText}</p>\n                <p class=\"monthly-col\">\n                    <span class=\"daily-int-txt-col\">${i18n.currency}</span> \n                    <span class=\"overdraft-space-col\" data-dojo-attach-point=\"dailyInterestValue1\"></span>\t\t\t\n                </p>\n            </div>\n            <div class=\"rightmonthlyfee fees-padding\">\n                <p class=\"daily-int-col\">${i18n.repaymentCalcDailyAvgFeeText}</p>\n                <p class=\"monthly-col\">\n                    <span class=\"daily-int-txt-col\">${i18n.currency}</span> \n                    <span class=\"overdraft-space-col\" data-dojo-attach-point=\"totalPaymentValue1\"></span>\t\t\t\n                </p>\n            </div>\n           \n        </div>\n    </div>\n</div>","hdx/bijits/tools/liveInterestRate/liveInterestRateCalculator":function(){require({cache:{"url:hdx/bijits/tools/liveInterestRate/template/liveInterestRateCalculator.html":"<div class=\"intresetcalculator-resources l-twelve m-eight s-four columns nopad\">  \n    \n    <div class=\"int-calc-error\">\n        <div class=\"l-twelve m-eight s-four columns error-msg\" data-dojo-attach-point=\"interestRateServiceError\" style=\"display:none\"></div>\n    </div>\n    <div data-dojo-attach-point=\"interestRateCalculator\" style=\"display:none\">\n        <div class=\"reusable-int-calc foreigncurrency\">\n        \t<div class=\"l-twelve m-eight s-four columns hideonmobile cal-toggle\">\n\t\t       <form>\n\t\t           <button type=\"button\" data-dojo-attach-point=\"showDetail\" class=\"t14r\"  data-dojo-attach-event=\"click:clickshowDetail\">\n\t\t           <span>${i18n.showdetails}<em class=\"icon-chevron-down cal-btn\"></em></span><span class=\"accessibleHidden expandedSpan\">${i18n.accessShowdetails}</span>\n\t\t           </button>\n\t\t           <button type=\"button\" data-dojo-attach-point=\"hideDetail\" class=\"cal-collapse t14r\" data-dojo-attach-event=\"click:clickhideDetail\">\n\t\t           <span>${i18n.hidedetails}<em class=\"icon-chevron-up cal-btn\"></em></span><span class=\"accessibleHidden expandedSpan\">${i18n.accessHidedetails}</span>\n\t\t           </button>\n\t\t       </form>\n\t\t   </div>\n            <div class=\"l-twelve m-eight s-four columns showonmobile mobile-pad-l mobile-pad-r\">\n                <p class=\"t28b cal-heading\" id=\"intrestCalculator-focus\">${i18n.interestCalculator}</p>\n                <span class=\"showonmobile\">\n                <button class=\"collapse icon-chevron-down\" id=\"detailsSeaarchMoremob\" type=\"button\" data-dojo-attach-event=\"click:clickshowDetail\" data-dojo-attach-point=\"mobileShowDetail\">\n                <span class=\"icon-chevron-down-overdraft\"></span><span class=\"accessibleHidden expandedSpan\">${i18n.accessShowdetails}</span>\n                </button>\n                <button class=\"expand icon-chevron-up hide\" id=\"detailsSeaarchLessmob\" type=\"button\" data-dojo-attach-event=\"click:clickhideDetail\"  data-dojo-attach-point=\"mobileHideDetail\">\n                <span class=\"icon-chevron-up-overdraft\"></span><span class=\"accessibleHidden expandedSpan\">${i18n.accessHidedetails}</span>\n                \n                </button>\n                </span>\n            </div>\n            <div class=\"l-four m-five s-four columns tab-first-col desktop-pad-l tablet-pad-l mobile-pad-l mobile-pad-r\">\n                <h3 class=\"t28b cal-heading hideonmobile\">${i18n.interestCalculator}</h3>\n                <div data-dojo-attach-point=\"description\">\n                    <p>${i18n.intDesc}</p>\n                    <p class=\"cal-disclaimer cont-hide\">\n                        <span>${i18n.disclaimer}</span>\n                    </p>\n                </div>\n            </div>\n            <div class=\"l-four m-five s-four columns tablet-pad-l mobile-pad-l mobile-pad-r\" data-dojo-attach-point=\"calcContent\" style=\"padding-left:0px;\">\n                <div class=\"cal-form cal-form-lay\">\n                    <form action=\"\">\n                        <h4 class=\"t16r cal-od-amt\">${i18n.depositeAmount}\n                        </h4>\n                        <div class=\"cal-form currency-cal\">\n                            <div data-dojo-attach-point=\"currencyDropDown\">\n                                <span id=\"depositAmount\" class=\"accessibleHidden\" style=\"visibility: hidden;\">${i18n.depositeAmount} ${i18n.dropdown}</span >\n                                <select name=\"\" class=\"request_cb_drop_country_select request_callBack_dropdowns\" data-dojo-props=\"maxHeight:'290'\" data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" aria-atomic=\"true\" data-dojo-attach-point=\"requestCbCountry\" aria-labelledby=\"depositAmount\" data-dojo-custom-class=\"cureencyCalDropMenu\" data-dropdown-attach-point=\"request-callBack-dropDown3\" ></select >\n                            </div>\n                            <div id=\"depositAmountTextBox\" class=\"accessibleHidden\">${i18n.depositeAmount}</div>\n                            <div data-dojo-attach-point=\"depositAmount\"></div>\n                        </div>\n                        <div data-dojo-attach-point=\"depositAmountSliderWrapper\">\n                            <div data-dojo-attach-point=\"depositAmountSlider\"><span class=\"accessibleHidden\" id=\"depositAmountSlider\" data-dojo-attach-point=\"depositAmountSliderSrt\" aria-live=\"polite\"></span></div>\n                        </div>\n                        <div class=\"hide detealSearchSectionNode\" data-dojo-attach-point=\"detailSearchSection\">\n                            <span class=\"t16r cal-od-days\" data-dojo-attach-point=\"depositPeriodLabel\">${i18n.depositePeriod} </span>\n                            <div >\n                                <span id=\"depositPeriod\" class=\"accessibleHidden\">${i18n.depositePeriodLabel}</span >\n                                <select data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" data-dojo-props=\"maxHeight:'260'\" data-dojo-attach-point=\"depositPeriod\" data-dojo-select-width=\"custmized\" data-dojo-custom-class=\"timeDepositemonthselect\" aria-labelledby=\"depositPeriod\" aria-haspopup=\"true\"></select>\n                                <span class=\"accessibleHidden expandedSpan\"> Select to Expand. </span>\n                            </div >\n                        </div>\n                    </form>\n                </div>\n                <div class=\"showontablet\">\n                    <p class=\"cal-disclaimer remove-margin-b\">\n                        <span>${i18n.disclaimer} </span>\n                    </p>\n                </div>\n            </div>\n            <div class=\"l-four m-three s-four columns tablet-pad-r mobile-pad-l mobile-pad-r\" data-dojo-attach-point=\"calcSection\" style=\"height:auto;\">                \n                <div class=\"hide\" data-dojo-attach-point=\"InterestRepayment\">\n                \t<h4 class=\"accessibleHidden\">${i18n.interestCalculatorDetails}</h4>\n                    <div class=\"cal-int-col col3-first-val\" data-dojo-attach-point=\"interestSec\">\n                        <p class=\"col3-text\">${i18n.inerestAtMaturity}</p>\n                        <span class=\"cal-int-currency\" data-dojo-attach-point=\"maturityCurrency\"></span>\n                        <span class=\"cal-int-val\" data-dojo-attach-point=\"interestAtMaturity\"></span>\n                    </div>\n                    <div class=\"cal-int-col\" data-dojo-attach-point=\"maturityDate\">\n                        <p class=\"col3-text\" data-dojo-attach-point=\"maturityDateLabel\">${i18n.maturityDate}</p>\n                        <span class=\"cal-int-val remove-margin-l\" data-dojo-attach-point=\"maturityDate\"></span>\n                    </div>\n                    <div class=\"cal-int-col\" data-dojo-attach-point=\"interestRate\">\n                        <p class=\"col3-text\">${i18n.interestRate}</p>\n                        <span class=\"cal-int-val remove-margin-b remove-margin-l\" data-dojo-attach-point=\"interestRate\"></span>\n                    </div>\n                </div>\n                <div class=\"l-twelve m-eight s-four columns hide collapse-width tablet-pad-l mobile-pad-l mobile-pad-r\" data-dojo-attach-point=\"collapseInfo\">\n                    <div class=\"cal-int-col col3-first-val first-val\">\n                        <p class=\"col3-text\">${i18n.inerestAtMaturity}</p>\n                        <span class=\"cal-int-currency\" data-dojo-attach-point=\"maturityCurrencyCollapsed\">HKD</span>\n                        <span class=\"cal-int-val\" data-dojo-attach-point=\"interestAtMaturityCollapsed\"></span>\n                    </div>\n                    <div class=\"cal-int-col col3-first-val second-val\">\n                        <p class=\"col3-text\">${i18n.maturityDate}</p>\n                        <span class=\"cal-int-val remove-margin-b remove-margin-l\" data-dojo-attach-point=\"maturityDateCollapsed\"></span>\n                    </div>\n                    <div class=\"cal-int-col col3-first-val third-val\">\n                        <p class=\"col3-text\">${i18n.interestRate}</p>\n                        <span class=\"cal-int-val remove-margin-b  remove-margin-l\" data-dojo-attach-point=\"interestRateCollapsed\"></span>\n                    </div>\n                    <div class=\" summary hide\" style=\"clear: both;\" data-dojo-attach-point=\"summary\"></div>\n                </div>\n                <div class=\"showonmobile\" data-dojo-attach-point=\"discMobile\">\n                    <p class=\"cal-disclaimer\">\n                        <span>${i18n.disclaimer}</span>\n                    </p>\n                </div>\n            </div>\n        </div>\n        <div class=\"t14r disclimernote interest-rate-calc\">\n\t    \t<p data-dojo-attach-point=\"footernote_cny\"></p><br/>\n\t\t\t<p data-dojo-attach-point=\"footernote_basis\"></p>\n\t\t\t<p data-dojo-attach-point=\"footernote_hkd\"></p><br/>\n\t\t\t<p data-dojo-attach-point=\"footernote_offer\"></p>\n\t\t</div>\n    </div>\n</div>"}});define("hdx/bijits/tools/liveInterestRate/liveInterestRateCalculator",["dojo/_base/declare","hsbc/eca!dojo/i18n!pws/Components/client/liveInterestRate/nls/liveInterestRateCalculator_nls","dojo/dom-class","dijit/_TemplatedMixin","hsbc/_ECAMixin","dijit/_WidgetsInTemplateMixin","dojo/_base/array","dijit/_WidgetBase","dojo/dom","dojo/request","dijit/Tooltip","dojo/dom-construct","dojo/on","dojo/keys","dojo/date","dojo/date/locale","hdx/dijits/form/Select","dojo/_base/lang","dojo/query","dijit/registry","dojo/text!./template/liveInterestRateCalculator.html","hdx/dijits/reusableComponents/CustomizedHorizontalRangeSlider","dijit/form/HorizontalSlider","dijit/form/HorizontalRule","dijit/form/HorizontalRuleLabels","dojo/_base/connect","dojo/ready","dojo/_base/window","dijit/focus","dojo/json","dojo/number","dojo/dom-style","dojo/dom-geometry","hsbc/_PWSEndpointMixin","dojo/domReady!","hdx/dijits/reusableComponents/CustomizedTextBox","hsbc/eca!pws/Components/client/liveInterestRate/config/InterestRateCalculatorConfig","hsbc/eca!pws/Components/client/liveInterestRate/config/InterestRateCurrencyList","dojo/dom-attr","hsbc/utilities/CommonUtil"],function(_155,i18n,_156,_157,_158,_159,_15a,_15b,dom,_15c,_15d,_15e,on,keys,date,_15f,_160,lang,_161,_162,_163,_164,_165,_166,_167,_168,_169,win,_16a,json,_16b,_16c,_16d,_16e,_16f,_170,_171,_172,_173,_174){return _155("hdx.bijits.tools.liveInterestRate.liveInterestRateCalculator",[_15b,_157,_159,_158,_16e],{templateString:_163,i18n:i18n,depositAmountValue:i18n.depositAmountDefaultValue,depositAmountSliderMaxValue:i18n.depositAmountMaxValue,depositAmountSliderMinValue:i18n.depositAmountMinValue,depositAmountSliderRef:null,interestRateValue:i18n.interestRateVal,depositAmountSliderDiscreteValues:i18n.depositAmountSliderDiscreteValues,greenTickMark:_15e.toDom("<span class=\"icon-agree request_cb_green_tick\">"),amountInterval:null,amountIntervalIndex:null,_retrieveDepositRatesEndPoint:null,_retrieveHolidayInfoEndPoint:null,depositRateData:null,holidayInfoThisYearData:null,holidayInfoNextYearData:null,depositamountindex:0,maturitydate:null,depositAmountTextBox:null,depositAmountSliderBar:null,countryCode:"HKD",showCurrencyDropDown:false,isLoadBackendSkipped:true,todayDateString:"",trackingCountryCode:null,trackingTransactionTotal:null,trackingTransactionTimePeriod:null,postCreate:function(){this.isPostCreate=true;this.isLogEvent=true;this.inVal_how="";this.sliderEflag="";this.showCurrencyDropDown=this.isCurrencyDropDownShow();if(this.showCurrencyDropDown){this.bindCurrencyDropdown();this.currencyDropDown.style.display="block";}else{this.currencyDropDown.style.display="none";}this.bindDepositPeriodDropdown();var _175=this.getDefaultCurrency();this.loadBackendData(_175,true);},getDefaultCurrency:function(){var _176="HKD";var data=dojo.fromJson(this["data-ext-props"]);if(data){_176=data.defaultCurrency;}return _176;},isCurrencyDropDownShow:function(){var _177=false;var data=dojo.fromJson(this["data-ext-props"]);if(data){_177=data.isCurrencyDropDownShow;}return _177;},getThisYear:function(_178){var _179=new Date();if(_178){_179=_174.convertStringToDate(_178,"");}var yyyy=_179.getFullYear();return yyyy;},getNextYear:function(_17a){return this.getThisYear(_17a)+1;},loadBackendData:function(_17b,_17c){this.callRtrvDepositRatesSvc(_17b,_17c);},createUIElement:function(_17d,_17e,_17f){var _180=this;var _181=_174.getConfiguration(_171.InterestRateCalculatorConfig);var _182=(_181.interestRateAmountMaxValue&&_181.interestRateAmountMaxValue["default"])?_181.interestRateAmountMaxValue["default"]:"";var _183=(_181.interestRateAmountDecimalPlaces&&_181.interestRateAmountDecimalPlaces["default"])?_181.interestRateAmountDecimalPlaces["default"]:"";var _184=(_181.interestRateAmountIsMandatory&&_181.interestRateAmountIsMandatory["default"])?_181.interestRateAmountIsMandatory["default"]:"";_184=(_184==="Y")?true:false;var _185=(_181.interestRateAmountDiscreteValue&&_181.interestRateAmountDiscreteValue["default"])?_181.interestRateAmountDiscreteValue["default"]:"";var _186="depositAmountSlider_0";if(!_17f){_180.depositAmountTextBox.destroy();dojo.empty(_180.depositAmountSlider);var _187=_180.depositAmountSliderBar.name.split("_");_186=_187[0]+"_"+(Number(_187[1])+1);}var _188=i18n.errMsg_depositAmountTooSmall;_188=_188.replace("{0}",i18n[_17d+"_prefix"]+_16b.format(_17e)+i18n[_17d+"_suffix"]);_188=_188.replace("{1}",i18n[_17d+"_prefix"]+_16b.format(_182)+i18n[_17d+"_suffix"]);if(_180.showCurrencyDropDown){_180.depositAmountTextBox=new _170({type:"NumericDecimalPlace",maxAmount:_182,minAmount:_17e,defaultAmount:_17e,decimalPlaces:_183,validateMandatory:_184,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_depositAmountInvalid,invalidMsgDecimalPlaces:i18n.errMsg_depositAmountDecimalPlace,invalidMsgAmountTooLarge:_188,invalidMsgAmountTooSmall:_188,invalidMsgEmpty:_188,updateInvalidValueWhenBlur:false,labeltext:i18n.depositeAmountTextbox});}else{var _189=(i18n[this.getDefaultCurrency()+"_prefix"])?(i18n[this.getDefaultCurrency()+"_prefix"]):"";var _18a=(i18n[this.getDefaultCurrency()+"_suffix"])?(i18n[this.getDefaultCurrency()+"_suffix"]):"";_180.depositAmountTextBox=new _170({type:"NumericDecimalPlace",prefixText:_189,suffixText:_18a,maxAmount:_182,minAmount:_17e,defaultAmount:_17e,decimalPlaces:_183,validateMandatory:_184,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_depositAmountInvalid,invalidMsgDecimalPlaces:i18n.errMsg_depositAmountDecimalPlace,invalidMsgAmountTooLarge:_188,invalidMsgAmountTooSmall:_188,invalidMsgEmpty:_188,updateInvalidValueWhenBlur:false,labeltext:i18n.depositeAmountTextbox});}_180.depositAmountTextBox.placeAt(_180.depositAmount);_173.set(_180.depositAmountTextBox,"aria-required","true");if(this.showCurrencyDropDown){_156.add(_180.depositAmountTextBox.domNode,"dropdown-present");}else{_156.add(_180.depositAmountTextBox.domNode,"dropdown-absent");}_180.depositAmountSliderBar=new _164({placeLocation:_180.depositAmountSlider,inputHandler:_180.depositAmountTextBox.textbox,value:parseFloat(_17e),minValue:parseFloat(_17e),maxValue:parseFloat(_182),decimalPlaces:_183,name:_186,sliderButtons:false,currency:true,currencyLabel:i18n[_17d].split("|")[1].split(" ")[0],currencyLabelSuffix:"",discreteValues:_185,labelText:i18n.depositeAmountSlider});this.depositAmountSliderSrt.innerHTML=this.depositAmountTextBox.textbox.value;_173.set(_162.byId(this.depositAmountSliderBar.name),"aria-describedby","depositAmountSlider");if(_180.showCurrencyDropDown){dojo.setAttr(_180.requestCbCountry.valueNode,"id","requestCbCountry");}},bindEvents:function(){var _18b=this;var _18c=0;var _18d=false;var _18e=function(_18f){_18f.preventDefault();var _190=_174.getTextBoxValue(this.depositAmountTextBox);var _191=this.getAmountInterval(this.depositRateData);_190=_16b.parse(_190);if(this.depositAmountTextBox.isValid()){var _192=_16b.parse(_190);if(!isNaN(_192)){this.sliderEflag="Typed";this.inVal_how="Typed";_162.byId(this.depositAmountSliderBar.name).set("value",_192);if(_18f.keyCode>=48&&_18f.keyCode<=57||_18f.keyCode>=96&&_18f.keyCode<=105||_18f.keyCode===8){if(_18c===_192){this.depositAmountSliderSrt.innerHTML=this.depositAmountTextBox.textbox.value;this.updateCalculationResult(_18b.maturitydate);}}this.inVal_how="";}else{_18b.clearCalculationResult();}_18c=_16b.parse(_190);}else{_18b.clearCalculationResult();}this.showDetailSearch();};var _193=function(){if(this.depositAmountTextBox.isValid()){var _194=_174.getTextBoxValue(this.depositAmountTextBox);this.depositAmountTextBox.textbox.value=_174.removeFormat(_194,this.depositAmountTextBox.decimalPlaces);}if(!_194){_194=this.depositAmountSliderBar.value;}};var _195=function(){this.inVal_how="Typed";var _196=_174.getTextBoxValue(this.depositAmountTextBox);if(this.depositAmountTextBox.isValid()){var _197=_16b.parse(_196);if(!isNaN(_197)){this.depositAmountTextBox.textbox.value=_174.decimalFormat(_196,this.depositAmountTextBox.decimalPlaces);var _198=this.depositRateData.depositRates.timedDepositRates.depositRateList;var _199=this.getAmountIntervalIndex(this.amountInterval,_197);if(_199!=this.depositamountindex){this.renewDropdown(_198[_199].depositRateList);this.depositamountindex=_199;}this.depositAmountTextBox.setSuffix();var _19a=this._createTrackingEvent("click","Update");_19a["event_content"]="Changed | deposit amount | input";_174.submitTealium(_19a);}}this.showDetailSearch();};on(this.depositAmountTextBox.textbox,"focus",lang.hitch(this,_193));on(this.depositAmountTextBox.textbox,"keyup",lang.hitch(this,_18e));on(this.depositAmountTextBox.textbox,"blur",lang.hitch(this,_195));on(_162.byId(this.depositAmountSliderBar.name),"change",function(_19b){_18d=true;_18b.depositAmountSliderBar.value=_19b;if(_18b.sliderEflag!=="Typed"){_18b.depositAmountTextBox.textbox.value=_174.roundNumber(_19b,2,_18b.depositAmountSliderBar.decimalPlaces,_18b.depositAmountSliderBar.minValue,_18b.depositAmountSliderBar.maxValue);_174.removeValidationError(_18b.depositAmountTextBox);var _19c=_18b.depositRateData.depositRates.timedDepositRates.depositRateList;var _19d=_16b.parse(_18b.depositAmountTextBox.textbox.value);var _19e=_18b.getAmountIntervalIndex(_18b.amountInterval,_19d);if(_19e!=_18b.depositamountindex){_18b.renewDropdown(_19c[_19e].depositRateList);_18b.depositamountindex=_19e;}}_18b.depositAmountTextBox.setSuffix();if(_18d){_18b.depositAmountSliderSrt.innerHTML=_18b.depositAmountTextBox.textbox.value;_18b.updateCalculationResult(_18b.maturitydate);}else{_18d=false;}_18b.showDetailSearch();_18b.inVal_how="";_18b.sliderEflag="";});on(_162.byId(this.depositAmountSliderBar.name),"mouseup",function(_19f){if(_18b.inVal_how!="Typed"){_18b.isLogEvent=true;_18b.updateCalculationResult(_18b.maturitydate);var _1a0=_18b._createTrackingEvent("click","Update");_1a0["event_content"]="Changed | deposit amount | Slider";_174.submitTealium(_1a0);}else{_18b.clearCalculationResult();}});},bindDepositPeriodDropdown:function(){var _1a1=this;_1a1.depositPeriod.on("change",function(_1a2){_1a1.maturitydate=_1a1.updateMaturityDate();_1a1.updateCalculationResult(_1a1.maturitydate);var _1a3=_1a1._createTrackingEvent("click","Update");_1a3["event_content"]="Changed | how long for | input";_174.submitTealium(_1a3);});},bindCurrencyDropdown:function(){var _1a4=this;_1a4.requestCbCountry.on("change",function(_1a5){if(!_1a4.isLoadBackendSkipped){_1a4.loadBackendData(_1a5,false);}else{_1a4.isLoadBackendSkipped=false;}});_1a4.requestCbCountry.dropDown.on("itemclick",lang.hitch(this,function(item){dojo.query(".request_cb_green_tick").forEach(dojo.destroy);_15e.place(this.greenTickMark,_161(".request_cb_country_code",item.domNode)[0]);var _1a6=_161(".request_cb_countries.selected .request_cb_country_code.country-name")[0].innerHTML;var _1a7=_1a6.split(" ");_161(".request_cb_countries.selected .request_cb_country_code.country-name")[0].innerHTML=_1a7[0];_1a4.showDetailSearch();}));},_setRetrieveDepositRatesEndPointAttr:function(_1a8){this._retrieveDepositRatesEndPoint=_1a8;},_setRetrieveHolidayInfoEndPointAttr:function(_1a9){this._retrieveHolidayInfoEndPoint=_1a9;},callRtrvDepositRatesSvc:function(_1aa,_1ab,_1ac){var _1ad=this;var req={"locale":dojoConfig.locale,"currencyCode":_1aa};var url=this._retrieveDepositRatesEndPoint.url;var _1ae=this._retrieveDepositRatesEndPoint.retry;_15c.post(url,{data:json.stringify(req),headers:{"Content-Type":"application/json"}}).then(lang.hitch(this,function(_1af){var data=json.parse(_1af);if(data&&data.depositRates&&data.depositRates.timedDepositRates&&data.depositRates.timedDepositRates.depositRateList){_1ad.depositRateData=data;_1ad.todayDateString=data.depositRates.timedDepositRates.lastUpdateTime;var _1b0=_1ad.getThisYear(_1ad.todayDateString);var _1b1=_1ad.getNextYear(_1ad.todayDateString);_1ad.callRtrvHolidayInfoSvc(_1aa,_1b0,_1b1,_1ab);}else{_1ad.displayServiceError(data);}}),lang.hitch(this,function(_1b2){if(_1ae&&!_1ac){_1ad.callRtrvDepositRatesSvc(_1aa,_1ab,true);}else{_1ad.displayServiceError(_1b2);}}));},callRtrvHolidayInfoSvc:function(_1b3,_1b4,_1b5,_1b6,_1b7){var _1b8=this;var req={"locale":dojoConfig.locale,"currencyCode":_1b3,"years":[_1b4,_1b5],"stus":["H","W","P"]};var url=this._retrieveHolidayInfoEndPoint.url;var _1b9=this._retrieveHolidayInfoEndPoint.retry;_15c.post(url,{data:json.stringify(req),headers:{"Content-Type":"application/json"}}).then(lang.hitch(this,function(_1ba){var data=json.parse(_1ba);if(data&&data.yearStusList&&data.yearStusList.length>0){for(var i=0;i<data.yearStusList.length;i++){if(data.yearStusList[i]&&data.yearStusList[i].monthStusList&&data.yearStusList[i].year==_1b4){_1b8.holidayInfoThisYearData=data.yearStusList[i];}else{if(data.yearStusList[i]&&data.yearStusList[i].monthStusList&&data.yearStusList[i].year==_1b5){_1b8.holidayInfoNextYearData=data.yearStusList[i];}}}}else{_1b8.displayServiceError(data);}if(_1b8.depositRateData&&_1b8.holidayInfoThisYearData&&_1b8.holidayInfoNextYearData){_1b8.amountInterval=_1b8.getAmountInterval(_1b8.depositRateData);var _1bb=_1b8.amountInterval;var _1bc=_1bb[0];_1b8.createUIElement(_1b3,_1bc,_1b6);if(_1b6&&_1b8.showCurrencyDropDown){_1b8.loadCurrencyDropDown(_1b8.requestCbCountry,_172.InterestRateCurrencyList,_1b3);}_1b8.bindEvents();var _1bd=_1b8.depositRateData.depositRates.timedDepositRates.depositRateList;_1b8.renewDropdown(_1bd[0].depositRateList);_1b8.maturitydate=_1b8.updateMaturityDate();_1b8.updateCalculationResult(_1b8.maturitydate);_1b8.hideServiceError();_1b8.interestRateCalculator.style.display="block";_1b8.depositamountindex=0;_1b8.createCalculatorRemarks(_1b3);if(!_1b6){var _1be=_1b8._createTrackingEvent("click","Update");_1be["event_content"]="Changed | Currency | input";_174.submitTealium(_1be);}}else{_1b8.displayServiceError(data);}}),lang.hitch(this,function(_1bf){if(_1b9&&!_1b7){_1b8.callRtrvHolidayInfoSvc(_1b3,_1b4,_1b5,_1b6,true);}else{_1b8.displayServiceError(_1bf);}}));},updateArrowRightHeight:function(){var _1c0=_161("div.columns.arrowright");_1c0.forEach(function(node){var _1c1=_161(node).next()[0];if(_1c1){_16c.set(node,{height:"auto"});var _1c2=_16c.getComputedStyle(node);var _1c3=_16d.getContentBox(node,_1c2).h;_16c.set(_1c1,{height:"auto"});var _1c4=_16c.getComputedStyle(_1c1);var _1c5=_16d.getContentBox(_1c1,_1c4).h;var _1c6=_1c3>_1c5?_1c1:node;var _1c7=_1c3>_1c5?_1c3:_1c5;if(_1c7<=0){_1c7="auto";}_16d.setContentSize(_1c6,{h:_1c7});}});},updateMaturityDate:function(){var _1c8=this.depositPeriod.value;var _1c9=this.transformPeriod(_1c8);var _1ca=this.getMaturityDate(_1c9);return _1ca;},updateCalculationResult:function(_1cb){if(!this.depositAmountTextBox.isValid()||!this.depositPeriod.isValid()){this.clearCalculationResult();return;}var _1cc=_174.getTextBoxValue(this.depositAmountTextBox);_1cc=_16b.parse(_1cc);var _1cd=this.depositPeriod.value;var _1ce=this.getInterestRate(this.depositRateData,_1cc,_1cd);var _1cf=_174.decimalFormat(_1ce,4)+"%";var _1d0=new Date(_1cb);var _1d1=_174.formatDate(_1d0,i18n.date_year,i18n.date_month,i18n.date_day);var _1d2=this.getDefaultCurrency();if(this.showCurrencyDropDown){_1d2=this.requestCbCountry.value;}var _1d3=false;var _1d4="";if(i18n[_1d2+"_prefix"]){_1d4=i18n[_1d2+"_prefix"];}else{_1d4=i18n[_1d2+"_suffix"];_1d3=true;}var _1d5=(i18n[_1d2+"_suffix"]&&!_1d3)?(i18n[_1d2+"_suffix"]):"";this.maturityCurrencyCollapsed.innerHTML=_1d4;var _1d6=this.getStartDate();var _1d7=this.getInterestMaturity(_1d2,_1cc,_1ce,_1d6,_1cb);var _1d8=_174.decimalFormat(_1d7,2);var _1d9=i18n.collapsedResult;if(_1d9){_1d9=_1d9.replace("{0}",_174.getCurrencyDisplay(_1d4,_16b.format(_1cc),_1d5));_1d9=_1d9.replace("{1}",this.getDepositPeriodLabel(this.depositPeriod.value));this.summary.innerHTML=_1d9;}if(!this.isPostCreate&&this.isLogEvent&&this.countryEventIndex!=1){this.trackingCountryCode=_1d2;this.trackingTransactionTotal=parseFloat(_1cc+_1d7).toFixed(2);this.trackingTransactionTimePeriod=parseFloat(this.transformPeriodToMonths(this.depositPeriod.value)).toFixed(2);}this.maturityCurrency.innerHTML=_1d4;this.interestAtMaturity.innerHTML=_1d8+_1d5;this.interestAtMaturityCollapsed.innerHTML=_1d8+_1d5;this.maturityDate.innerHTML=_1d1;this.maturityDateCollapsed.innerHTML=_1d1;this.interestRate.innerHTML=_1cf;this.interestRateCollapsed.innerHTML=_1cf;this.isPostCreate=false;},clearCalculationResult:function(){this.interestRate.innerHTML="";this.interestRateCollapsed.innerHTML="";this.maturityDate.innerHTML="";this.maturityDateCollapsed.innerHTML="";this.interestAtMaturity.innerHTML="";this.interestAtMaturityCollapsed.innerHTML="";},showDetailSearch:function(_1da){_156.add(this.summary,"hide");_156.remove(this.InterestRepayment,"hide");_156.remove(this.calcContent,"hide");_156.remove(this.detailSearchSection,"hide");_156.remove(this.description,"hide");_156.add(this.mobileShowDetail,"hide");_156.remove(this.mobileHideDetail,"hide");if(window.size==="small"){_156.add(this.calcContent,"arrowdown");_156.remove(this.calcContent,"arrowright");_156.remove(this.discMobile,"hide");}if(window.size==="medium"){_156.add(this.calcContent,"arrowright");_156.add(this.calcSection,"m-three");_156.remove(this.calcContent,"tablet-pad-l");_156.remove(this.calcSection,"m-eight");this.showDetail.style.display="none";this.hideDetail.style.display="block";}if(window.size==="large"){_156.add(this.calcContent,"arrowright");this.showDetail.style.display="none";this.hideDetail.style.display="block";}_161(".od-cal-disclaimer").style("display","block");_156.add(this.collapseInfo,"hide");if(_1da){_16a.focus(this.hideDetail);_16a.focus(this.showDetail);_16a.focus(this.mobileHideDetail);_16a.focus(this.mobileShowDetail);}if(window.size!=="small"){this.updateArrowRightHeight();}},hideDetailSearch:function(_1db){_156.remove(this.summary,"hide");_156.add(this.calcContent,"hide");_156.add(this.description,"hide");this.showDetail.style.display="block";_156.remove(this.mobileShowDetail,"hide");_156.add(this.mobileHideDetail,"hide");_156.add(this.InterestRepayment,"hide");_156.remove(this.collapseInfo,"hide");this.hideDetail.style.display="none";_161(".od-cal-disclaimer").style("display","none");_16a.focus(this.showDetail);if(window.size==="small"){_156.add(this.calcContent,"arrowdown");_156.remove(this.calcContent,"arrowright");_156.add(this.discMobile,"hide");}if(window.size==="medium"){_156.add(this.calcContent,"arrowright");_156.remove(this.calcSection,"m-three");_156.add(this.calcContent,"tablet-pad-l");_156.add(this.calcSection,"m-eight");}if(window.size==="large"){_156.add(this.calcContent,"arrowright");}if(_1db){_16a.focus(this.hideDetail);_16a.focus(this.showDetail);_16a.focus(this.mobileHideDetail);_16a.focus(this.mobileShowDetail);}},openDisclaimer:function(){var _1dc=_162.byId("currencyCalculatorDisclaimer");dom.byId("disclaimer_content").style.display="block";var _1dd=_161("a.icon-chevron-up",_1dc.domNode)[0];var _1de=_161("a.icon-chevron-down",_1dc.domNode)[0];_1de.style.display="none";_1dd.style.display="inline-block";if(_173.has(_1de,"href")){_173.remove(_1de,"href");}if(!(_173.has(_1dd,"href"))){_173.set(_1dd,"href","javascript:void(0);");}var _1df=0;var x=_161("[class=\"disclaimer-heading\"]",_1dc.domNode)[0]||{};if(x.offsetParent){do{_1df+=x.offsetTop;}while(x=x.offsetParent);_1df=_1df-50;try{window.scroll(0,_1df);}catch(e){}}_16a.focus(_1dd);event.preventDefault();},scrollIntoView:function(_1e0){var _1e1=0;var obj=document.getElementById(_1e0);if(obj.offsetParent){do{_1e1+=obj.offsetTop;}while(obj=obj.offsetParent);_1e1=_1e1-50;return [_1e1];}},loadCurrencyDropDown:function(wgt,data,_1e2){if(data){var _1e3=[];_15a.forEach(data,function(item,_1e4){if(i18n[item.desckey]&&i18n[item.desckey].split("|")){parseCurrencyLabel=i18n[item.desckey].split("|")[1];parseCurrencyCode=parseCurrencyLabel.split(" ")[0];parseCurrencytext=i18n[item.desckey].split("|")[0];}var _1e5=null;if(parseCurrencyCode==_1e2){_1e5="<div class='request_cb_countries selected'><span><img src='/clientapp/hdx/images/currency/"+parseCurrencyCode+".png' width='30px' height='22px' alt=''> </img> <span class='accessibleHidden' style='visibility:hidden;'>"+parseCurrencytext+" </span> <span class='request_cb_country_code country-name'>"+parseCurrencyLabel+"</span> <span class='icon-agree request_cb_green_tick'></span></span></div>";}else{_1e5="<div class='request_cb_countries selected'><span><img src='/clientapp/hdx/images/currency/"+parseCurrencyCode+".png' width='30px' height='22px' alt=''> </img> <span class='accessibleHidden' style='visibility:hidden;'>"+parseCurrencytext+" </span> <span class='request_cb_country_code country-name'>"+parseCurrencyLabel+"</span></span></div>";}var opt={label:_1e5,value:parseCurrencyCode};_1e3.push(opt);});wgt.addOption(_1e3);wgt.set("value",_1e2);_161(".request_cb_countries.selected .request_cb_country_code.country-name")[0].innerHTML=_1e2;}},formatToNumber:function(_1e6){var _1e7=_1e6.split(",");var _1e8="";for(var i=0,l=_1e7.length;i<l;i++){_1e8=_1e8+_1e7[i];}return _16b.parse(_1e8);},getAmountInterval:function(_1e9){var _1ea=new Array(0);for(var i=0,l=_1e9.depositRates.timedDepositRates.depositRateList.length;i<l;i++){_1ea[i]=_1e9.depositRates.timedDepositRates.depositRateList[i].depositAmtMin;}return _1ea;},getAmountIntervalIndex:function(_1eb,_1ec){var _1ed=0;for(var i=0,l=_1eb.length;i<l;i++){if(_1ec>=_1eb[i]&&_1ec<_1eb[i+1]&&i<l-1){_1ed=i;}else{if(i==l-1&&_1ec>=_1eb[i]){_1ed=i;}}}return _1ed;},renewDropdown:function(_1ee){var _1ef=this.depositPeriod.getOptions();var _1f0="";for(var i=0;i<_1ef.length;i++){if(_1ef[i].selected==true){_1f0=_1ef[i].value;}}for(var j=0;j<_1ef.length;j++){this.depositPeriod.removeOption(_1ef[j].value);}this.fillDropdownPeriod(_1ee,_1f0);},fillDropdownPeriod:function(_1f1,_1f2){var _1f3=new Array(0);for(var i=0;i<_1f1.length;i++){var min=_1f1[i].depositPeriodMin;var unit=_1f1[i].depositPeriodUnit;var _1f4=min+"_"+unit;var _1f5=this.getDepositPeriodLabel(_1f4);var _1f6={value:_1f4,label:_1f5,selected:false};if(_1f2==_1f6.value){_1f6.selected=true;}_1f3[i]=_1f6;}this.depositPeriod.addOption(_1f3);},getInterestRate:function(_1f7,_1f8,_1f9){var _1fa=0;for(var i=0,l=_1f7.depositRates.timedDepositRates.depositRateList.length;i<l;i++){var _1fb=_1f7.depositRates.timedDepositRates.depositRateList[i].depositAmtMin;var _1fc=_16b.parse(_1fb);var _1fd=_16b.parse(_1f8);if(_1fc<=_1fd){var _1fe=_1f7.depositRates.timedDepositRates.depositRateList[i];for(var j=0,subl=_1fe.depositRateList.length;j<subl;j++){var _1ff={value:_1fe.depositRateList[j].depositPeriodMin,unit:_1fe.depositRateList[j].depositPeriodUnit};if(_1f9){var _200=_1f9.split("_");var _201=_200[0];var _202=_200[1];if(_201==_1ff.value&&_202==_1ff.unit){_1fa=_1fe.depositRateList[j].interestRate;}}}}}_1fa=Math.round(_1fa*10000)/10000;return _1fa;},getHolidayString:function(year){var data=null;var _203="";if(year==this.getNextYear()){data=this.holidayInfoNextYearData;}else{data=this.holidayInfoThisYearData;}if(data&&data.monthStusList){for(var i=0,l=data.monthStusList.length;i<l;i++){var _204=data.monthStusList[i];for(var j=0,subl=_204.dayStusList.length;j<subl;j++){_203=_203+_204.dayStusList[j].stus;}}}return _203;},getDaysofYear:function(_205,year){var _206=360;if(_205==="HKD"){if(year%4&&((year%100!=0)||(year%400==0))){_206=365;}else{_206=366;}}else{if(_205==="GBP"||_205==="SGD"||_205==="THB"){_206=365;}else{_206=360;}}return _206;},getGapDays:function(_207,end){var _208=Math.round(_207.getTime()/(60*60*1000*24));var _209=Math.round(end.getTime()/(60*60*1000*24));return _209-_208;},getInterestMaturity:function(_20a,_20b,rate,_20c,_20d){var year=null;var _20e=null;var days=null;var _20f=0;var _210=0;var _211=0;var end=new Date(_20d);var _212=new Date(_20c);if(_212.getTime()<end.getTime()){var _213=new Date(_20c);var _214=new Date();_214.setFullYear(_213.getFullYear()+1);_214.setMonth(0);_214.setDate(1);while(_214.getTime()<end.getTime()){year=_213.getFullYear();_20e=this.getDaysofYear(_20a,year);days=this.getGapDays(_213,_214);_210+=Number(days)/Number(_20e);_213.setFullYear(_214.getFullYear());_213.setMonth(_214.getMonth());_213.setDate(_214.getDate());_214.setFullYear(Number(year)+1);_214.setMonth(0);_214.setDate(1);}year=_213.getFullYear();_20e=this.getDaysofYear(_20a,year);days=this.getGapDays(_213,end);_211+=Number(days)/Number(_20e);_20f=_20b*(rate/100)*_210+_20b*(rate/100)*_211;}return _20f;},transformPeriod:function(_215){if(_215=="1_D"){return 1;}else{if(_215=="1_W"){return 7;}else{if(_215=="2_W"){return 14;}else{if(_215=="1_M"){return 30;}else{if(_215=="2_M"){return 60;}else{if(_215=="3_M"){return 90;}else{if(_215=="6_M"){return 180;}else{if(_215=="9_M"){return 270;}else{if(_215=="12_M"){return 360;}else{return;}}}}}}}}}},transformPeriodToMonths:function(_216){var _216=_216.split("_");var unit=_216[1];_216=parseInt(_216[0]);switch(unit){case "D":return _216/30;break;case "W":return _216/4;break;case "M":return _216;break;default:return;}},getMaturityDate:function(_217){var _218=this.getStartDate();var _219;if(_217<30){_219=this.addDay(_218,_217);}else{var _21a=_217/30;_219=this.addMonth(_218,_21a);}return this.getTrueDate(_219);},getStartDate:function(){var _21b=null;if(this.todayDateString){_21b=_174.convertStringToDate(this.todayDateString,"");}var yyyy=_21b.getFullYear();var M=_21b.getMonth()+1;var dd=_21b.getDate();var _21c=yyyy+"/"+M+"/"+dd;var _21d=this.getTrueDate(_21c);return _21d;},daysInFebruary:function(year){if(year%4===0&&(year%100!==0||year%400===0)){return 29;}else{return 28;}},dateToDay:function(date){var feb=this.daysInFebruary(date.getFullYear());var _21e=[0,31,31+feb,31+feb+31,31+feb+31+30,31+feb+31+30+31,31+feb+31+30+31+30,31+feb+31+30+31+30+31,31+feb+31+30+31+30+31+31,31+feb+31+30+31+30+31+31+30,31+feb+31+30+31+30+31+31+30+31,31+feb+31+30+31+30+31+31+30+31+30];return _21e[date.getMonth()]+date.getDate();},getTrueDate:function(date){var _21f=null;var _220=date;var _221=_220.split("/");var year=parseInt(_221[0],10);var s2=new Date(_220);var _222=this.dateToDay(s2);var _223=this.getHolidayString(year);var _224=_223.indexOf("P",_222-1);var _225=_223.indexOf("W",_222-1);var _226=-1;if(_224!=-1&&_225!=-1){_226=(_224<_225)?_224:_225;}else{_226=(_224!=-1)?_224:_225;}if(_226==-1){year=year+1;_222=1;var _227=this.getHolidayString(year);if(_227!=null){_224=_227.indexOf("P",_222-1);_225=_227.indexOf("W",_222-1);if(_224!=-1&&_225!=-1){_226=(_224<_225)?_224:_225;}else{_226=(_224!=-1)?_224:_225;}}else{}}_220=year+"/01/01";if(_226!=-1){_21f=this.addDay(_220,_226);}return _21f;},addDay:function(_228,day){var _229=new Date(_228).getTime();var ds=24*60*60*1000;var nds=ds*day;var t=new Date(Math.abs(_229)+nds);var yyyy=t.getFullYear();var M=t.getMonth()+1;var dd=t.getDate();return yyyy+"/"+M+"/"+dd;},addMonth:function(_22a,_22b){var _22c=_22a.split("/");var y=parseInt(_22c[0],10);var m=parseInt((_22c[1][0]==0?_22c[1][1]:_22c[1]),10)-1;var d=parseInt((_22c[2][0]==0?_22c[2][1]:_22c[2]),10);y+=Math.floor((m+_22b)/12);m=Math.floor((m+_22b)%12)+1;var _22d=new Date(y+"/"+(m+1)+"/0").getDate();if(d>_22d){d=_22d;}return (y+"/"+(m<10?("0"+m):m)+"/"+(d<10?("0"+d):d));},getDepositPeriodLabel:function(_22e){var _22f="";if(_22e){var _230=_22e.split("_")[0];var unit=_22e.split("_")[1];if(unit==="D"){_22f=_230+i18n.day;}else{if(unit=="W"){if(_230==1){_22f=_230+i18n.week;}else{if(_230>1){_22f=_230+i18n.weeks;}}}else{if(unit=="M"){if(_230==1){_22f=_230+i18n.month;}else{if(_230>1){_22f=_230+i18n.months;}}}}}}return _22f;},_createTrackingEvent:function(type,_231){var _232={"tool_name":"InterestCalc","event_type":type,"event_action":"Interest Calculator | "+_231};lang.mixin(_232,{"country_code":this.trackingCountryCode,"transaction_total":this.trackingTransactionTotal,"transaction_time_period":this.trackingTransactionTimePeriod});return _232;},displayServiceError:function(_233){var _234=_174.replaceValidationErrCode(i18n.errMsg_serviceError,_233);var _235="<div class=\"error-msg-font\"><i class=\"icon-information\" ></i ></div ><div class=\"error-msg-txt\" >"+_234+"</div >";this.interestRateServiceError.innerHTML=_235;this.interestRateServiceError.style.display="block";},hideServiceError:function(){this.interestRateServiceError.innerHTML="";this.interestRateServiceError.style.display="none";},createCalculatorRemarks:function(_236){if(i18n.disclaimer_cny&&i18n.disclaimer_basis&&i18n.disclaimer_hkd&&i18n.disclaimer_offer){var _237="";if(_236==="CNY"){_237+=i18n.disclaimer_cny;}this.footernote_cny.innerHTML=_237;this.footernote_basis.innerHTML=i18n.disclaimer_basis;this.footernote_hkd.innerHTML=i18n.disclaimer_hkd;this.footernote_offer.innerHTML=i18n.disclaimer_offer;}},clickshowDetail:function(_238){this.showDetailSearch();_16a.focus(this.hideDetail);},clickhideDetail:function(_239){this.hideDetailSearch();_16a.focus(this.showDetail);}});});},"hdx/bijits/tools/eForm/_FormBase":function(){define("hdx/bijits/tools/eForm/_FormBase",["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/_FormMixin","dojo/Evented","hsbc/_PWSEndpointMixin","./_FormValidationMixin","dojo/_base/array","dojo/_base/lang","dojo/query","dojo/dom-construct","dojo/dom-attr","dojo/dom-class","dojo/dom-form","dojo/dom-style","dojo/request","dojo/on","dojo/json","dojo/io-query","dijit/form/Select","dijit/form/_FormSelectWidget","dijit/registry","dojo/topic","dojo/_base/window","hsbc/utilities/CommonUtil","dijit/focus","dojo/has","dojo/sniff","dijit/layout/StackContainer","dijit/layout/ContentPane","dijit/form/Form","dijit/form/RadioButton","dijit/form/SimpleTextarea","hdx/dijits/reusableComponents/CustomizedTextArea","hdx/dijits/reusableComponents/CustomizedTextBox","hdx/dijits/form/Select","hdx/dijits/reusableComponents/PlusMinusIncrementer","hdx/dijits/reusableComponents/DateInput"],function(_23a,_23b,_23c,_23d,_23e,_23f,_240,_241,_242,lang,_243,_244,_245,_246,_247,_248,_249,on,json,_24a,_24b,_24c,_24d,_24e,win,_24f,_250,has,_251){return _23a([_23b,_23c,_23d,_23e,_23f,_240,_241],{formNode:null,form:null,_condition:null,_section:null,_selection:null,_preprocessor:null,_validation:null,i18n:{},listNls:null,errorNls:null,defaultValueNls:null,_formScope:null,_formValues:null,_prefillValues:null,_queryParams:null,templateString:"",_retrieveFormDataEndPoint:null,_submitFormEndPoint:null,_sectionReverseMapping:{},_optionReverseMapping:{},_preprocessReverseMapping:{},_crossfieldValidation:{},_formSubmitted:false,_dialogId:null,_formVisible:false,_formWidth:-1,_formHeight:-1,_formInitialized:false,_visibilityMonitor:null,constructor:function(){var self=this;for(var _252 in self._section){var _253=self._section[_252];if(_253===true||_253===false){continue;}for(var i=0;i<_253.length;i+=2){condition=self._condition[_253[i]];var _254=condition[0];if(!self._sectionReverseMapping[_254]){self._sectionReverseMapping[_254]=[];}if(_242.indexOf(self._sectionReverseMapping[_254],_252)==-1){self._sectionReverseMapping[_254].push(_252);}}}for(var _255 in self._selection){_242.forEach(this._selection[_255],function(_256){if(_256["if"]){var _257=_256["if"];for(var i=0;i<_257.length;i+=2){condition=self._condition[_257[i]];var _258=condition[0];if(!self._optionReverseMapping[_258]){self._optionReverseMapping[_258]=[];}if(_242.indexOf(self._optionReverseMapping[_258],_255)==-1){self._optionReverseMapping[_258].push(_255);}}}});}for(var _259 in self._preprocessor){for(var i=1;i<self._preprocessor[_259]["action"].length;i++){var _25a=self._preprocessor[_259][i];if(!self._crossfieldValidation[_25a]){self._crossfieldValidation[_25a]=[];}if(_242.indexOf(self._crossfieldValidation[_25a],_259)==-1){self._crossfieldValidation[_25a].push(_259);}}}for(var _25b in this._preprocessor){for(var i=1;i<self._preprocessor[_25b]["action"].length;i++){var _254=self._preprocessor[_25b]["action"][i];if(!self._preprocessReverseMapping[_254]){self._preprocessReverseMapping[_254]=[];}if(_242.indexOf(self._preprocessReverseMapping[_254],_25b)==-1){self._preprocessReverseMapping[_254].push(_25b);}}}try{var uri=window.location.search;var _25c=uri.substring(uri.indexOf("?")+1,uri.length);self._queryParams=_24a.queryToObject(_25c);}catch(e){self._queryParams={};}},buildRendering:function(){this.inherited(arguments);var _25d=_243("[data-content-id]",this.containerNode);_242.forEach(_25d,function(_25e){var _25f=_245.get(_25e,"data-content-id");var _260=_243("#"+_25f);if(_260&&_260[0]){_244.place(_260[0],_25e,"replace");_244.destroy(_25e);}});this.formNode=_243("form",this.containerNode)[0];this._updateFormValues();},startup:function(){var self=this;this.inherited(arguments);this._initHandlers();this._subscribeOverlayTopic();on(this,"show",function(){if(!self._formInitialized){self._formInitialized=true;self.reset();}});this._setVisibilityMonitor();if(has("ie")||has("trident")){_242.forEach(_243("style",self.domNode),function(_261){var node=lang.clone(_261);_244.place(node,_261,"after");_244.destroy(_261);});}},reset:function(){this._stackJmp("1.1");this.inherited(arguments);this._form.reset();this._initFieldValue();},destroy:function(){this.inherited(arguments);this._clearVisibilityMonitor();},_setVisibilityMonitor:function(){var self=this;this._clearVisibilityMonitor();this._visibilityMonitor=setInterval(function(){var _262=(self.containerNode.offsetWidth>0||self.containerNode.offsetHeight>0);if(self._formVisible!=_262){self._formVisible=_262;if(self._formVisible){on.emit(self,"show",{});}else{on.emit(self,"hide",{});}}if(self._formWidth==-1||self._formHeight==-1||self._formWidth!=self.containerNode.offsetWidth||self._formHeight!=self.containerNode.offsetHeight){self._formWidth=self.containerNode.offsetWidth;self._formHeight=self.containerNode.offsetHeight;_24e.publish("modalOverlay/topic",{"action":"resize"});_24e.publish("verticalTabs/topic",{"action":"resize"});}},100);},_clearVisibilityMonitor:function(){if(this._visibilityMonitor){clearInterval(this._visibilityMonitor);}},_initFieldValue:function(){this._initializeForm();var _263={};for(var _264 in this.defaultValueNls){var _265=_264.split(".");if(_265[1]){if(!_263[_265[0]]){_263[_265[0]]={};}_263[_265[0]][_265[1]]=this.defaultValueNls[_264];}}this.set("value",_263);var self=this;for(var _264 in this._selection){if(this[_264]&&this[_264].isInstanceOf&&(this[_264].isInstanceOf(_24b)||this[_264].isInstanceOf(_24c))){var _266=[];_242.forEach(this._selection[_264],function(_267){var _268=true;if(_267["if"]){_268=self.evaluateConditionList(_267["if"]);}if(_268){if(_267["id"]&&self[_264].name&&self[_264].name.indexOf("countryCode")!==-1){var code=_267["id"];var _269="/clientapp/hdx/images/flags/phone/"+code+".png";_266.push({label:"<img src=\""+_269+"\" width=\"30px\" height=\"22px\"/><span class=\"cntycode\">"+self.listNls[_264][_267["desckey"]]+"</span>",value:code});}else{_266.push({label:self.listNls[_264][_267["desckey"]],value:_267["id"]});}}});self[_264].set("disabled",true);self[_264].removeOption(self[_264].getOptions());self[_264].addOption(_266);self[_264].set("disabled",false);}}for(var _264 in this._prefillValues){var _26a=_264.split(".");if(_26a[1]){if(!_263[_26a[0]]){_263[_26a[0]]={};}_263[_26a[0]][_26a[1]]=this._prefillValues[_264];}}for(var _264 in this._queryParams){var _26a=_264.split(".");if(_26a[1]){if(!_263[_26a[0]]){_263[_26a[0]]={};}_263[_26a[0]][_26a[1]]=this._queryParams[_264];}}this.set("value",_263);_242.forEach(_243("div[data-form-section]",this.containerNode),function(_26b){_246.add(_26b,"dijitHidden");});this.evaluateShowif();for(var _264 in self._formValues){_242.forEach(_243("span[name='"+_264+"']",this.containerNode),function(dom){var _26c=self._formValues[_264]||self.getFieldValue(_264);var _26d=self._getFieldDisplayValue(_264,_26c);_245.set(dom,"innerHTML",_26d);});}},_initializeForm:function(){this._formSubmitted=false;this._loadFormData();},_onFieldChangeDelayTimer:{},_initHandlers:function(){var self=this;_242.forEach(this._descendants,function(_26e){_26e.set("intermediateChanges",true);on(_26e,"change",function(){var _26f=this.name;if(self._onFieldChangeDelayTimer[_26f]){self._onFieldChangeDelayTimer[_26f].remove();}self._onFieldChangeDelayTimer[_26f]=self.defer(function(){delete self._onFieldChangeDelayTimer[_26f];self._updateFormValues();var _270=self.getFieldValue(_26f);self._fieldChanged.call(self,_26f,_270);self._updateFormValues();},10);});});_242.forEach(_243("[data-form-command]",this.containerNode),function(_271){switch(_245.get(_271,"data-form-command")){case "goto":var _272=_245.get(_271,"data-form-pagevalue");on(_271,"click",function(e){if(self.dialogId){e.preventDefault();}self._gotoButtonClick(_272);e.stopPropagation();});break;case "submit":on(_271,"click",function(e){if(self.dialogId){e.preventDefault();}self._submitButtonClick();e.stopPropagation();});break;case "cancel":on(_271,"click",function(e){if(self.dialogId){dijit.byId(self.dialogId).hide();_248.set(win.body(),{overflow:"auto"});e.preventDefault();}self._cancelButtonClick();e.stopPropagation();});break;}});var data=dojo.fromJson(self["data-ext-props"]);if(data&&data.dialogId){self.dialogId=data.dialogId;}},_showDijit:function(node,_273){if(_273){_246.remove(node,"dijitHidden");}else{_246.add(node,"dijitHidden");}},_fieldChanged:function(_274,_275){var self=this;if(this._preprocessReverseMapping[_274]){_242.forEach(this._preprocessReverseMapping[_274],function(_276){self.getCopyValue(_276);});}this.evaluateShowif(_274);this.evaluateOptionFilter(_274);var _277=this._getFieldDisplayValue(_274,_275);_242.forEach(_243("span[name='"+_274+"']",this.containerNode),function(dom){_245.set(dom,"innerHTML",_277);});},_updateFormValues:function(){this._formValues=_247.toObject(this.formNode);var self=this;for(var _278 in this._formValues){if(typeof this._formValues[_278]=="object"){var _279=_243("[name='"+_278+"']",this.formNode);var _27a=[];_242.forEach(_279,function(_27b){if(_27b.value&&self._fieldDisplayedInShowif(_27b)){_27a.push(_27b.value);}});if(_27a.length==0){_27a.push("");}this._formValues[_278]=((_27a.length>1)?_27a:_27a[0]);}}},_getFieldDisplayValue:function(_27c,_27d){if(this._getFieldType(_27c)=="select"){var self=this;_242.some(this._selection[_27c],function(_27e){if(_27e["id"]==_27d){_27d=self.listNls[_27c][_27e["desckey"]];return true;}});}return _24f.htmlEscapeString(_27d);},_getFieldType:function(_27f){var type;_242.some(this._descendants,function(_280){if(_280.name==_27f){if(_280.isInstanceOf(_24b)||_280.isInstanceOf(_24c)){type="select";}return true;}});return type;},evaluateShowif:function(_281){for(var _282 in this._section){if(!_281||this._sectionReverseMapping[_281]&&_242.indexOf(this._sectionReverseMapping[_281],_282)!=-1){var _283=this.evaluateConditionList(this._section[_282]);var _284=_243("div[data-form-section='"+_282+"']",this.containerNode);_242.forEach(_284,function(_285){var _286=_243("[widgetid]",_285).map(_24d.byNode).filter(function(wid){return wid;});_242.forEach(_286,function(_287){if(_287.reset){_287.set("disabled",false);}});});_242.forEach(_284,function(_288){if(!_283){_246.add(_288,"dijitHidden");var _289=_243("[widgetid]",_288).map(_24d.byNode).filter(function(wid){return wid;});_242.forEach(_289,function(_28a){if(_28a.reset){_28a.reset();_28a.set("disabled",true);}});}else{_246.remove(_288,"dijitHidden");}});}}var self=this;_242.forEach(this._descendants,function(_28b){self.updateFieldValidation(_28b);});},evaluateOptionFilter:function(_28c){var self=this;_242.forEach(self._optionReverseMapping[_28c],function(_28d){if(self[_28d]){var _28e=self[_28d].get("value");var _28f=[];self[_28d].set("disabled",true);self[_28d].removeOption(self[_28d].getOptions());_242.forEach(self._selection[_28d],function(_290){var _291=true;if(_290["if"]){_291=self.evaluateConditionList(_290["if"]);}if(_291){_28f.push({label:self.listNls[_28d][_290["desckey"]],value:_290["id"]});}});self[_28d].addOption(_28f);if(_28e&&self[_28d].getOptions(_28e)){self[_28d].set("value",_28e);}else{self[_28d].reset();}self[_28d].set("disabled",false);}else{console.error("[FilterList] Field \""+_28d+"\" not found.");}});},evaluateConditionList:function(_292){var _293=true;if(_292===true||_292===false){_293=_292;}else{if(_292&&_292.length>0){_293=this.evaluateCondition(_292[0]);for(var i=1;i<_292.length;i+=2){var _294=_292[i];var _295=_292[i+1];var _296=this.evaluateCondition(_295);switch(_294){case "&&":_293&=_296;break;case "||":_293|=_296;break;default:}}}}return _293;},evaluateCondition:function(_297){var _298=true;_297=this._condition[_297];var _299=_297[0];var _29a=_297[1];var _29b=_297[2];var _29c=this.getFieldValue(_299);switch(_29a){case "=":_298=(_29c==_29b);break;case "!=":_298=(_29c!=_29b);break;case ">":_298=(parseFloat(_29c)>parseFloat(_29b));break;case ">=":_298=(parseFloat(_29c)>=parseFloat(_29b));break;default:undefined;}return _298;},getCopyValue:function(_29d){var _29e;var self=this;if(this._preprocessor[_29d]){var _29f=this._preprocessor[_29d]["if"];if(!_29f||this.evaluateConditionList(_29f)){switch(this._preprocessor[_29d]["action"][0]){case "concat":_29e="";for(var i=1;i<this._preprocessor[_29d]["action"].length;i++){_29e+=self.getFieldValue(_29d);}break;case "count":break;}if(self[_29d]&&self[_29d].set){self[_29d].set("value",_29e);}}}return _29e;},getFieldValue:function(_2a0){var _2a1=this.getCopyValue(_2a0);if(_2a1===undefined){_2a1=this._formValues[_2a0]||this.defaultValueNls[_2a0]||"";}if(this._serverData&&this._serverData[_2a0]){_2a1=this._serverData[_2a0];}if(typeof _2a1=="object"){console.error("Field \""+_2a0+"\" has multiple values");}return _2a1;},_stackBwd:function(){var _2a2=this._stack.getChildren();var _2a3=_242.indexOf(_2a2,this._stack.selectedChildWidget);if(_2a3--<=0){return;}this._stack.back();_24e.publish("modalOverlay/topic",{"action":"resize"});_24e.publish("verticalTabs/topic",{"action":"resize"});var _2a4=_243("[data-dojo-attach-point='customFocusNode']",_2a2[_2a3].containerNode)[0];if(_2a4){_250.focus(_2a4);}},_stackFwd:function(){var _2a5=this._stack.getChildren();var _2a6=_242.indexOf(_2a5,this._stack.selectedChildWidget);if(_2a6++>=_2a5.length-1){return;}this._stack.forward();_24e.publish("modalOverlay/topic",{"action":"resize"});_24e.publish("verticalTabs/topic",{"action":"resize"});var _2a7=_243("[data-dojo-attach-point='customFocusNode']",_2a5[_2a6].containerNode)[0];if(_2a7){_250.focus(_2a7);}},_stackJmp:function(_2a8){var page=this[this.form+"_"+_2a8];var _2a9=this._stack.getIndexOfChild(page);if(_2a9!=-1){this._stack.selectChild(page);_24e.publish("modalOverlay/topic",{"action":"resize"});_24e.publish("verticalTabs/topic",{"action":"resize"});var _2aa=_243("[data-dojo-attach-point='customFocusNode']",page.containerNode)[0];if(_2aa){_250.focus(_2aa);}}},_prevButtonClick:function(){this._stackBwd();},_nextButtonClick:function(){this._stackFwd();},_gotoButtonClick:function(_2ab){this._stackJmp(_2ab);},_submitButtonClick:function(){this._submitFormData();},_cancelButtonClick:function(){this.reset();},_setRetrieveFormDataEndPointAttr:function(_2ac){this._retrieveFormDataEndPoint=_2ac;},_setSubmitFormEndPointAttr:function(_2ad){this._submitFormEndPoint=_2ad;},_loadFormData:function(_2ae){var self=this;var req={"locale":dojoConfig.locale,"formId":self.form,"formData":[]};var _2af=this._retrieveFormDataEndPoint.retry;_249.post(this._retrieveFormDataEndPoint.url,{data:json.stringify(req),headers:{"Content-Type":"application/json"}}).then(lang.hitch(this,function(_2b0){}),lang.hitch(this,function(_2b1){if(_2af&&!_2ae){this._loadFormData(true);}else{console.error("An error occured while getting from list data:"+_2b1);var _2b2=_243("[data-dojo-attach-point='validationErrorMessageSection']",self._stack.selectedChildWidget.containerNode)[0];if(_2b2){_2b2.style.display="block";var _2b3=_243("[data-dojo-attach-point='validationErrorMessage']",self._stack.selectedChildWidget.containerNode)[0];if(_2b3&&self.i18n["serviceError"]){_2b3.innerHTML=self.i18n["serviceError"];_250.focus(_2b2);}}}}));},_submitFormData:function(_2b4){var self=this;if(!self.validate()){console.error("There are invalid fields!");return;}if(this._formSubmitted){console.error("form submitted");return;}this._formSubmitted=true;var _2b5=this._stack.getChildren();var _2b6=_242.indexOf(_2b5,this._stack.selectedChildWidget);if(_2b6>=_2b5.length-1){console.error("This is Not the final step! Acknowlegement page not found!");return;}var _2b7=[];for(var _2b8 in self._formValues){_2b7.push({"key":_2b8,"value":self._formValues[_2b8]});}var req={"locale":dojoConfig.locale,"formId":self.form,"formData":_2b7};var _2b9=this._submitFormEndPoint.retry;_249.post(this._submitFormEndPoint.url,{data:json.stringify(req),headers:{"Content-Type":"application/json"}}).then(lang.hitch(self,function(_2ba){var data=json.parse(_2ba);if(data&&!(data.responseInfo&&data.responseInfo.reasons&&data.responseInfo.reasons.length>0)){self._stackFwd();}else{this._formSubmitted=false;var _2bb=_243("[data-dojo-attach-point='validationErrorMessageSection']",self._stack.selectedChildWidget.containerNode)[0];if(_2bb){_2bb.style.display="block";var _2bc=_243("[data-dojo-attach-point='validationErrorMessage']",self._stack.selectedChildWidget.containerNode)[0];if(_2bc){_2bc.innerHTML=self.i18n["serviceError"];_250.focus(_2bb);}}}}),lang.hitch(self,function(_2bd){if(_2b9&&!_2b4){this._submitFormData(true);}else{this._formSubmitted=false;var _2be=_243("[data-dojo-attach-point='validationErrorMessageSection']",self._stack.selectedChildWidget.containerNode)[0];if(_2be){_2be.style.display="block";var _2bf=_243("[data-dojo-attach-point='validationErrorMessage']",self._stack.selectedChildWidget.containerNode)[0];if(_2bf){_2bf.innerHTML=self.i18n["serviceError"];_250.focus(_2be);}}}}));},showToolTip:function(_2c0){var _2c1=_2c0.currentTarget;var _2c2=_245.get(_2c1,"data-for-tooltip");var _2c3=_245.get(_2c1,"data-selected");var _2c4=_243(".fhe-tooltip",this.domNode);var _2c5;if(_2c3=="false"){for(var i=0;i<_2c4.length;i++){_2c5=_245.get(_2c4[i],"data-is-tooltip");if(_2c5===_2c2){_246.remove(_2c4[i],"hide");_245.set(_2c1,"data-selected","true");break;}}}else{if(_2c3=="true"){for(i=0;i<_2c4.length;i++){_2c5=_245.get(_2c4[i],"data-is-tooltip");if(_2c5===_2c2){_246.add(_2c4[i],"hide");_245.set(_2c1,"data-selected","false");break;}}}}},_subscribeOverlayTopic:function(){var self=this;_24e.subscribe("modalOverlay/topic",function(_2c6){if(_2c6.action==="close"){self._formInitialized=false;}});}});});},"hdx/bijits/tools/mortgageCalculator/CostingCalculator":function(){require({cache:{"url:hdx/bijits/tools/mortgageCalculator/template/CostingCalculator.html":"<div class=\"first-tab costingtab costingtool\">\n    <div class=\"row\">\n        <div class=\"l-twelve m-eight s-four columns nopad\">\n            <p class=\"t16r\">${i18n.toolDescription}</p>\n            <form action=\"\" name=\"mortgageCalculator\" class=\"deposit-linked-tab\">\n                <div class=\"row\">\n                    <div class=\"l-five m-four s-four columns desktop-pad-l tablet-pad-l mobile-pad-l mobile-pad-r arrowright\">\n                        <h2 class=\"heading t22l\">${i18n.column1Heading}</h2>\n                        <div id=\"loanamountId\" class=\"labelClass\">${i18n.loanAmountLabel}</div>\n                        <div style=\"position:relative\" class=\"clearfix-position first-text-box\">\n                            <div class=\"loantxtbox\"  data-dojo-attach-point=\"loanAmount\" ></div>\n                        </div>\n                        <div id=\"interestRateId\" class=\"labelClass\">${i18n.interestRateLabel} </div>\n                        <div style=\"position:relative\" class=\"clearfix-position second-text-box\">\n                            <div  data-dojo-attach-point=\"interestRate\" class=\"percentBox\" ></div>\n                        </div>\n                        <div for=\"loanperiodyears\" class=\"labelClass\">${i18n.loanPeriodLabel}</div>\n                        <div class=\"margintop26 inputyears\" data-dojo-attach-point=\"loanPeriod\"></div>\n                        <div class=\"sliderFocus\" data-dojo-attach-point=\"loanPeriodSlider\"><span class=\"accessibleHidden\" id=\"loanPeriodCostSlider\" data-dojo-attach-point=\"loanPeriodCostSliderSrt\" aria-live=\"polite\"></span></div>\n                    </div>\n                    <div class=\"l-seven m-four s-four columns mobile-pad-l mobile-pad-r\">\n                        <div class=\"result\">\n                            <h2 class=\"heading t22l\">${i18n.column2Heading}</h2>\n                            <h3 class=\"t16b\">${i18n.monthlyAndFortnightlyRepayments}</h3>\n                            <p class=\"t16r\">${i18n.monthlyAndFortnightlyRepaymentsDesc}</p>\n                            <span class=\"accessibleHidden\">${i18n.mortgageCalculatorDetails}</span>\n                            <table class=\"cc-table-monthly showondesktop displayblock\" summary=\"${i18n.accessMonthlyRepayment}\">\n                                <caption class=\"hide\">${i18n.accessMonthlyRepayment}</caption>\n                                <thead>\n                                    <tr class=\"row1\">\n                                        <th class=\"column1 t14b\" id=\"MRheader05\" scope=\"col\">${i18n.monthlyRepayment}</th>\n                                        <th class=\"column2 t14r\" id=\"MRheader06\" scope=\"col\">${i18n.loanPeriod}</th>\n                                        <th class=\"column3 t14r\" id=\"MRheader07\" scope=\"col\">${i18n.totalInterest}</th>\n                                        <th class=\"column4 t14r\" id=\"MRheader08\" scope=\"col\">${i18n.totalRepayment}</th>\n                                    </tr>\n                                </thead>\n                                <tbody class=\"t14r\">\n                                    <tr class=\"row2\">\n                                        <td class=\"column1\" headers=\"MRheader05\"><span class=\"t22l\" data-dojo-attach-point=\"monthlyRepaymentAmount\"></span></td>\n                                        <td class=\"column2\" headers=\"MRheader06\" data-dojo-attach-point=\"monthlyLoanPeriod\"></td>\n                                        <td class=\"column3\" headers=\"MRheader07\" data-dojo-attach-point=\"monthlyInterestPayable\"></td>\n                                        <td class=\"column4\" headers=\"MRheader08\" data-dojo-attach-point=\"monthlyTotalRepayment\"></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            <hr class=\"showondesktop\"/>\n                            <table class=\"cc-table-fortnightly showondesktop displayblock\" summary=\"${i18n.accessFortnightlyRepayment}\">\n                                <caption class=\"hide\">${i18n.accessFortnightlyRepayment}</caption>\n                                <thead>\n                                    <tr class=\"row1\">\n                                        <th class=\"column1 t14b\" scope=\"col\" id=\"FRheader05\">${i18n.fortnightlyRepayment}</th>\n                                        <th class=\"column2 t14r\" scope=\"col\" id=\"FRheader06\">${i18n.loanPeriod}</th>\n                                        <th class=\"column3 t14r\" scope=\"col\" id=\"FRheader07\">${i18n.totalInterest}</th>\n                                        <th class=\"column4 t14r\" scope=\"col\" id=\"FRheader08\">${i18n.totalRepayment}</th>\n                                    </tr>\n                                </thead>\n                                <tbody class=\"t14r\">\n                                    <tr class=\"row2\">\n                                        <td class=\"column1\" headers=\"FRheader05\"><span class=\"t22l\" data-dojo-attach-point=\"fortnightlyRepaymentAmount\"></span></td>\n                                        <td class=\"column2\" headers=\"FRheader06\" data-dojo-attach-point=\"fortnightlyLoanPeriod\"></td>\n                                        <td class=\"column3\" headers=\"FRheader07\" data-dojo-attach-point=\"fortnightlyInterestPayable\"></td>\n                                        <td class=\"column4\" headers=\"FRheader08\" data-dojo-attach-point=\"fortnightlyTotalRepayment\"></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"l-twelve m-eight s-four columns showonmobile\">\n                        <hr/>\n                        <table cellspacing=\"0\" class=\"cc-table\" summary=\"${i18n.accessMonthlyRepayment}\">\n                            <caption class=\"hide\">${i18n.accessMonthlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.monthlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"monthlyRepaymentAmount1\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"monthlyLoanPeriod1\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"monthlyInterestPayable1\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"monthlyTotalRepayment1\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <hr/>\n                        <table cellspacing=\"0\" class=\"cc-table\" summary=\"${i18n.accessFortnightlyRepayment}\">\n                            <caption class=\"hide\">${i18n.accessFortnightlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.fortnightlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"fortnightlyRepaymentAmount1\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"fortnightlyLoanPeriod1\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"fortnightlyInterestPayable1\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"fortnightlyTotalRepayment1\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <!-- for tablet -->\n                <div class=\"row\">\n                    <div class=\"l-twelve m-eight s-four columns showontablet\">\n                        <hr/>\n                        <table cellspacing=\"15\" class=\"cc-table-monthly\" summary=\"${i18n.accessMonthlyRepayment}\">\n                            <caption class=\"hide\">${i18n.accessMonthlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.monthlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"monthlyRepaymentAmount2\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"monthlyLoanPeriod2\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"monthlyInterestPayable2\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"monthlyTotalRepayment2\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <hr/>\n                        <table cellspacing=\"15\" class=\"cc-table-fortnightly\" summary=\"${i18n.accessFortnightlyRepayment}\">\n                            <caption class=\"hide\">${i18n.accessFortnightlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.fortnightlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"fortnightlyRepaymentAmount2\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"fortnightlyLoanPeriod2\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"fortnightlyInterestPayable2\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"fortnightlyTotalRepayment2\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </form>\n            <div class=\"borrowdisclaim\">\n                <div class=\"rows\">\n                    <div class=\"l-twelve m-eight s-four columns\">\n                        <p class=\"t14r\">\n                            <span class=\"t14b\">${i18n.disclaimerTitle}</span>\n                            <span class=\"dis-desc-color t14r\">${i18n.disclaimerDesc}</span>\n                        </p>\n                    </div>\n                </div>\n            </div>\n            <div class=\"propertyval\">\n                <div class=\"rows\">\n                    <div class=\"l-twelve m-eight s-four columns\">\n                        <p class=\"ptext t16r\">${i18n.currentPriceFlat}</p>\n                        <a href=\"${i18n.propertyValUrl}\" id=\"Get Property Valuation\" class=\"secondaryaction primaryround\"><span>${i18n.getPropVal}</span></a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"}});define("hdx/bijits/tools/mortgageCalculator/CostingCalculator",["dojo/_base/declare","dijit/_TemplatedMixin","hsbc/_ECAMixin","dijit/_WidgetsInTemplateMixin","dijit/_WidgetBase","dojo/on","dojo/_base/lang","dijit/registry","dojo/number","dojo/text!./template/CostingCalculator.html","hsbc/eca!dojo/i18n!pws/Components/client/mortgageCalculator/nls/CostingCalculator_nls","hdx/bijits/tools/mortgageCalculator/MortgageCalUtil","hsbc/eca!pws/Components/client/mortgageCalculator/config/CostMortgageCalculatorConfig","hdx/dijits/reusableComponents/CustomizedTextBox","hdx/dijits/reusableComponents/CustomizedHorizontalRangeSlider","dojo/dom-attr","hsbc/utilities/CommonUtil","dojo/domReady!","hdx/dijits/form/Select","hdx/bijits/global_framework/global_container/GlobalContainer","dijit/form/TextBox","dijit/form/Form","dijit/form/RadioButton"],function(_2c7,_2c8,_2c9,_2ca,_2cb,on,lang,_2cc,_2cd,_2ce,i18n,_2cf,_2d0,_2d1,_2d2,_2d3,_2d4){return _2c7("hdx.bijits.tools.mortgageCalculator.CostingCalculator",[_2cb,_2c8,_2ca,_2c9],{templateString:_2ce,i18n:i18n,loanAmountTextBox:null,interestRateTextBox:null,loanPeriodTextBox:null,loanPeriodSliderBar:null,trackingCountryCode:null,trackingTransactionTotal:null,trackingTransactionTimePeriod:null,postCreate:function(){this.repaymentCalflag=false;var _2d5=this;_2d5.sliderEflag="";_2d5.createUIElement();_2d5.bindEvents();_2d5.updateCalculationResult();},createUIElement:function(){var _2d6=_2d4.getConfiguration(_2d0.CostMortgageCalculatorConfig);var _2d7=(_2d6.loanAmountType&&_2d6.loanAmountType["default"])?_2d6.loanAmountType["default"]:"";var _2d8=(_2d6.loanAmountPrefix&&_2d6.loanAmountPrefix["default"])?_2d6.loanAmountPrefix["default"]:"";_2d8=(_2d8&&i18n[_2d8])?i18n[_2d8]:_2d8;var _2d9=(_2d6.loanAmountSuffix&&_2d6.loanAmountSuffix["default"])?_2d6.loanAmountSuffix["default"]:"";_2d9=(_2d9&&i18n[_2d9])?i18n[_2d9]:_2d9;var _2da=(_2d6.loanAmountDefaultValue&&_2d6.loanAmountDefaultValue["default"])?_2d6.loanAmountDefaultValue["default"]:"";var _2db=(_2d6.loanAmountMinValue&&_2d6.loanAmountMinValue["default"])?_2d6.loanAmountMinValue["default"]:"";var _2dc=(_2d6.loanAmountMaxValue&&_2d6.loanAmountMaxValue["default"])?_2d6.loanAmountMaxValue["default"]:"";var _2dd=(_2d6.loanAmountDecimalPlaces&&_2d6.loanAmountDecimalPlaces["default"])?_2d6.loanAmountDecimalPlaces["default"]:"";var _2de=(_2d6.loanAmountIsMandatory&&_2d6.loanAmountIsMandatory["default"])?_2d6.loanAmountIsMandatory["default"]:"";_2de=(_2de==="Y")?true:false;var _2df=(_2d6.interestRateType&&_2d6.interestRateType["default"])?_2d6.interestRateType["default"]:"";var _2e0=(_2d6.interestRatePrefix&&_2d6.interestRatePrefix["default"])?_2d6.interestRatePrefix["default"]:"";_2e0=(_2e0&&i18n[_2e0])?i18n[_2e0]:_2e0;var _2e1=(_2d6.interestRateSuffix&&_2d6.interestRateSuffix["default"])?_2d6.interestRateSuffix["default"]:"";_2e1=(_2e1&&i18n[_2e1])?i18n[_2e1]:_2e1;var _2e2=(_2d6.interestRateDefaultValue&&_2d6.interestRateDefaultValue["default"])?_2d6.interestRateDefaultValue["default"]:"";var _2e3=(_2d6.interestRateMinValue&&_2d6.interestRateMinValue["default"])?_2d6.interestRateMinValue["default"]:"";var _2e4=(_2d6.interestRateMaxValue&&_2d6.interestRateMaxValue["default"])?_2d6.interestRateMaxValue["default"]:"";var _2e5=(_2d6.interestRateDecimalPlaces&&_2d6.interestRateDecimalPlaces["default"])?_2d6.interestRateDecimalPlaces["default"]:"";var _2e6=(_2d6.interestRateIsMandatory&&_2d6.interestRateIsMandatory["default"])?_2d6.interestRateIsMandatory["default"]:"";_2e6=(_2e6==="Y")?true:false;var _2e7=(_2d6.loanPeriodType&&_2d6.loanPeriodType["default"])?_2d6.loanPeriodType["default"]:"";var _2e8=(_2d6.loanPeriodPrefix&&_2d6.loanPeriodPrefix["default"])?_2d6.loanPeriodPrefix["default"]:"";_2e8=(_2e8&&i18n[_2e8])?i18n[_2e8]:_2e8;var _2e9=(_2d6.loanPeriodSuffix&&_2d6.loanPeriodSuffix["default"])?_2d6.loanPeriodSuffix["default"]:"";_2e9=(_2e9&&i18n[_2e9])?i18n[_2e9]:_2e9;var _2ea=(_2d6.loanPeriodDefaultValue&&_2d6.loanPeriodDefaultValue["default"])?_2d6.loanPeriodDefaultValue["default"]:"";var _2eb=(_2d6.loanPeriodMinValue&&_2d6.loanPeriodMinValue["default"])?_2d6.loanPeriodMinValue["default"]:"";var _2ec=(_2d6.loanPeriodMaxValue&&_2d6.loanPeriodMaxValue["default"])?_2d6.loanPeriodMaxValue["default"]:"";var _2ed=(_2d6.loanPeriodDecimalPlaces&&_2d6.loanPeriodDecimalPlaces["default"])?_2d6.loanPeriodDecimalPlaces["default"]:"";var _2ee=(_2d6.loanPeriodIsMandatory&&_2d6.loanPeriodIsMandatory["default"])?_2d6.loanPeriodIsMandatory["default"]:"";_2ee=(_2ee==="Y")?true:false;var _2ef=(_2d6.loanPeriodDiscreteValue&&_2d6.loanPeriodDiscreteValue["default"])?_2d6.loanPeriodDiscreteValue["default"]:"";this.loanAmountTextBox=new _2d1({name:"loanAmount",type:_2d7,labeltext:i18n.loanAmountTextBox,prefixText:_2d8,suffixText:_2d9,maxAmount:_2dc,minAmount:_2db,defaultAmount:_2da,decimalPlaces:_2dd,validateMandatory:_2de,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_loanAmountInvalid,invalidMsgNumericFormat:i18n.errMsg_loanAmountNumericFormat,invalidMsgAmountTooLarge:_2d4.replaceValidationErrMessage(i18n.errMsg_loanAmountTooLarge,_2db,_2dc,_2dd),invalidMsgAmountTooSmall:_2d4.replaceValidationErrMessage(i18n.errMsg_loanAmountTooSmall,_2db,_2dc,_2dd),invalidMsgEmpty:_2d4.replaceValidationErrMessage(i18n.errMsg_loanAmountEmpty,_2db,_2dc,_2dd),updateInvalidValueWhenBlur:false});this.loanAmountTextBox.placeAt(this.loanAmount);this.interestRateTextBox=new _2d1({type:_2df,labeltext:i18n.interestRateTextbox,prefixText:_2e0,suffixText:_2e1,maxAmount:_2e4,minAmount:_2e3,defaultAmount:_2e2,decimalPlaces:_2e5,validateMandatory:_2e6,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_interestRateInvalid,invalidMsgDecimalPlaces:i18n.errMsg_interestRateDecimalPlace,invalidMsgAmountTooLarge:_2d4.replaceValidationErrMessage(i18n.errMsg_interestRateTooLarge,_2e3,_2e4,_2e5),invalidMsgAmountTooSmall:_2d4.replaceValidationErrMessage(i18n.errMsg_interestRateTooSmall,_2e3,_2e4,_2e5),invalidMsgEmpty:_2d4.replaceValidationErrMessage(i18n.errMsg_interestRateEmpty,_2e3,_2e4,_2e5),updateInvalidValueWhenBlur:false});this.interestRateTextBox.placeAt(this.interestRate);this.loanPeriodTextBox=new _2d1({type:_2e7,labeltext:i18n.loanPeriodTextbox,prefixText:_2e8,suffixText:_2e9,maxAmount:_2ec,minAmount:_2eb,defaultAmount:_2ea,decimalPlaces:_2ed,validateMandatory:_2ee,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_loanPeriodInvalid,invalidMsgNumericFormat:i18n.errMsg_loanPeriodNumericFormat,invalidMsgAmountTooLarge:_2d4.replaceValidationErrMessage(i18n.errMsg_loanPeriodTooLarge,_2eb,_2ec,_2ed),invalidMsgAmountTooSmall:_2d4.replaceValidationErrMessage(i18n.errMsg_loanPeriodTooSmall,_2eb,_2ec,_2ed),invalidMsgEmpty:_2d4.replaceValidationErrMessage(i18n.errMsg_loanPeriodEmpty,_2eb,_2ec,_2ed),updateInvalidValueWhenBlur:false});this.loanPeriodTextBox.placeAt(this.loanPeriod);this.loanPeriodSliderBar=new _2d2({placeLocation:this.loanPeriodSlider,inputHandler:this.loanPeriodTextBox.textbox,minValue:parseFloat(_2eb),maxValue:parseFloat(_2ec),value:parseFloat(_2ea),name:"costingLoanPeriodSlider"+this.id,sliderButtons:false,currency:false,discreteValues:_2ef,labelText:i18n.loanPeriodSlider});_2d3.set(this.interestRateTextBox,"aria-required","true");_2d3.set(this.loanAmountTextBox.textbox,"aria-invalid","false");_2d3.set(this.loanAmountTextBox.textbox,"aria-required","false");_2d3.set(this.loanPeriodTextBox.textbox,"aria-invalid","false");_2d3.set(this.loanPeriodTextBox.textbox,"aria-required","false");this.loanPeriodCostSliderSrt.innerHTML=this.loanPeriodTextBox.textbox.value;_2d3.set(_2cc.byId(this.loanPeriodSliderBar.name),"aria-describedby","loanPeriodCostSlider");},bindEvents:function(){var _2f0=this;var _2f1=function(_2f2){if(this.loanAmountTextBox.isValid()){var _2f3=_2d4.getTextBoxValue(this.loanAmountTextBox);this.loanAmountTextBox.textbox.value=_2d4.removeFormat(_2f3,this.loanAmountTextBox.decimalPlaces);}};var _2f4=function(_2f5){var _2f6=_2d4.getTextBoxValue(this.loanAmountTextBox);_2f6=_2cd.parse(_2f6);if(this.loanAmountTextBox.isValid()){var _2f7=_2cd.parse(_2f6);if(!isNaN(_2f7)){this.updateCalculationResult();}else{_2f0.clearCalculationResult();}}else{_2f0.clearCalculationResult();}};var _2f8=function(self,_2f9){var _2fa=_2d4.getTextBoxValue(_2f9);_2fa=_2cd.parse(_2fa);if(_2f9.isValid()){if(!isNaN(_2fa)){_2f9.textbox.value=_2d4.decimalFormat(_2fa,_2f9.decimalPlaces);}}};var _2fb=function(){_2f8(this,this.loanAmountTextBox);var _2fc=this._createTrackingEvent("click","Update");_2fc["event_content"]="Changed | loan amount | input";_2d4.submitTealium(_2fc);};var _2fd=function(_2fe){var rate=_2d4.getTextBoxValue(this.interestRateTextBox);if(this.interestRateTextBox.isValid()){rate=_2cd.parse(rate);this.interestRateTextBox.textbox.value=rate;}};var _2ff=function(_300){var _301=_2d4.getTextBoxValue(this.interestRateTextBox);_301=_2cd.parse(_301);if(this.interestRateTextBox.isValid()){var _302=_2cd.parse(_301);if(!isNaN(_302)){this.updateCalculationResult();}else{_2f0.clearCalculationResult();}}else{_2f0.clearCalculationResult();}};var _303=function(){_2f8(this,this.interestRateTextBox);var _304=this._createTrackingEvent("click","Update");_304["event_content"]="Changed | interest rate | input";_2d4.submitTealium(_304);};var _305=function(){var _306=_2d4.getTextBoxValue(this.loanPeriodTextBox);if(this.loanPeriodTextBox.isValid()){_306=_2cd.parse(_306);this.loanPeriodTextBox.textbox.value=_306;}};var _307=function(_308){var _309=_2d4.getTextBoxValue(this.loanPeriodTextBox);if(this.loanPeriodTextBox.isValid()){var _30a=_2cd.parse(_309);if(!isNaN(_30a)){_2f0.sliderEflag="Typed";this.loanPeriodCostSliderSrt.innerHTML=_2f0.loanPeriodTextBox.textbox.value;this.updateCalculationResult();_2cc.byId(this.loanPeriodSliderBar.name).set("value",_30a);}else{_2f0.clearCalculationResult();}}else{_2f0.clearCalculationResult();}};var _30b=function(){var _30c=this._createTrackingEvent("click","Update");_30c["event_content"]="Changed | loan period | input";_2d4.submitTealium(_30c);};on(this.loanAmountTextBox.textbox,"focus",lang.hitch(this,_2f1));on(this.loanAmountTextBox.textbox,"keyup",lang.hitch(this,_2f4));on(this.loanAmountTextBox.textbox,"blur",lang.hitch(this,_2fb));on(this.interestRateTextBox.textbox,"keyup",lang.hitch(this,_2ff));on(this.interestRateTextBox.textbox,"blur",lang.hitch(this,_303));on(this.loanPeriodTextBox.textbox,"focus",lang.hitch(this,_305));on(this.loanPeriodTextBox.textbox,"keyup",lang.hitch(this,_307));on(this.loanPeriodTextBox.textbox,"blur",lang.hitch(this,_30b));on(_2cc.byId(this.loanPeriodSliderBar.name),"mouseup",function(_30d){_2f0.updateCalculationResult();var _30e=_2f0._createTrackingEvent("click","Update");_30e["event_content"]="Changed | loan period | Slider";_2d4.submitTealium(_30e);});on(_2cc.byId(this.loanPeriodSliderBar.name),"change",function(_30f){_2f0.loanPeriodSliderBar.value=_30f;if(_2f0.sliderEflag!=="Typed"){_2f0.loanPeriodTextBox.textbox.value=_30f;_2d4.removeValidationError(_2f0.loanPeriodTextBox);}_2f0.loanPeriodCostSliderSrt.innerHTML=_2f0.loanPeriodTextBox.textbox.value;_2f0.updateCalculationResult();_2f0.sliderEflag="";});},updateCalculationResult:function(){if(!this.loanAmountTextBox.isValid()||!this.interestRateTextBox.isValid()||!this.loanPeriodTextBox.isValid()){this.clearCalculationResult();return;}var _310=_2cd.parse(_2d4.getTextBoxValue(this.loanAmountTextBox));var _311=_2cd.parse(_2d4.getTextBoxValue(this.interestRateTextBox));var _312=_2cd.parse(_2d4.getTextBoxValue(this.loanPeriodTextBox));if(this.loanAmountTextBox.isValid()&&this.interestRateTextBox.isValid()&&this.loanPeriodTextBox.isValid()){var _313=_310;var _314=_2cf.calculateRepayAmount("mr",_313,_311,_312);var _315=_2cf.calculateRepayAmount("fr",_313,_311,_312);var _316=Math.round(_314);var _317=_2cf.calculateRepaySummary("mr",_313,_314,_311)[0];var _318=Math.round(_2cf.calculateRepaySummary("mr",_313,_314,_311)[1]);var _319=Math.round(_2cf.calculateRepaySummary("mr",_313,_314,_311)[2]);var _31a=Math.round(_315);var _31b=_2cf.calculateRepaySummary("fr",_313,_315,_311)[0];var _31c=Math.round(_2cf.calculateRepaySummary("fr",_313,_315,_311)[1]);var _31d=Math.round(_2cf.calculateRepaySummary("fr",_313,_315,_311)[2]);this.trackingCountryCode="HKD";this.trackingTransactionTotal=_319;this.trackingTransactionTimePeriod=_312*12;_316=_2cd.format(_316);_31a=_2cd.format(_31a);_318=_2cd.format(_318);_319=_2cd.format(_319);_31c=_2cd.format(_31c);_31d=_2cd.format(_31d);this.monthlyRepaymentAmount.innerHTML=_2cf.addValueLabel(i18n.currency,_316,i18n.dollar);this.fortnightlyRepaymentAmount.innerHTML=_2cf.addValueLabel(i18n.currency,_31a,i18n.dollar);this.monthlyLoanPeriod.innerHTML=_2cf.addValueLabel("",_317,i18n.years);this.monthlyInterestPayable.innerHTML=_2cf.addValueLabel(i18n.currency,_318,i18n.dollar);this.monthlyTotalRepayment.innerHTML=_2cf.addValueLabel(i18n.currency,_319,i18n.dollar);this.fortnightlyLoanPeriod.innerHTML=_2cf.addValueLabel("",_31b,i18n.years);this.fortnightlyInterestPayable.innerHTML=_2cf.addValueLabel(i18n.currency,_31c,i18n.dollar);this.fortnightlyTotalRepayment.innerHTML=_2cf.addValueLabel(i18n.currency,_31d,i18n.dollar);this.monthlyRepaymentAmount2.innerHTML=_2cf.addValueLabel(i18n.currency,_316,i18n.dollar);this.fortnightlyRepaymentAmount2.innerHTML=_2cf.addValueLabel(i18n.currency,_31a,i18n.dollar);this.monthlyLoanPeriod2.innerHTML=_2cf.addValueLabel("",_317,i18n.years);this.monthlyInterestPayable2.innerHTML=_2cf.addValueLabel(i18n.currency,_318,i18n.dollar);this.monthlyTotalRepayment2.innerHTML=_2cf.addValueLabel(i18n.currency,_319,i18n.dollar);this.fortnightlyLoanPeriod2.innerHTML=_2cf.addValueLabel("",_31b,i18n.years);this.fortnightlyInterestPayable2.innerHTML=_2cf.addValueLabel(i18n.currency,_31c,i18n.dollar);this.fortnightlyTotalRepayment2.innerHTML=_2cf.addValueLabel(i18n.currency,_31d,i18n.dollar);this.monthlyRepaymentAmount1.innerHTML=_2cf.addValueLabel(i18n.currency,_316,i18n.dollar);this.fortnightlyRepaymentAmount1.innerHTML=_2cf.addValueLabel(i18n.currency,_31a,i18n.dollar);this.monthlyLoanPeriod1.innerHTML=_2cf.addValueLabel("",_317,i18n.years);this.monthlyInterestPayable1.innerHTML=_2cf.addValueLabel(i18n.currency,_318,i18n.dollar);this.monthlyTotalRepayment1.innerHTML=_2cf.addValueLabel(i18n.currency,_319,i18n.dollar);this.fortnightlyLoanPeriod1.innerHTML=_2cf.addValueLabel("",_31b,i18n.years);this.fortnightlyInterestPayable1.innerHTML=_2cf.addValueLabel(i18n.currency,_31c,i18n.dollar);this.fortnightlyTotalRepayment1.innerHTML=_2cf.addValueLabel(i18n.currency,_31d,i18n.dollar);}},clearCalculationResult:function(){this.monthlyRepaymentAmount.innerHTML="";this.fortnightlyRepaymentAmount.innerHTML="";this.monthlyLoanPeriod.innerHTML="";this.monthlyInterestPayable.innerHTML="";this.monthlyTotalRepayment.innerHTML="";this.fortnightlyLoanPeriod.innerHTML="";this.fortnightlyInterestPayable.innerHTML="";this.fortnightlyTotalRepayment.innerHTML="";this.monthlyRepaymentAmount2.innerHTML="";this.fortnightlyRepaymentAmount2.innerHTML="";this.monthlyLoanPeriod2.innerHTML="";this.monthlyInterestPayable2.innerHTML="";this.monthlyTotalRepayment2.innerHTML="";this.fortnightlyLoanPeriod2.innerHTML="";this.fortnightlyInterestPayable2.innerHTML="";this.fortnightlyTotalRepayment2.innerHTML="";this.monthlyRepaymentAmount1.innerHTML="";this.fortnightlyRepaymentAmount1.innerHTML="";this.monthlyLoanPeriod1.innerHTML="";this.monthlyInterestPayable1.innerHTML="";this.monthlyTotalRepayment1.innerHTML="";this.fortnightlyLoanPeriod1.innerHTML="";this.fortnightlyInterestPayable1.innerHTML="";this.fortnightlyTotalRepayment1.innerHTML="";},_createTrackingEvent:function(type,_31e){var _31f={"tool_name":"MortgageCostCalcV2","event_type":type,"event_action":"Mortgage Repayment Calculator | "+_31e};lang.mixin(_31f,{"country_code":this.trackingCountryCode,"transaction_total":this.trackingTransactionTotal,"transaction_time_period":this.trackingTransactionTimePeriod});return _31f;}});});},"hdx/bijits/tools/mortgageCalculator/DepositLinkedMortgage":function(){require({cache:{"url:hdx/bijits/tools/mortgageCalculator/template/DepositLinkedMortgage.html":"<div class=\"third-tab deposit-calc\">\n\t<div class=\"row\">\n\t\t<div class=\"l-twelve m-eight s-four columns mobile-pad-l mobile-pad-r\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<form action=\"\"\n\t\t\t\t\tname=\"mortgageCalculator\" class=\"deposit-linked-tab\">\n\t\t\t\t\t<div class=\"l-three m-four s-four columns arrowright\">\n\t\t\t\t\t\t<h2 class=\"t22l\">${i18n.currentDetails}</h2>\n\t\t\t\t\t\t<fieldset>\n\t\t\t\t\t\t\t<legend>${i18n.currentRepaymentFrequency}</legend>\n\t\t\t\t\t\t\t<span class=\"floatLradio\"> <span class=\"backurlradio\">\n\t\t\t\t\t\t\t\t\t<input id=\"repayment\"\n\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"fortnightlyButton\"\n\t\t\t\t\t\t\t\t\tclass=\"fortnightly-button opacityclassradio \" type=\"radio\"\n\t\t\t\t\t\t\t\t\tdata-dojo-type=\"dijit/form/RadioButton\" name=\"repay\" value=\"0\" />\n\t\t\t\t\t\t\t</span> <label for=\"repayment\" class=\"labradio\">${i18n.fortnightly}</label>\n\t\t\t\t\t\t\t</span> <span class=\"floatLradio marl32\"> <span\n\t\t\t\t\t\t\t\tclass=\"backurlradiomonthely\"> <input id=\"labradio\"\n\t\t\t\t\t\t\t\t\tclass=\"monthly-button  opacityclassradiomontly\" type=\"radio\"\n\t\t\t\t\t\t\t\t\tdata-dojo-type=\"dijit/form/RadioButton\" aria-required=\"true\"\n\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"monthlyRadioButton\" type=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"repay\" checked=\"checked\" value=\"0\" /></span> <label\n\t\t\t\t\t\t\t\tfor=\"labradio\" class=\"labradio\">${i18n.monthly}</label>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t<div id=\"loanAmount\" class=\"labelClass labelmargin\">${i18n.loanAmount}</div>\n\t\t\t\t\t\t<div style=\"position: relative\"\n\t\t\t\t\t\t\tclass=\"clearfix-position amountHKD\">\n\t\t\t\t\t\t\t<div class=\"loantxtbox\" data-dojo-attach-point=\"loanAmount\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=\"loanTerm\" class=\"labelClass labelmargin\">${i18n.loanTerm}</div>\n\t\t\t\t\t\t<div style=\"position: relative\"\n\t\t\t\t\t\t\tclass=\"clearfix-position amountHKD\">\n\t\t\t\t\t\t\t<div class=\"loantxtbox\" data-dojo-attach-point=\"loanPeriod\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"labelClass\">${i18n.lumpDeposit}</div>\n\t\t\t\t\t\t<div style=\"position: relative\"\n\t\t\t\t\t\t\tclass=\"clearfix-position amountHKD\">\n\t\t\t\t\t\t\t<div class=\"loantxtbox\"\n\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"lumpSumDepositAmount\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"labelClass\">${i18n.monthlySavings}</div>\n\t\t\t\t\t\t<div style=\"position: relative\"\n\t\t\t\t\t\t\tclass=\"clearfix-position monthly-savings-textbox amountHKD\">\n\t\t\t\t\t\t\t<div class=\"loantxtbox\" data-dojo-attach-point=\"monthlySavings\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"l-four m-four s-four columns arrowdown showonmobile postn\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"l-three m-four s-four columns arrowright d-arrow\">\n\t\t\t\t\t\t<h2 class=\"t22l\">${i18n.mortgageLoanInterestRate}</h2>\n\t\t\t\t\t\t<div class=\"labelClass\">${i18n.savingsDepoRate}</div>\n\t\t\t\t\t\t<div style=\"position: relative\"\n\t\t\t\t\t\t\tclass=\"clearfix-position rate-textbox\">\n\t\t\t\t\t\t\t<div id=\"loanperiod4\" data-target=\"saving-target\"\n\t\t\t\t\t\t\t\tclass=\"firstTextBox rate-textbox-sibling\"\n\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"savingsDepositRate\" role=\"alert\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"labelClass\">${i18n.stdMortgageRate}</div>\n\t\t\t\t\t\t<div style=\"position: relative\"\n\t\t\t\t\t\t\tclass=\"clearfix-position rate-textbox\">\n\t\t\t\t\t\t\t<div data-target=\"standard-target\" class=\"firstTextBox\"\n\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"stdMortgageRate\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"labelClass\">${i18n.depositMortgageRate}</div>\n\t\t\t\t\t\t<div style=\"position: relative\"\n\t\t\t\t\t\t\tclass=\"clearfix-position rate-textbox\">\n\t\t\t\t\t\t\t<div data-target=\"deposit-target\" class=\"firstTextBox\"\n\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"dlmRate\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type=\"button\" value=\"${i18n.calculateBtn}\"\n\t\t\t\t\t\t\tid=\"calculate\"\n\t\t\t\t\t\t\tclass=\"primaryaction primarysquare disabled\"\n\t\t\t\t\t\t\tdata-dojo-attach-point=\"calculateButton\">\n\t\t\t\t\t\t<div class=\"resetBtn\">\n\t\t\t\t\t\t\t<input type=\"button\" value=\"${i18n.resetBtn}\"\n\t\t\t\t\t\t\t\tid=\"Reset Calculator\"\n\t\t\t\t\t\t\t\tclass=\"secondaryaction primarysquare hideprimaryaction\"\n\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"ResetcalculateButton\"> <span\n\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"refreshIcon\" class=\"icon-refresh hide\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t<div class=\"l-five m-eight s-four columns mobile-pad-l mobile-pad-r\">\n\t\t\t\t\t<hr class=\"hideondesktop\"/>\n\t\t\t\t\t<form>\n\t\t\t\t\t\t<div class=\"resultdep\">\n\t\t\t\t\t\t\t<div data-dojo-attach-point=\"serviceError\"></div>\n\t\t\t\t\t\t\t<div class=\"resultdepOpacity\"\n\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"resultdepOpacity\">\n\t\t\t\t\t\t\t\t<h2 data-dojo-attach-point = \"toolResults\" tabindex =\"0\" class=\"t16b\">${i18n.yourResults}</h2>\n\t\t\t\t\t\t\t\t<table cellspacing=\"0\" class=\"cc-table\"\n\t\t\t\t\t\t\t\t\tsummary=\"${i18n.yourResults}\">\n\t\t\t\t\t\t\t\t\t<caption class=\"hide\">${i18n.yourResults}</caption>\n\t\t\t\t\t\t\t\t\t<thead class=\"t14b\">\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row1\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" scope=\"col\"></th>\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column2\" scope=\"col\" id=\"header01\">${i18n.depositMortgage}</th>\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column3\" scope=\"col\" id=\"header02\">${i18n.stdMortgage}</th>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t<tbody class=\"t14r\">\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row2\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" id=\"header03\">${i18n.numMortgageInstalments}</th>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column2\" data-dojo-attach-point=\"r2c2\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers01 headers03\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialValue}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"dlmNumOfInstalment\"></span></td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column3\" data-dojo-attach-point=\"r2c3\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers02 headers03\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialValue}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"stdNumOfInstalment\"></span></td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row3\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" id=\"header04\">${i18n.mortgageInterestRate}</th>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column2\" data-dojo-attach-point=\"r3c2\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers01 headers04\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialRate}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\" data-dojo-attach-point=\"dlmLoanRate\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column3\" data-dojo-attach-point=\"r3c3\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers02 headers04\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialRate}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\" data-dojo-attach-point=\"stdLoanRate\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row4\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" id=\"header05\">${i18n.savingsInterestRate}</th>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column2\" data-dojo-attach-point=\"r4c2\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers01 headers05\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialRate}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"dlmSavingsDepositRate\"></span></td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column3\" data-dojo-attach-point=\"r4c3\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers02 headers05\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialRate}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"stdSavingsDepositRate\"></span></td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row5\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" id=\"header06\">${i18n.mortgageInstalment}</th>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column2\" data-dojo-attach-point=\"r5c2\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers01 headers06\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\" data-dojo-attach-point=\"dlmInstalment\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column3\" data-dojo-attach-point=\"r5c3\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers02 headers06\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\" data-dojo-attach-point=\"stdInstalment\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row6\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" id=\"header07\">${i18n.mortgageInterest}</th>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column2\" data-dojo-attach-point=\"r6c2\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers01 headers07\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"dlmInterestRepayment\"></span></td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column3\" data-dojo-attach-point=\"r6c3\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers02 headers07\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"stdInterestRepayment\"></span></td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row7\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" id=\"header08\">${i18n.savingsInterest}</th>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column2\" headers=\"headers01 headers08\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"dlmInterestReturn\"></span></td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column3\" headers=\"headers02 headers08\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"stdInterestReturn\"></span></td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row8\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" id=\"header09\">${i18n.netInterestExpenses}</th>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column2\" headers=\"headers01 headers09\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\" data-dojo-attach-point=\"dlmNetInterest\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column3\" headers=\"headers02 headers09\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\" data-dojo-attach-point=\"stdNetInterest\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t<div class=\"finalresult\">\n\t\t\t\t\t\t\t\t\t<p class=\"finalresult-text t22l\">\n\t\t\t\t\t\t\t\t\t\t${i18n.savingsOn}<br /> <span\n\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"netInterestExpenseResult\">${i18n.initialSavingsOn}</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"borrowdisclaim\">\n\t\t\t\t<div class=\"rows\">\n\t\t\t\t\t<div class=\"l-twelve m-eight s-four columns\">\n\t\t\t\t\t\t\t<div class=\"t14r\">\n\t\t\t\t\t\t\t<!-- <span class=\"t14b\">${i18n.disclaimerTitle1}</span> -->\n\t\t\t\t\t\t\t <h2 class=\"heading-margin\">${i18n.disclaimerTitle1}</h2>\n\t\t\t\t\t\t\t <span class=\"dis-desc-color t14r\">${i18n.disclaimerDesc1}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p class=\"t14r\">\n\t\t\t\t\t\t\t<h2 class=\"heading-margin\">${i18n.disclaimerTitle2}</h2>\n\t\t\t\t\t\t<ol class=\"numlist t14r\">\n\t\t\t\t\t\t\t<li>${i18n.notesDesc1}\n\t\t\t\t\t\t\t\t<ul class=\"bulletlist\">\n\t\t\t\t\t\t\t\t\t<li>${i18n.notesDescTermsnConditions1}</li>\n\t\t\t\t\t\t\t\t\t<li>${i18n.notesDescTermsnConditions2}</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>${i18n.notesDesc2}</li>\n\t\t\t\t\t\t\t<li>${i18n.notesDesc3}</li>\n\t\t\t\t\t\t\t<li>${i18n.notesDesc4}</li>\n\t\t\t\t\t\t\t<li>${i18n.notesDesc5}</li>\n\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"propertyval\">\n\t\t\t\t<div class=\"rows\">\n\t\t\t\t\t<div class=\"l-twelve m-eight s-four columns\">\n\t\t\t\t\t\t<p class=\"ptext t16r\">${i18n.currentPriceFlat}</p>\n\t\t\t\t\t\t<a href=\"${i18n.propertyValUrl}\" \n\t\t\t\t\t\t\tid=\"Get Property Valuation\" class=\"secondaryaction primaryround\"><span>${i18n.getPropVal}</span></a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>"}});define("hdx/bijits/tools/mortgageCalculator/DepositLinkedMortgage",["dojo/_base/declare","dojo/dom-class","dijit/_TemplatedMixin","hsbc/_ECAMixin","dijit/_WidgetsInTemplateMixin","dijit/_WidgetBase","dojo/on","dojo/_base/lang","dojo/number","dojo/query","dojo/text!./template/DepositLinkedMortgage.html","hsbc/eca!dojo/i18n!pws/Components/client/mortgageCalculator/nls/DepositLinkedMortgage_nls","dojo/dom-attr","dojo/json","dojo/request","hsbc/eca!pws/Components/client/mortgageCalculator/config/DLMCalculatorConfig","hdx/dijits/reusableComponents/CustomizedTextBox","hsbc/_PWSEndpointMixin","hsbc/utilities/CommonUtil","dijit/focus","dojo/domReady!","hdx/dijits/form/Select","dijit/form/Form","dijit/form/RadioButton"],function(_320,_321,_322,_323,_324,_325,on,lang,_326,_327,_328,i18n,_329,json,_32a,_32b,_32c,_32d,_32e,_32f){return _320("hdx.bijits.tools.mortgageCalculator.DepositLinkedMortgage",[_325,_322,_324,_323,_32d],{templateString:_328,i18n:i18n,loanAmountTextBox:null,lumpSumDepositAmountTextBox:null,monthlySavingsTextBox:null,stdMortgageRateTextBox:null,dlmRateTextBox:null,savingsDepositRateTextBox:null,_calculateDLMCostEndPoint:null,postCreate:function(){var _330=this;this.repaymentCalflag=false;this.inputchangeType="";_330.createUIElement();_330.bindEvents();_330.activateCalculate();},createUIElement:function(){var _331=_32e.getConfiguration(_32b.DLMCalculatorConfig);var _332=(_331.loanAmountType&&_331.loanAmountType["default"])?_331.loanAmountType["default"]:"";var _333=(_331.loanAmountPrefix&&_331.loanAmountPrefix["default"])?_331.loanAmountPrefix["default"]:"";_333=(_333&&i18n[_333])?i18n[_333]:_333;var _334=(_331.loanAmountSuffix&&_331.loanAmountSuffix["default"])?_331.loanAmountSuffix["default"]:"";_334=(_334&&i18n[_334])?i18n[_334]:_334;var _335=(_331.loanAmountDefaultValue&&_331.loanAmountDefaultValue["default"])?_331.loanAmountDefaultValue["default"]:"";var _336=(_331.loanAmountMinValue&&_331.loanAmountMinValue["default"])?_331.loanAmountMinValue["default"]:"";var _337=(_331.loanAmountMaxValue&&_331.loanAmountMaxValue["default"])?_331.loanAmountMaxValue["default"]:"";var _338=(_331.loanAmountDecimalPlaces&&_331.loanAmountDecimalPlaces["default"])?_331.loanAmountDecimalPlaces["default"]:"";var _339=(_331.loanAmountIsMandatory&&_331.loanAmountIsMandatory["default"])?_331.loanAmountIsMandatory["default"]:"";_339=(_339==="Y")?true:false;var _33a=(_331.loanPeriodType&&_331.loanPeriodType["default"])?_331.loanPeriodType["default"]:"";var _33b=(_331.loanPeriodPrefix&&_331.loanPeriodPrefix["default"])?_331.loanPeriodPrefix["default"]:"";_33b=(_33b&&i18n[_33b])?i18n[_33b]:_33b;var _33c=(_331.loanPeriodSuffix&&_331.loanPeriodSuffix["default"])?_331.loanPeriodSuffix["default"]:"";_33c=(_33c&&i18n[_33c])?i18n[_33c]:_33c;var _33d=(_331.loanPeriodDefaultValue&&_331.loanPeriodDefaultValue["default"])?_331.loanPeriodDefaultValue["default"]:"";var _33e=(_331.loanPeriodMinValue&&_331.loanPeriodMinValue["default"])?_331.loanPeriodMinValue["default"]:"";var _33f=(_331.loanPeriodMaxValue&&_331.loanPeriodMaxValue["default"])?_331.loanPeriodMaxValue["default"]:"";var _340=(_331.loanPeriodDecimalPlaces&&_331.loanPeriodDecimalPlaces["default"])?_331.loanPeriodDecimalPlaces["default"]:"";var _341=(_331.loanPeriodIsMandatory&&_331.loanPeriodIsMandatory["default"])?_331.loanPeriodIsMandatory["default"]:"";_341=(_341==="Y")?true:false;var _342=(_331.lumpSumDepositAmountType&&_331.lumpSumDepositAmountType["default"])?_331.lumpSumDepositAmountType["default"]:"";var _343=(_331.lumpSumDepositAmountPrefix&&_331.lumpSumDepositAmountPrefix["default"])?_331.lumpSumDepositAmountPrefix["default"]:"";_343=(_343&&i18n[_343])?i18n[_343]:_343;var _344=(_331.lumpSumDepositAmountSuffix&&_331.lumpSumDepositAmountSuffix["default"])?_331.lumpSumDepositAmountSuffix["default"]:"";_344=(_344&&i18n[_344])?i18n[_344]:_344;var _345=(_331.lumpSumDepositAmountDefaultValue&&_331.lumpSumDepositAmountDefaultValue["default"])?_331.lumpSumDepositAmountDefaultValue["default"]:"";var _346=(_331.lumpSumDepositAmountMinValue&&_331.lumpSumDepositAmountMinValue["default"])?_331.lumpSumDepositAmountMinValue["default"]:"";var _347=(_331.lumpSumDepositAmountMaxValue&&_331.lumpSumDepositAmountMaxValue["default"])?_331.lumpSumDepositAmountMaxValue["default"]:"";var _348=(_331.lumpSumDepositAmountDecimalPlaces&&_331.lumpSumDepositAmountDecimalPlaces["default"])?_331.lumpSumDepositAmountDecimalPlaces["default"]:"";var _349=(_331.lumpSumDepositAmountIsMandatory&&_331.lumpSumDepositAmountIsMandatory["default"])?_331.lumpSumDepositAmountIsMandatory["default"]:"";_349=(_349==="Y")?true:false;var _34a=(_331.monthlySavingsType&&_331.monthlySavingsType["default"])?_331.monthlySavingsType["default"]:"";var _34b=(_331.monthlySavingsPrefix&&_331.monthlySavingsPrefix["default"])?_331.monthlySavingsPrefix["default"]:"";_34b=(_34b&&i18n[_34b])?i18n[_34b]:_34b;var _34c=(_331.monthlySavingsSuffix&&_331.monthlySavingsSuffix["default"])?_331.monthlySavingsSuffix["default"]:"";_34c=(_34c&&i18n[_34c])?i18n[_34c]:_34c;var _34d=(_331.monthlySavingsDefaultValue&&_331.monthlySavingsDefaultValue["default"])?_331.monthlySavingsDefaultValue["default"]:"";var _34e=(_331.monthlySavingsMinValue&&_331.monthlySavingsMinValue["default"])?_331.monthlySavingsMinValue["default"]:"";var _34f=(_331.monthlySavingsMaxValue&&_331.monthlySavingsMaxValue["default"])?_331.monthlySavingsMaxValue["default"]:"";var _350=(_331.monthlySavingsDecimalPlaces&&_331.monthlySavingsDecimalPlaces["default"])?_331.monthlySavingsDecimalPlaces["default"]:"";var _351=(_331.monthlySavingsIsMandatory&&_331.monthlySavingsIsMandatory["default"])?_331.monthlySavingsIsMandatory["default"]:"";_351=(_351==="Y")?true:false;var _352=(_331.stdMortgageRateType&&_331.stdMortgageRateType["default"])?_331.stdMortgageRateType["default"]:"";var _353=(_331.stdMortgageRatePrefix&&_331.stdMortgageRatePrefix["default"])?_331.stdMortgageRatePrefix["default"]:"";_353=(_353&&i18n[_353])?i18n[_353]:_353;var _354=(_331.stdMortgageRateSuffix&&_331.stdMortgageRateSuffix["default"])?_331.stdMortgageRateSuffix["default"]:"";_354=(_354&&i18n[_354])?i18n[_354]:_354;var _355=(_331.stdMortgageRateDefaultValue&&_331.stdMortgageRateDefaultValue["default"])?_331.stdMortgageRateDefaultValue["default"]:"";var _356=(_331.stdMortgageRateMinValue&&_331.stdMortgageRateMinValue["default"])?_331.stdMortgageRateMinValue["default"]:"";var _357=(_331.stdMortgageRateMaxValue&&_331.stdMortgageRateMaxValue["default"])?_331.stdMortgageRateMaxValue["default"]:"";var _358=(_331.stdMortgageRateDecimalPlaces&&_331.stdMortgageRateDecimalPlaces["default"])?_331.stdMortgageRateDecimalPlaces["default"]:"";var _359=(_331.stdMortgageRateIsMandatory&&_331.stdMortgageRateIsMandatory["default"])?_331.stdMortgageRateIsMandatory["default"]:"";_359=(_359==="Y")?true:false;var _35a=(_331.dlmRateType&&_331.dlmRateType["default"])?_331.dlmRateType["default"]:"";var _35b=(_331.dlmRatePrefix&&_331.dlmRatePrefix["default"])?_331.dlmRatePrefix["default"]:"";_35b=(_35b&&i18n[_35b])?i18n[_35b]:_35b;var _35c=(_331.dlmRateSuffix&&_331.dlmRateSuffix["default"])?_331.dlmRateSuffix["default"]:"";_35c=(_35c&&i18n[_35c])?i18n[_35c]:_35c;var _35d=(_331.dlmRateDefaultValue&&_331.dlmRateDefaultValue["default"])?_331.dlmRateDefaultValue["default"]:"";var _35e=(_331.dlmRateMinValue&&_331.dlmRateMinValue["default"])?_331.dlmRateMinValue["default"]:"";var _35f=(_331.dlmRateMaxValue&&_331.dlmRateMaxValue["default"])?_331.dlmRateMaxValue["default"]:"";var _360=(_331.dlmRateDecimalPlaces&&_331.dlmRateDecimalPlaces["default"])?_331.dlmRateDecimalPlaces["default"]:"";var _361=(_331.dlmRateIsMandatory&&_331.dlmRateIsMandatory["default"])?_331.dlmRateIsMandatory["default"]:"";_361=(_361==="Y")?true:false;var _362=(_331.savingsDepositRateType&&_331.savingsDepositRateType["default"])?_331.savingsDepositRateType["default"]:"";var _363=(_331.savingsDepositRatePrefix&&_331.savingsDepositRatePrefix["default"])?_331.savingsDepositRatePrefix["default"]:"";_363=(_363&&i18n[_363])?i18n[_363]:_363;var _364=(_331.savingsDepositRateSuffix&&_331.savingsDepositRateSuffix["default"])?_331.savingsDepositRateSuffix["default"]:"";_364=(_364&&i18n[_364])?i18n[_364]:_364;var _365=(_331.savingsDepositRateDefaultValue&&_331.savingsDepositRateDefaultValue["default"])?_331.savingsDepositRateDefaultValue["default"]:"";var _366=(_331.savingsDepositRateMinValue&&_331.savingsDepositRateMinValue["default"])?_331.savingsDepositRateMinValue["default"]:"";var _367=(_331.savingsDepositRateMaxValue&&_331.savingsDepositRateMaxValue["default"])?_331.savingsDepositRateMaxValue["default"]:"";var _368=(_331.savingsDepositRateDecimalPlaces&&_331.savingsDepositRateDecimalPlaces["default"])?_331.savingsDepositRateDecimalPlaces["default"]:"";var _369=(_331.savingsDepositRateIsMandatory&&_331.savingsDepositRateIsMandatory["default"])?_331.savingsDepositRateIsMandatory["default"]:"";_369=(_369==="Y")?true:false;this.loanAmountTextBox=new _32c({type:_332,labeltext:i18n.loanAmount,prefixText:_333,suffixText:_334,maxAmount:_337,minAmount:_336,defaultAmount:_335,decimalPlaces:_338,validateMandatory:_339,validateLowRange:true,validateHighRange:true,invalidMessage:_32e.replaceValidationErrMessage(i18n.errMsg_loanAmountInvalid,_336,_337,_338),invalidMsgNumericFormat:i18n.errMsg_loanAmountNumericFormat,invalidMsgAmountTooLarge:_32e.replaceValidationErrMessage(i18n.errMsg_loanAmountTooLarge,_336,_337,_338),invalidMsgAmountTooSmall:_32e.replaceValidationErrMessage(i18n.errMsg_loanAmountTooSmall,_336,_337,_338),invalidMsgEmpty:_32e.replaceValidationErrMessage(i18n.errMsg_loanAmountEmpty,_336,_337,_338),updateInvalidValueWhenBlur:false});this.loanAmountTextBox.placeAt(this.loanAmount);this.loanPeriodTextBox=new _32c({type:_33a,labeltext:i18n.loanPeriod,prefixText:_33b,suffixText:_33c,maxAmount:_33f,minAmount:_33e,defaultAmount:_33d,decimalPlaces:_340,validateMandatory:_341,validateLowRange:true,validateHighRange:true,invalidMessage:_32e.replaceValidationErrMessage(i18n.errMsg_loanPeriodInvalid,_33e,_33f,_340),invalidMsgNumericFormat:i18n.errMsg_loanPeriodNumericFormat,invalidMsgAmountTooLarge:_32e.replaceValidationErrMessage(i18n.errMsg_loanPeriodTooLarge,_33e,_33f,_340),invalidMsgAmountTooSmall:_32e.replaceValidationErrMessage(i18n.errMsg_loanPeriodTooSmall,_33e,_33f,_340),invalidMsgEmpty:_32e.replaceValidationErrMessage(i18n.errMsg_loanPeriodEmpty,_33e,_33f,_340),updateInvalidValueWhenBlur:false});this.loanPeriodTextBox.placeAt(this.loanPeriod);this.lumpSumDepositAmountTextBox=new _32c({type:_342,labeltext:i18n.lumpDeposit,prefixText:_343,suffixText:_344,maxAmount:_347,minAmount:_346,defaultAmount:_345,decimalPlaces:_348,validateMandatory:_349,validateLowRange:true,validateHighRange:true,invalidMessage:_32e.replaceValidationErrMessage(i18n.errMsg_lumpSumDepositAmountInvalid,_346,_347,_348),invalidMsgNumericFormat:i18n.errMsg_lumpSumNumericFormat,invalidMsgAmountTooLarge:_32e.replaceValidationErrMessage(i18n.errMsg_lumpSumDepositAmountTooLarge,_346,_347,_348),invalidMsgAmountTooSmall:_32e.replaceValidationErrMessage(i18n.errMsg_lumpSumDepositAmountTooSmall,_346,_347,_348),invalidMsgEmpty:_32e.replaceValidationErrMessage(i18n.errMsg_lumpSumDepositAmountEmpty,_346,_347,_348),updateInvalidValueWhenBlur:false});this.lumpSumDepositAmountTextBox.placeAt(this.lumpSumDepositAmount);this.monthlySavingsTextBox=new _32c({type:_34a,labeltext:i18n.monthlySavings,prefixText:_34b,suffixText:_34c,maxAmount:_34f,minAmount:_34e,defaultAmount:_34d,decimalPlaces:_350,validateMandatory:_351,validateLowRange:true,validateHighRange:true,invalidMessage:_32e.replaceValidationErrMessage(i18n.errMsg_monthlySavingsInvalid,_34e,_34f,_350),invalidMsgNumericFormat:i18n.errMsg_monthlySavingNumericFormat,invalidMsgAmountTooLarge:_32e.replaceValidationErrMessage(i18n.errMsg_monthlySavingsTooLarge,_34e,_34f,_350),invalidMsgAmountTooSmall:_32e.replaceValidationErrMessage(i18n.errMsg_monthlySavingsTooSmall,_34e,_34f,_350),invalidMsgEmpty:_32e.replaceValidationErrMessage(i18n.errMsg_monthlySavingsEmpty,_34e,_34f,_350),updateInvalidValueWhenBlur:false});this.monthlySavingsTextBox.placeAt(this.monthlySavings);this.stdMortgageRateTextBox=new _32c({type:_352,labeltext:i18n.stdMortgageRate,prefixText:_353,suffixText:_354,maxAmount:_357,minAmount:_356,defaultAmount:_355,decimalPlaces:_358,validateMandatory:_359,validateLowRange:true,validateHighRange:true,invalidMessage:_32e.replaceValidationErrMessage(i18n.errMsg_stdMortgageRateInvalid,_356,_357,_358),invalidMsgDecimalPlaces:i18n.errMsg_stdMortgageNumericFormat,invalidMsgAmountTooLarge:_32e.replaceValidationErrMessage(i18n.errMsg_stdMortgageRateTooLarge,_356,_357,_358),invalidMsgAmountTooSmall:_32e.replaceValidationErrMessage(i18n.errMsg_stdMortgageRateTooSmall,_356,_357,_358),invalidMsgEmpty:_32e.replaceValidationErrMessage(i18n.errMsg_stdMortgageRateEmpty,_356,_357,_358),updateInvalidValueWhenBlur:false});this.stdMortgageRateTextBox.placeAt(this.stdMortgageRate);this.dlmRateTextBox=new _32c({type:_35a,labeltext:i18n.depositMortgageRate,prefixText:_35b,suffixText:_35c,maxAmount:_35f,minAmount:_35e,defaultAmount:_35d,decimalPlaces:_360,validateMandatory:_361,validateLowRange:true,validateHighRange:true,invalidMessage:_32e.replaceValidationErrMessage(i18n.errMsg_dlmRateInvalid,_35e,_35f,_360),invalidMsgDecimalPlaces:i18n.errMsg_dlmRateNumericFormat,invalidMsgAmountTooLarge:_32e.replaceValidationErrMessage(i18n.errMsg_dlmRateTooLarge,_35e,_35f,_360),invalidMsgAmountTooSmall:_32e.replaceValidationErrMessage(i18n.errMsg_dlmRateTooSmall,_35e,_35f,_360),invalidMsgEmpty:_32e.replaceValidationErrMessage(i18n.errMsg_dlmRateEmpty,_35e,_35f,_360),updateInvalidValueWhenBlur:false});this.dlmRateTextBox.placeAt(this.dlmRate);this.savingsDepositRateTextBox=new _32c({type:_362,labeltext:i18n.savingsDepoRate,prefixText:_363,suffixText:_364,maxAmount:_367,minAmount:_366,defaultAmount:_365,decimalPlaces:_368,validateMandatory:_369,validateLowRange:true,validateHighRange:true,invalidMessage:_32e.replaceValidationErrMessage(i18n.errMsg_savingsDepositRateInvalid,_366,_367,_368),invalidMsgDecimalPlaces:i18n.errMsg_savingsDepositRateNumericFormat,invalidMsgAmountTooLarge:_32e.replaceValidationErrMessage(i18n.errMsg_savingsDepositRateTooLarge,_366,_367,_368),invalidMsgAmountTooSmall:_32e.replaceValidationErrMessage(i18n.errMsg_savingsDepositRateTooSmall,_366,_367,_368),invalidMsgEmpty:_32e.replaceValidationErrMessage(i18n.errMsg_savingsDepositRateEmpty,_366,_367,_368),updateInvalidValueWhenBlur:false});this.savingsDepositRateTextBox.placeAt(this.savingsDepositRate);_329.set(this.loanAmountTextBox,"aria-required","true");_329.set(this.loanPeriodTextBox,"aria-required","true");_329.set(this.lumpSumDepositAmountTextBox,"aria-required","true");_329.set(this.monthlySavingsTextBox,"aria-required","true");_329.set(this.stdMortgageRateTextBox,"aria-required","true");_329.set(this.dlmRateTextBox,"aria-required","true");_329.set(this.savingsDepositRateTextBox,"aria-required","true");this.showTooltip();},showTooltip:function(){on(_327(".tooltiphandler",this.domNode),"click",lang.hitch(this,function(){var _36a=_329.get(event.target,"data-target");_327(".helptextbox").forEach(lang.hitch(this,function(item){var _36b=_329.get(item,"data-target");if(_36a===_36b){_321.toggle(item,"showHideTooltip");}}));}));},_setCalculateDLMCostEndPointAttr:function(_36c){this._calculateDLMCostEndPoint=_36c;},updateCalculationResult:function(_36d){var _36e="0";if(this.fortnightlyButton.checked==true){_36e="1";}var _36f=_326.parse(_32e.getTextBoxValue(this.loanAmountTextBox));var _370=_326.parse(_32e.getTextBoxValue(this.loanPeriodTextBox));var _371=_326.parse(_32e.getTextBoxValue(this.lumpSumDepositAmountTextBox));var _372=_326.parse(_32e.getTextBoxValue(this.monthlySavingsTextBox));var _373=_326.parse(_32e.getTextBoxValue(this.stdMortgageRateTextBox));var _374=_326.parse(_32e.getTextBoxValue(this.dlmRateTextBox));var _375=_326.parse(_32e.getTextBoxValue(this.savingsDepositRateTextBox));var _376=this._calculateDLMCostEndPoint.retry;var req={"locale":dojoConfig.locale,"loanAmt":_36f+"","loanTerm":_370+"","rpayFreq":_326.parse(_36e)+"","intRate":_373+"","dmlIntRate":_374+"","savingIntRate":_375+"","lumpSumDepstAmt":_371+"","moSaving":_372+""};_32a.post(this._calculateDLMCostEndPoint.url,{data:json.stringify(req),headers:{"Content-Type":"application/json"}}).then(lang.hitch(this,function(_377){var data=json.parse(_377);if(data&&data.depstLinkMtge&&data.stdMtge){var dlm=data.depstLinkMtge;var std=data.stdMtge;var _378=(i18n.dollar)?i18n.dollar:"";this.dlmNumOfInstalment.innerHTML=data.numOfMtgeInstalment;this.stdNumOfInstalment.innerHTML=data.numOfMtgeInstalment;this.dlmLoanRate.innerHTML=_326.format(_326.parse(dlm.mtgeLoanIntRate),{places:_326.parse(this.dlmRateTextBox.decimalPlaces)})+i18n.percentage;this.stdLoanRate.innerHTML=_326.format(_326.parse(std.mtgeLoanIntRate),{places:_326.parse(this.dlmRateTextBox.decimalPlaces)})+i18n.percentage;this.dlmSavingsDepositRate.innerHTML=_326.format(_326.parse(dlm.savDepstIntRate),{places:_326.parse(this.savingsDepositRateTextBox.decimalPlaces)})+i18n.percentage;this.stdSavingsDepositRate.innerHTML=_326.format(_326.parse(std.savDepstIntRate),{places:_326.parse(this.savingsDepositRateTextBox.decimalPlaces)})+i18n.percentage;this.dlmInstalment.innerHTML=i18n.currency+this.formatStrNum(new String(dlm.mtgeInstalment))+_378;this.stdInstalment.innerHTML=i18n.currency+this.formatStrNum(new String(std.mtgeInstalment))+_378;this.dlmInterestRepayment.innerHTML=i18n.currency+this.formatStrNum(new String(dlm.mtgeIntPmtLnTnor))+_378;this.stdInterestRepayment.innerHTML=i18n.currency+this.formatStrNum(new String(std.mtgeIntPmtLnTnor))+_378;this.dlmInterestReturn.innerHTML=i18n.currency+this.formatStrNum(new String(dlm.savIntRrnLnTnor))+_378;this.stdInterestReturn.innerHTML=i18n.currency+this.formatStrNum(new String(std.savIntRrnLnTnor))+_378;this.dlmNetInterest.innerHTML=i18n.currency+this.formatStrNum(new String(dlm.netIntExpenses))+_378;this.stdNetInterest.innerHTML=i18n.currency+this.formatStrNum(new String(std.netIntExpenses))+_378;var _379=Number(data.savNetIntExpenses);var _37a=Number(std.netIntExpenses);if(_379>0&&_37a!=0){if(i18n.netInterestExpenseResultLess){var _37b=i18n.netInterestExpenseResultLess.replace("{0}",this.formatStrNum(new String(data.savNetIntExpenses)));_37b=_37b.replace("{1}",this.absString(new String(data.savNetIntRates)));this.netInterestExpenseResult.innerHTML=_37b;}}else{if(_379<0&&_37a!=0){if(i18n.netInterestExpenseResultMore){var _37c=i18n.netInterestExpenseResultMore.replace("{0}",this.formatStrNum(new String(data.savNetIntExpenses)));_37c=_37c.replace("{1}",this.absString(new String(data.savNetIntRates)));this.netInterestExpenseResult.innerHTML=_37c;}}else{this.netInterestExpenseResult.innerHTML=i18n.netInterestExpenseResultNoChange;}}_327(".initialValues").style("display","none");_327(".finalValues").style("display","block");this.enableOutputSection();this.showResetButton();var _37d=this._createTrackingEvent("click","Calculate");_37d["event_content"]="loan period: "+(_370*12)+" | loan amount: "+_36f+" | interest rate: "+_375;_37d["country_code"]="HKD";_37d["transaction_total"]=_36f+parseInt(dlm.mtgeIntPmtLnTnor);_37d["transaction_time_period"]=_370*12;_32e.submitTealium(_37d);this.hideServiceError();}else{console.error("An error occured while getting from list data:"+data);this.displayServiceError(data);}}),lang.hitch(this,function(_37e){if(_376&&!_36d){this.updateCalculationResult(true);}else{console.error("An error occured while getting from list data:"+_37e);this.displayServiceError(_37e);}}));},_createTrackingEvent:function(type,_37f){var _380={"tool_name":"DepositLinkedMortgageCalc","event_type":type,"event_action":"Deposit-linked Mortgage Repayment Calculator | "+_37f};return _380;},bindEvents:function(){var _381=function(){if(this.loanAmountTextBox.isValid()){var _382=_32e.getTextBoxValue(this.loanAmountTextBox);this.loanAmountTextBox.textbox.value=_32e.removeFormat(_382,this.loanAmountTextBox.decimalPlaces);}};var _383=function(){if(this.loanPeriodTextBox.isValid()){var _384=_32e.getTextBoxValue(this.loanPeriodTextBox);this.loanPeriodTextBox.textbox.value=_32e.removeFormat(_384,this.loanPeriodTextBox.decimalPlaces);}};var _385=function(){if(this.lumpSumDepositAmountTextBox.isValid()){var _386=_32e.getTextBoxValue(this.lumpSumDepositAmountTextBox);this.lumpSumDepositAmountTextBox.textbox.value=_32e.removeFormat(_386,this.lumpSumDepositAmountTextBox.decimalPlaces);}};var _387=function(){if(this.monthlySavingsTextBox.isValid()){var _388=_32e.getTextBoxValue(this.monthlySavingsTextBox);this.monthlySavingsTextBox.textbox.value=_32e.removeFormat(_388,this.monthlySavingsTextBox.decimalPlaces);}};var _389=function(){if(this.stdMortgageRateTextBox.isValid()){var _38a=_32e.getTextBoxValue(this.stdMortgageRateTextBox);this.stdMortgageRateTextBox.textbox.value=_32e.removeFormat(_38a,this.stdMortgageRateTextBox.decimalPlaces);}};var _38b=function(){if(this.dlmRateTextBox.isValid()){var _38c=_32e.getTextBoxValue(this.dlmRateTextBox);this.dlmRateTextBox.textbox.value=_32e.removeFormat(_38c,this.dlmRateTextBox.decimalPlaces);}};var _38d=function(){if(this.savingsDepositRateTextBox.isValid()){var _38e=_32e.getTextBoxValue(this.savingsDepositRateTextBox);this.savingsDepositRateTextBox.textbox.value=_32e.removeFormat(_38e,this.savingsDepositRateTextBox.decimalPlaces);}};var _38f=function(_390){this.activateCalculate();this.inputchangeType="Loan Amount";};var _391=function(_392){this.activateCalculate();this.inputchangeType="Loan Period";};var _393=function(_394){this.activateCalculate();this.inputchangeType="Lump Sum Deposit Amount";};var _395=function(_396){this.activateCalculate();this.inputchangeType="Monthly Savings";};var _397=function(_398){this.activateCalculate();this.inputchangeType="STD Mortgage Rate";};var _399=function(_39a){this.activateCalculate();this.inputchangeType="DLM Rate";};var _39b=function(_39c){this.activateCalculate();this.inputchangeType="Savings Deposit Rate";};var _39d=function(_39e){this.activateCalculate();this.inputchangeType="Repayment Frequency";};var _39f=function(self,_3a0){var _3a1=_32e.getTextBoxValue(_3a0);_3a1=_326.parse(_3a1);if(_3a0.isValid()){if(!isNaN(_3a1)){_3a0.textbox.value=_32e.decimalFormat(_3a1,_3a0.decimalPlaces);_3a0.setSuffix();}}};var _3a2=function(){_39f(this,this.loanAmountTextBox);};var _3a3=function(){_39f(this,this.loanPeriodTextBox);};var _3a4=function(){_39f(this,this.lumpSumDepositAmountTextBox);};var _3a5=function(){_39f(this,this.monthlySavingsTextBox);};var _3a6=function(){_39f(this,this.stdMortgageRateTextBox);};var _3a7=function(){_39f(this,this.dlmRateTextBox);};var _3a8=function(){_39f(this,this.savingsDepositRateTextBox);};on(this.loanAmountTextBox.textbox,"focus",lang.hitch(this,_381));on(this.loanAmountTextBox.textbox,"keyup",lang.hitch(this,_38f));on(this.loanAmountTextBox.textbox,"blur",lang.hitch(this,_3a2));on(this.loanPeriodTextBox.textbox,"focus",lang.hitch(this,_383));on(this.loanPeriodTextBox.textbox,"keyup",lang.hitch(this,_391));on(this.loanPeriodTextBox.textbox,"blur",lang.hitch(this,_3a3));on(this.lumpSumDepositAmountTextBox.textbox,"focus",lang.hitch(this,_385));on(this.lumpSumDepositAmountTextBox.textbox,"keyup",lang.hitch(this,_393));on(this.lumpSumDepositAmountTextBox.textbox,"blur",lang.hitch(this,_3a4));on(this.monthlySavingsTextBox.textbox,"focus",lang.hitch(this,_387));on(this.monthlySavingsTextBox.textbox,"keyup",lang.hitch(this,_395));on(this.monthlySavingsTextBox.textbox,"blur",lang.hitch(this,_3a5));on(this.stdMortgageRateTextBox.textbox,"focus",lang.hitch(this,_389));on(this.stdMortgageRateTextBox.textbox,"keyup",lang.hitch(this,_397));on(this.stdMortgageRateTextBox.textbox,"blur",lang.hitch(this,_3a6));on(this.dlmRateTextBox.textbox,"focus",lang.hitch(this,_38b));on(this.dlmRateTextBox.textbox,"keyup",lang.hitch(this,_399));on(this.dlmRateTextBox.textbox,"blur",lang.hitch(this,_3a7));on(this.savingsDepositRateTextBox.textbox,"focus",lang.hitch(this,_38d));on(this.savingsDepositRateTextBox.textbox,"keyup",lang.hitch(this,_39b));on(this.savingsDepositRateTextBox.textbox,"blur",lang.hitch(this,_3a8));on(this.monthlyRadioButton,"change",lang.hitch(this,_39d));on(this.calculateButton,"click",lang.hitch(this,function(){_32f.focus(this.toolResults);this.updateCalculationResult();}));on(this.ResetcalculateButton,"click",lang.hitch(this,function(){this.hideResetButton();this.disableOutputSection();this.resetInputToDefaultValues();this.resetOutputToDefaultValues();this.activateCalculate();}));on(_327(".fortnightly-button",this.domNode),"click",lang.hitch(this,function(){_327(".fortnightly-button",this.domNode).style("background","#6fc2c2 url(/clientapp/hdx/images/icons/radioButtonSelected.png) center center no-repeat");_327(".monthly-button",this.domNode).style("background","none");this.inputchangeType="Current Repayment frequency";}));on(_327(".monthly-button",this.domNode),"click",lang.hitch(this,function(){_327(".monthly-button",this.domNode).style("background","#6fc2c2 url(/clientapp/hdx/images/icons/radioButtonSelected.png) center center no-repeat");_327(".fortnightly-button",this.domNode).style("background","none");this.inputchangeType="Current Repayment frequency";}));},formValidation:function(){if(this.loanAmountTextBox.textbox.value&&this.loanAmountTextBox.isValid()&&this.loanPeriodTextBox.textbox.value&&this.loanPeriodTextBox.isValid()&&this.lumpSumDepositAmountTextBox.textbox.value&&this.lumpSumDepositAmountTextBox.isValid()&&this.monthlySavingsTextBox.textbox.value&&this.monthlySavingsTextBox.isValid()&&this.stdMortgageRateTextBox.textbox.value&&this.stdMortgageRateTextBox.isValid()&&this.dlmRateTextBox.textbox.value&&this.dlmRateTextBox.isValid()&&this.savingsDepositRateTextBox.textbox.value&&this.savingsDepositRateTextBox!=""&&this.savingsDepositRateTextBox.isValid()&&(this.monthlyRadioButton.checked||this.fortnightlyButton.checked)){return true;}return false;},resetInputToDefaultValues:function(){this.monthlyRadioButton.checked=true;this.fortnightlyButton.checked=false;this.loanPeriodTextBox.textbox.value=this.loanPeriodTextBox.defaultAmount;this.loanAmountTextBox.textbox.value=this.loanAmountTextBox.defaultAmount;this.lumpSumDepositAmountTextBox.textbox.value=this.lumpSumDepositAmountTextBox.defaultAmount;this.monthlySavingsTextBox.textbox.value=this.monthlySavingsTextBox.defaultAmount;this.stdMortgageRateTextBox.textbox.value=this.stdMortgageRateTextBox.defaultAmount;this.dlmRateTextBox.textbox.value=this.dlmRateTextBox.defaultAmount;this.savingsDepositRateTextBox.textbox.value=this.savingsDepositRateTextBox.defaultAmount;},resetOutputToDefaultValues:function(){_327(".finalValues").style("display","none");_327(".initialValues").style("display","block");this.netInterestExpenseResult.innerHTML=i18n.initialSavingsOn;this.serviceError.innerHTML="";},enableCalculateButton:function(){this.calculateButton.style.opacity="1";this.calculateButton.style.backgroundColor="#DB0011";this.calculateButton.style.color="#FFFFFF";this.calculateButton.disabled=false;},disableCalculateButton:function(){this.calculateButton.style.opacity="0.3";this.calculateButton.style.backgroundColor="#FFFFFF";this.calculateButton.style.color="#3E505D";this.calculateButton.disabled=true;},showResetButton:function(){_321.remove(this.refreshIcon,"hide");_321.remove(this.ResetcalculateButton,"hideprimaryaction");},hideResetButton:function(){_321.add(this.refreshIcon,"hide");_321.add(this.ResetcalculateButton,"hideprimaryaction");},enableOutputSection:function(){_321.remove(this.resultdepOpacity,"resultdepOpacity");},disableOutputSection:function(){_321.add(this.resultdepOpacity,"resultdepOpacity");},activateCalculate:function(){if(this.formValidation()){this.enableCalculateButton();}else{this.disableCalculateButton();}this.hideResetButton();this.disableOutputSection();this.resetOutputToDefaultValues();},formatStrNum:function(str){var _3a9;var _3aa=str.split(".");if(_3aa.length>1){var _3ab=_3aa[1].substr(0,2);var _3ac=_3aa[1].substr(2);var _3ad=Math.round(parseFloat(_3ab+"."+_3ac));_3a9=_3aa[0]+"."+_3ad;}else{_3a9=str;}if(_3a9<0){var _3aa=_3a9.split(".");if(_3aa[1]=="00"){return "-"+this.addSeparator(Math.abs(_3a9))+".00";}else{return "-"+this.addSeparator(Math.abs(_3a9));}}else{return this.addSeparator(_3a9);}},absString:function(str){if(str){var _3ae=str.split("-");if(_3ae&&_3ae.length==2){return _3ae[1];}}return str;},addSeparator:function(str){str=str.toString();if(/[^0-9\.]/.test(str)){return str;}var _3af="";if(RegExp("\\.").test(str)){strArr=str.split(".");str=strArr[0];_3af="."+strArr[1];}var n=str.length%3;if(n){return str.slice(0,n)+str.slice(n).replace(/(\d{3})/g,",$1")+_3af;}else{return str.replace(/(\d{3})/g,",$1").slice(1)+_3af;}},displayServiceError:function(_3b0){var _3b1=_32e.replaceValidationErrCode(i18n.errMsg_serviceError,_3b0);var _3b2="<div class=\"pearl-bg postn\">"+"<i class=\"icon-information display info-ioc span-pos\"></i>"+"<span class=\"display margin\">"+_3b1+"</span>"+"<div class=\"clear\"></div>"+"</div>";this.serviceError.innerHTML=_3b2;this.serviceError.style.display="block";},hideServiceError:function(){this.serviceError.innerHTML="";this.serviceError.style.display="none";}});});},"url:hdx/bijits/tools/overdraft/template/OverdraftListingCalculator.html":"<div class=\"reusable-int-calc l-twelve m-eight s-four columns  mobile-pad-l mobile-pad-r overdraftListing\" >\n\n\t<div class=\"l-twelve m-eight s-four columns hideonmobile cal-toggle\" >\n        <a href=\"javascript:void(0);\" class=\"t14r\"  data-dojo-attach-event=\"click:clickShowDetail\" data-dojo-attach-point=\"detailsSeaarchMore\" id=\"detailsSeaarchMore\" aria-expanded=\"false\">\n        <span>${i18n.showdetails}<em class=\"icon-chevron-down\" ></em ></span><span class=\"accessibleHidden expandedSpan\">${i18n.accessShowDetail}</span>\n        </a>\n        <a href=\"javascript:void(0);\"  class=\"cal-collapse t14r\" data-dojo-attach-event=\"click:clickHideDetail\" data-dojo-attach-point=\"detailsSeaarchLess\" id=\"detailsSeaarchLess\" aria-expanded=\"true\">\n        <span>${i18n.hidedetails}<em class=\"icon-chevron-up\" ></em ></span><span class=\"accessibleHidden expandedSpan\">${i18n.accessHideDetail}</span>\n        </a>\n    </div >\n\n    <div class=\"l-twelve m-eight s-four columns showonmobile mobile-pad-l mobile-pad-r\" >\n        <p class=\"t28b cal-heading\" id=\"intrestCalculator-focus\" >${i18n.interestCalculator}</p >\n        <span class=\"showonmobile\" >\n        <button class=\"collapse icon-chevron-down\" type=\"button\" data-dojo-attach-event=\"click:clickShowDetail\" data-dojo-attach-point=\"detailsSeaarchMoreMob\" >\n        <span class=\"icon-chevron-down-overdraft\" ></span ><span class=\"accessibleHidden expandedSpan\">${i18n.accessShowDetail}</span>\n        </button >\n        <button class=\"expand icon-chevron-up \" type=\"button\" data-dojo-attach-event=\"click:clickHideDetail\" data-dojo-attach-point=\"detailsSeaarchLessMob\">\n        <span class=\"icon-chevron-up-overdraft\" ></span ><span class=\"accessibleHidden expandedSpan\">${i18n.accessHideDetail}</span>\n        </button >\n        </span >\n    </div >\n    <div class=\"l-eight m-four s-four columns tab-first-col desktop-pad-l tablet-pad-l mobile-pad-l mobile-pad-r\" >\n        <h4 class=\"t28b cal-heading hideonmobile\" id=\"intrestCalculator-focus\" >${i18n.interestCalculator}</h4 >\n        <p >${i18n.description}</p >\n        <div class=\"cal-disclaimer t12r hideonmobile\" >\n            <span >${i18n.disclaimer}</span >\n            <a href=\"#disclaimer_page\" data-dojo-attach-event=\"click:showDisclaimer\" >\n            <span class=\"pewter\" >${i18n.importantNotes}</span ><em class=\"icon-back pewter rotate\" ></em ></a >\n        </div >\n    </div >\n    <div class=\"l-four m-four s-four columns tablet-pad-l mobile-pad-l mobile-pad-r\" >\n        <div class=\"cal-form\" >\n            <form action=\"\" >\n                <a id=\"amountInfoIcon\" href=\"javascript:void(0);\" class=\"set-focus el-block\" data-dojo-attach-event=\"click:showToolTip\" data-selected=\"false\" data-for-tooltip=\"amountToolTip\" aria-expanded=\"false\">\n                <span class=\"t16r cal-od-amt\" >${i18n.overdraftAmount}</span ><em class=\"icon-circle-info\" ></em >\n                <span class=\"accessibleHidden expandedSpan hide\">${i18n.hideNotes}</span>\n\t\t\t\t<span class=\"accessibleHidden collapsedSpan\">${i18n.showNotes}</span>\n                </a >\n                <div class=\"fhe-tooltip hide\" data-is-tooltip=\"amountToolTip\" >\n                    <p >${i18n.overdraftAmountRemarks}</p >\n                </div >\n                <div class=\"l-twelve m-eight s-four columns nopad\" >\n                    <div data-dojo-attach-point=\"overdraftAmount\"></div >\n                </div >\n                <div class=\"l-twelve m-eight s-four columns nopad\" >\n                    <div data-dojo-attach-point=\"overdraftAmountSlider\" ><span class=\"accessibleHidden\" id=\"overdraftAmountSlider\" data-dojo-attach-point=\"overdraftAmountSliderSrt\" aria-live=\"polite\"></span></div >\n                </div >\n                <div class=\"detail-search-section\" data-dojo-attach-point=\"detailSearchSection\" >\n                    <a id=\"amountInfoIcon\" href=\"javascript:void(0);\" class=\"set-focus\" data-dojo-attach-event=\"click:showToolTip\" data-selected=\"false\" data-for-tooltip=\"daysToolTip\" aria-expanded=\"false\">\n                    <span class=\"t16r cal-od-amt\" >${i18n.days}</span ><em class=\"icon-circle-info\" ></em >\n                    <span class=\"accessibleHidden expandedSpan hide\">${i18n.hideNotes}</span>\n\t\t\t\t<span class=\"accessibleHidden collapsedSpan\">${i18n.showNotes}</span>\n                    </a >\n                    <div class=\"fhe-tooltip hide\" data-is-tooltip=\"daysToolTip\" >\n                        <p >${i18n.daysRemarks}</p >\n                    </div >\n                    <div class=\"l-twelve m-eight s-four columns nopad\" >\n                        <div data-dojo-attach-point=\"overdraftDays\"></div >\n                    </div >\n                    <div class=\"l-twelve  m-eight s-four columns nopad\" >\n                        <div data-dojo-attach-point=\"overdraftDaysSlider\" ><span class=\"accessibleHidden\" id=\"overdraftDaysSlider\" data-dojo-attach-point=\"overdraftDaysSliderSrt\" aria-live=\"polite\"></span></div >\n                    </div >\n                    <div class=\"set-label-margin\" >\n                        <div >\n                            <label for=\"accountListId\" class=\"lable-padding-dropdown\" >${i18n.account}\n                            <span style=\"left: -1500px; position: absolute;\" id=\"accountListId_hdnSelectedValue\" ></span ></label >\n                            <input id=\"accountListId\" class=\"hide\" />\n                        </div >\n                    </div >\n                    <div >\n                        <div class=\"commonDijitcss\" >\n                            <div data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" data-dojo-attach-point=\"accountList\" data-dojo-props=\"maxHeight:'260'\" data-dojo-custom-class=\"amountdropdown\" >\n                                <span value=\"${i18n.allAccounts}\" selected=\"selected\" aria-hidden=\"false\" >\n                                <span class=\"initialOpt\" ><span class=\"contactOption\" >${i18n.allAccounts}</span ></span >\n                                </span >\n                                <span value=\"${i18n.premieraccount}\" aria-hidden=\"false\" >\n                                <span class=\"\" ><span class=\"contactOption\" >${i18n.premieraccount}</span ></span >\n                                </span >\n                                <span value=\"${i18n.advanceaccount}\" aria-hidden=\"false\" >\n                                <span class=\"\" ><span class=\"contactOption\" >${i18n.advanceaccount}</span ></span >\n                                </span >\n                                <span value=\"${i18n.personalaccounts}\" aria-hidden=\"false\" >\n                                <span class=\"\" ><span class=\"contactOption\" >${i18n.personalaccounts} </span ></span >\n                                </span >\n                                <span value=\"${i18n.other}\" aria-hidden=\"false\" >\n                                <span class=\"\" ><span class=\"contactOption\" >${i18n.other}</span ></span >\n                                </span >\n                            </div >\n                        </div >\n                    </div >\n                </div >\n            </form >\n        </div >        \n    </div >\n    <div class=\"showonmobile\" >\n        <p class=\"cal-disclaimer t12r cont-hide\" data-dojo-attach-point=\"discDesktop\" >\n            <span >${i18n.disclaimer}</span >\n            <a href=\"javascript:void(0)\" data-dojo-attach-event=\"click:showDisclaimer\" >\n            <span class=\"pewter\" >${i18n.importantNotes} </span ><em class=\"icon-back pewter rotate\" ></em ></a >\n        </p >\n    </div >\n</div >\n","hdx/bijits/tools/propertyvaluation/propertyvaluationsearch":function(){require({cache:{"url:hdx/bijits/tools/propertyvaluation/template/propertyvaluationsearch.html":"<div class=\"secondTab propertysearch\">\n    <div class=\"row\">\n        <div class=\"l-twelve m-eight s-four columns nopad\">\n            <p class=\"t14b\">${i18n.headingfortool}</p>\n            <form action=\"\" name=\"\" class=\"\">\n                <div class=\"row\">\n                    <div class=\"l-six m-five s-four columns tabletview arrow-right arrowdown mobile-pad-l mobile-pad-r desktop-pad-l\">\n                        <h3 class=\"heading t22l\">${i18n.column1Heading}</h3>\n                        <span class=\"labelclass\">${i18n.zone}</span>\n                        <div class=\"zone first\"> <span id=\"zonevaluesearch\" class=\"mobile-accessibleHidden\" style=\"visibility: hidden;\">${i18n.zone} ${i18n.dropdown}</span>\n                            <span style=\"left: -1500px; position: absolute;\"></span>\n                            <select data-dojo-props=\"maxHeight:260\" data-dojo-type=\"hdx/dijits/form/Select\" aria-atomic=\"true\" aria-required=\"true\" class=\"zone\" data-dojo-attach-point=\"zone\" aria-live=\"true\"\n                            aria-labelledby=\"zonevaluesearch\" data-dojo-attach-event=\"onChange:enableEstateInput,onBlur:zoneDropDownBlur\"></select>\n\t\t\t\t\t\t\t<div data-dojo-attach-point=\"serviceError\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                                <span data-dojo-attach-point=\"serviceErrorText\" role=\"alert\"></span>\n                            </div>\n                        </div>\n                        <label class=\"labelclass\" for=\"searchEstatetextbox\">${i18n.estateKeyword}</label>\n                        <div style=\"position: relative\" class=\"clearfix-position second-text-box\">\n                            <input type=\"text\" disabled data-dojo-props=\"required:true\" id=\"searchEstatetextbox\" data-dojo-attach-point=\"searchEstatetextbox\" value=\"\" />\n                            <div data-dojo-attach-point=\"error\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                                <span data-dojo-attach-point=\"errorText\" role=\"alert\"></span>\n                            </div>\n                        </div>\n                        <div class=\"propertyEvaluation\">\n                            <label for=\"btnSearchEstate\" style=\"display: none\">${i18n.searchEstateButton}</label>\n                            <input disabled type=\"button\" id=\"btnSearchEstate\" data-dojo-attach-event=\"click:getSearchResult\"\n                            data-dojo-attach-point=\"btnSearchEstate\" class=\"primaryaction primaryround\" \n                            value=\"${i18n.estateSearch}\">\n                        </div>\n                    </div>\n                    <div class=\"l-six m-eight s-four columns resultcolumn\">\n                        <div class=\"result\">\n                            <h3 tabindex = \"0\" data-dojo-attach-point = \"propertySearchResultsHeading\" class=\"headingresult\">${i18n.column2Heading}</h3>\n                            <p class=\"t12r\" data-dojo-attach-point=\"resultcount\"></p>\n                            <div data-dojo-attach-point=\"searchresult\" class=\"commonsearch-searchresult\">\n                                <div class=\"resultDisplaylink\"> <a href=\"#\" class=\"resultlink\" data-searchlink=\"searchlink\"><span>&nbsp;</span></a>\n                                </div>\n                                <div class=\"resultDisplaylink\"> <a href=\"#\" class=\"resultlink\" data-searchlink=\"searchlink\"><span>&nbsp;</span></a>\n                                </div>\n                                <div class=\"resultDisplaylink\"> <a href=\"#\" class=\"resultlink\" data-searchlink=\"searchlink\"><span>&nbsp;</span></a>\n                                </div>\n                                <div class=\"resultDisplaylink\"> <a href=\"#\" class=\"resultlink\" data-searchlink=\"searchlink\"><span>&nbsp;</span></a>\n                                </div>\n                                <div class=\"resultDisplaylink\"> <a href=\"#\" class=\"resultlink\" data-searchlink=\"searchlink\"><span>&nbsp;</span></a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n     <div class=\"row\">\n      <div class=\"l-twelve m-eight s-four columns propEvalInfo\" >\n\n            <p class=\"t14r\" data-dojo-attch-point=\"propEvalInfoDesc\" >\n               <span class=\"t14r pewter\">${i18n.disclaimerDescription}</span>\n            </p >\n        </div >\n        <hr class=\"\" />\n        </div>\n</div>"}});define("hdx/bijits/tools/propertyvaluation/propertyvaluationsearch",["dojo/_base/declare","dijit/_WidgetBase","dijit/_WidgetsInTemplateMixin","dijit/_TemplatedMixin","hsbc/_ECAMixin","dojo/text!./template/propertyvaluationsearch.html","dojo/on","dojo/dom-class","dojo/json","dojo/query","hsbc/eca!dojo/i18n!pws/Components/client/propertyvaluation/nls/propertyvaluationsearch_nls","dijit/registry","dojo/dom-construct","dojo/_base/connect","dojo/_base/lang","dojo/request","hsbc/_PWSEndpointMixin","hdx/dijits/ScrollPane","dojo/touch","dojo/ready","hsbc/utilities/CommonUtil","dojo/dom-attr","dijit/focus","dojo/domReady!"],function(_3b3,_3b4,_3b5,_3b6,_3b7,_3b8,on,_3b9,json,_3ba,i18n,_3bb,_3bc,_3bd,lang,_3be,_3bf,_3c0,_3c1,_3c2,_3c3,_3c4,_3c5){return _3b3("hdx.bijits.tools.propertyvaluation.propertyvaluationsearch",[_3b4,_3b6,_3b5,_3b7,_3bf],{templateString:_3b8,i18n:i18n,_preparePropertyValuationEndPoint:null,_enquirePropertyAddressEndPoint:null,clickEvents:[],notTableShown:true,arrKeyEvent:[],arrKeyEventButton:[],firstSearchResult:false,keyDownIndex:null,keyUpIndex:null,searchValue:null,scrollPaneList:null,setLarge:false,setSmall:false,constructor:function(){},startup:function(){this.inherited(arguments);},postCreate:function(){this.bindEvents();this.retrieveZoneListSvc();},_setPreparePropertyValuationEndPointAttr:function(_3c6){this._preparePropertyValuationEndPoint=_3c6;},_setEnquirePropertyAddressEndPointAttr:function(_3c7){this._enquirePropertyAddressEndPoint=_3c7;},bindEvents:function(){var _3c8=this;_3b9.remove(this.domNode.parentNode,"hide");_3c2(function(){_3ba("#btnSearchEstate").addClass("displablesClass");_3c8.scrollPaneList=new _3c0();_3c8.scrollPaneList.init({domNode:_3c8.searchresult,scrollBarShowHide:true,useKeyEvents:true});_3b9.add(_3c8.domNode.parentNode,"hide");on(_3c8.scrollPaneList.scrollWindowNode,"keydown",function(_3c9){_3c8.bindScrollKeyEvent(_3c9);});_3ba(".commonsearch-searchresult").empty();_3c8.scrollPaneList.resizeScrollArea();_3ba(".scrollPaneWrapper",this.domNode).style("width","100%");_3ba(".scrollWindow",this.domNode).style("width","100%");_3c8.hideList();if(window.size==="small"){_3c8.zone._setDisplay(i18n.zone);_3c8.zone._getChildren()[0].set("label",i18n.zone);_3c8.setSmall=true;_3c4.set(_3c8.searchEstatetextbox,"placeHolder",i18n.estatePlaceholder);}on(window,"resize",lang.hitch(this,function(){if(window.size==="small"){if(!_3c8.setSmall){_3c8.setSmall=true;_3c8.setLarge=false;_3c8.zone._setDisplay(i18n.zone);_3c8.zone._getChildren()[0].set("label",i18n.zone);_3c4.set(_3c8.searchEstatetextbox,"placeHolder",i18n.estatePlaceholder);_3c8.hideList();}}else{if(!_3c8.setLarge){_3c8.setSmall=false;_3c8.setLarge=true;_3c8.zone._setDisplay(i18n.selectZone);_3c8.zone._getChildren()[0].set("label",i18n.selectZone);_3c4.set(_3c8.searchEstatetextbox,"placeHolder","");_3c8.hideList();}}}));on(this.btnSearchEstate,"keyup",lang.hitch(this,function(_3ca){var _3cb=navigator.userAgent.toString();if(_3ba(".resultDisplaylink")[0]){this.resultFisrtLink=_3ba(".resultDisplaylink")[0].firstElementChild;if(_3cb.indexOf("Mozilla")>=0){if(_3ca.keyCode===9){_3ca.preventDefault();_3ba(".resultDisplaylink")[0].firstElementChild.focus(true);}}}}));});on(this.searchresult,"keyup",lang.hitch(this,function(_3cc){if(this.firstSearchResult){var _3cd=navigator.userAgent.toString();if(_3cd.indexOf("Mozilla")>=0){if(this.arrKeyEvent[16]&&this.arrKeyEvent[9]){_3cc.preventDefault();self.btnSearchEstate.focus(true);this.arrKeyEvent[16]=false;}this.arrKeyEvent[_3cc.keyCode]=false;}}}));on(this.searchresult,"keydown",lang.hitch(this,function(_3ce){var _3cf=_3ba(".resultDisplaylink")[0];if(_3ce.explicitOriginalTarget&&_3cf===_3ce.explicitOriginalTarget.parentNode){this.firstSearchResult=true;var _3d0=navigator.userAgent.toString();if(_3d0.indexOf("Mozilla")>=0){this.arrKeyEvent[_3ce.keyCode]=true;if(this.arrKeyEvent[16]){_3ce.preventDefault();}}}}));on(this.searchEstatetextbox,"keyup",function(_3d1){_3c8.enableSearchButton();});},retrieveZoneListSvc:function(_3d2){var req={locale:this.getLocale(),locate:null,zoneId:null,districtId:null,estateId:null,blockId:null,floor:null};var url=this._preparePropertyValuationEndPoint.url;var _3d3=this._preparePropertyValuationEndPoint.retry;_3be.post(url,{data:json.stringify(req),headers:{"Content-Type":"application/json"}}).then(lang.hitch(this,function(_3d4){var data=json.parse(_3d4);this.populateZoneDropDown(data);}),lang.hitch(this,function(){if(_3d3&&!_3d2){this.retrieveZoneListSvc(true);}else{this.prePopulateZoneDropDown();this.serviceError.style.display="block";this.serviceErrorText.innerHTML=i18n.zoneListError;}}));},callEnqPropAddressSvc:function(_3d5){var req={locale:this.getLocale(),zoneId:this.getSelectedZoneId(),estateKeyword:this.getInputtedEstateKeyword()};var url=this._enquirePropertyAddressEndPoint.url;var _3d6=this._enquirePropertyAddressEndPoint.retry;_3be.post(url,{data:json.stringify(req),headers:{"Content-Type":"application/json"}}).then(lang.hitch(this,function(_3d7){var data=json.parse(_3d7);this.displaySearchResult(data);}),lang.hitch(this,function(){if(_3d6&&!_3d5){this.callEnqPropAddressSvc(true);}else{this.onCallSvcFailure();}}));},prePopulateZoneDropDown:function(){var _3d8={value:"",label:i18n.selectZone,disabled:"disabled"};if(window.size==="small"){_3d8={value:"",label:i18n.zone,disabled:"disabled"};}this.zone.addOption(_3d8);},populateZoneDropDown:function(data){this.prePopulateZoneDropDown();if(data&&data.zoneList&&data.zoneList.length>0){var _3d9=[];for(var i=0;i<data.zoneList.length;i++){var zone=data.zoneList[i];var _3da={value:zone.id,label:zone.name};_3d9.push(_3da);}this.zone.addOption(_3d9);}else{this.serviceError.style.display="block";this.serviceErrorText.innerHTML=_3c3.replaceValidationErrCode(i18n.zoneListError,data);}},getLocale:function(){if(dojoConfig.locale){return dojoConfig.locale;}else{return "en";}},hideList:function(){var _3db=this;this.searchEstatetextbox.value="";this.resultcount.innerHTML="";if(window.size==="small"){if(_3db.notTableShown){_3ba(".scrollPaneWrapper",_3db.domNode).style("display","none");_3b9.add(_3ba(".resultcolumn",_3db.domNode)[0],"zeroHeight");}}else{_3ba(".scrollPaneWrapper",_3db.domNode).style("display","none");_3b9.remove(_3ba(".resultcolumn",_3db.domNode)[0],"zeroHeight");}_3ba(".scrollPaneWrapper",_3db.domNode).style("width","100%");_3ba(".scrollWindow",_3db.domNode).style("width","100%");},enableEstateInput:function(_3dc){this.searchEstatetextbox.disabled=false;_3ba(".commonsearch-searchresult").empty();this.resultcount.innerHTML="";this.searchEstatetextbox.value="";this.scrollPaneList.resizeScrollArea();this.disableSearchButton();if(this.getSelectedZoneId()&&this.getSelectedZoneId()!==""&&this.getSelectedZoneId()!==i18n.selectZone&&this.getSelectedZoneId()!==i18n.zone){this.serviceError.style.display="none";this.serviceErrorText.innerHTML="";}},zoneDropDownBlur:function(_3dd){if(!this.getSelectedZoneId()||this.getSelectedZoneId()===""||this.getSelectedZoneId()===i18n.selectZone||this.getSelectedZoneId()===i18n.zone){this.serviceError.style.display="block";this.serviceErrorText.innerHTML=i18n.zoneInputError;}else{this.serviceError.style.display="none";this.serviceErrorText.innerHTML="";}},getSelectedZoneId:function(){return this.zone.value;},getInputtedEstateKeyword:function(){return this.searchEstatetextbox.value;},getSearchResult:function(_3de){_3ba(".scrollPaneWrapper",this.domNode).style("display","block");_3b9.remove(_3ba(".resultcolumn",this.domNode)[0],"zeroHeight");this.notTableShown=false;_3c5.focus(this.propertySearchResultsHeading);if(this.getSelectedZoneId()&&this.getSelectedZoneId()!=""&&this.getSelectedZoneId()!==i18n.selectZone&&this.getSelectedZoneId()!==i18n.zone&&this.getInputtedEstateKeyword()&&this.getInputtedEstateKeyword()!=""){this.searchValue=_3c3.htmlEscapeString(this.getInputtedEstateKeyword());this.callEnqPropAddressSvc();}else{this.onCallSvcFailure();}},enableSearchButton:function(){var _3df=false;if(!this.searchEstatetextbox.value){this.errorText.innerHTML=i18n.estateKeywordEmptyErrorMsg;_3df=true;}else{if(this.searchEstatetextbox.value.length>80){this.errorText.innerHTML=i18n.estateKeywordExceedLengthErrorMsg;_3df=true;}else{this.btnSearchEstate.disabled=false;_3b9.remove(this.btnSearchEstate,"displablesClass");this.error.style.display="none";_3b9.remove(this.searchEstatetextbox,"onError");}}if(_3df){this.error.style.display="block";_3b9.add(this.searchEstatetextbox,"onError");this.btnSearchEstate.disabled=true;_3b9.add(this.btnSearchEstate,"displablesClass");this.resultcount.innerHTML="";_3ba(".commonsearch-searchresult").empty();this.scrollPaneList.resizeScrollArea();}},disableSearchButton:function(){this.btnSearchEstate.disabled=true;_3b9.add(this.btnSearchEstate,"displablesClass");this.resultcount.innerHTML="";_3ba(".commonsearch-searchresult").empty();this.scrollPaneList.resizeScrollArea();this.error.style.display="none";_3b9.remove(this.searchEstatetextbox,"onError");},selectTabs:function(){var tab=_3bb.byId("toolTab");var tab1=_3ba("#tab1",tab.domNode);var tab2=_3ba("#tab2",tab.domNode);if(window.size==="small"){tab.menu.set("value",tab1.attr("aria-controls")[0]);}else{tab._switchTabs(tab2,tab1);}},displaySearchResult:function(data){var _3e0=this;if(data){if(data.responseInfo&&data.responseInfo.reasons&&data.responseInfo.reasons[0].code==="TOO_MANY_RECORDS_RETURNED"){_3ba(".commonsearch-searchresult").empty();_3ba(".commonsearch-searchresult").removeClass("scrollResult");this.resultcount.innerHTML="";var _3e1=i18n.tooManyResultErr;_3bc.create("div",{"class":"NoresultDisplay",innerHTML:" "+_3e1},_3ba(".commonsearch-searchresult")[0]);this.error.style.display="block";_3b9.add(this.searchEstatetextbox,"onError");this.errorText.innerHTML=i18n.estateKeywordErrorMsg;}else{if(data.estateAddressList&&data.estateAddressList.length===0){_3ba(".commonsearch-searchresult").empty();_3ba(".commonsearch-searchresult").removeClass("scrollResult");this.resultcount.innerHTML="";var _3e2=i18n.noResultErr;_3bc.create("div",{"class":"NoresultDisplay",innerHTML:" "+_3e2},_3ba(".commonsearch-searchresult")[0]);this.error.style.display="block";this.errorText.innerHTML=i18n.estateKeywordErrorMsg;_3b9.add(this.searchEstatetextbox,"onError");}else{if(data.estateAddressList&&data.estateAddressList.length>0){this.error.style.display="none";_3b9.remove(this.searchEstatetextbox,"onError");if(i18n.resultsFor){this.resultcount.innerHTML=i18n.resultsFor.replace("{0}",data.estateAddressList.length).replace("{1}",this.searchValue);}_3ba(".commonsearch-searchresult").addClass("scrollResult");_3ba(".commonsearch-searchresult").empty();for(var i=0;i<data.estateAddressList.length;i++){var _3e3="even-row";if(i%2==0){_3e3="odd-row";}var _3e4=data.estateAddressList[i];var _3e5=_3e4.estate.name+" ("+_3e4.district.name+") ";li=_3bc.create("div",{"id":"result_"+_3e4.zone.id+"_"+_3e4.district.id+"_"+_3e4.estate.id,"class":"resultDisplaylink "+_3e3,"innerHTML":" "+"<a href='#' class='resultlink' data-searchlink='searchlink'>"+"<span>"+_3e5+"</span>"+"</a>"},_3ba(".commonsearch-searchresult")[0]);}_3ba("div[id^='result_']").forEach(function(node){if(node){on(node,_3c1.press,function(){var _3e6=node.id;if(_3e6&&_3e6.split("_")){_3bd.publish("propertyvaluation/selectzone",{callFrom:"Search by Estate keyword",zoneId:_3e6.split("_")[1],districtId:_3e6.split("_")[2],estateId:_3e6.split("_")[3]});_3e0.selectTabs();}});on(node,"click",function(){var _3e7=node.id;if(_3e7&&_3e7.split("_")){_3bd.publish("propertyvaluation/selectzone",{callFrom:"Search by Estate keyword",zoneId:_3e7.split("_")[1],districtId:_3e7.split("_")[2],estateId:_3e7.split("_")[3]});_3e0.selectTabs();}});on(node,"keyup",function(e){if(e.keyCode===13){var _3e8=node.id;if(_3e8&&_3e8.split("_")){_3bd.publish("propertyvaluation/selectzone",{callFrom:"Search by Estate keyword",zoneId:_3e8.split("_")[1],districtId:_3e8.split("_")[2],estateId:_3e8.split("_")[3]});_3e0.selectTabs();}}});}});}else{this.onCallSvcFailure(data);}}}}else{this.onCallSvcFailure(data);}this.scrollPaneList.resizeScrollArea();_3ba(".scrollPaneWrapper",this.domNode).style("width","100%");_3ba(".scrollWindow",this.domNode).style("width","100%");},onCallSvcFailure:function(data){_3ba(".commonsearch-searchresult").empty();_3ba(".commonsearch-searchresult").removeClass("scrollResult");this.resultcount.innerHTML="";var _3e9=_3c3.replaceValidationErrCode(i18n.loadError,data);var _3ea="<div class=\"pearl-bg postn\">"+"<i class=\"icon-information display info-ioc span-pos\"></i>"+"<span class=\"display margin\">"+_3e9+"</span>"+"<div class=\"clear\"></div>"+"</div>";var li=_3bc.create("div",{"class":"NoresultDisplay",innerHTML:" "+_3ea},_3ba(".commonsearch-searchresult")[0]);this.scrollPaneList.resizeScrollArea();},bindScrollKeyEvent:function(_3eb){var self=this;if(_3eb.keyCode!==13){var _3ec=_3ba(".scrollResult")[0].childNodes;if(_3eb.keyCode===40){if(self.keyDownIndex!==null){for(var k=0;k<_3ec.length;k++){if(_3ec[k].childNodes[1]===_3c5.curNode){self.keyDownIndex=k;}}if(self.keyDownIndex===_3ec.length-1){self.keyDownIndex=-1;}_3c5.focus(_3ec[self.keyDownIndex+1].childNodes[1]);}else{self.keyDownIndex=0;_3c5.focus(_3ec[self.keyDownIndex].childNodes[1]);}_3eb.preventDefault();}if(_3eb.keyCode===38){if(self.keyUpIndex!==null){for(var kVal=0;kVal<_3ec.length;kVal++){if(_3ec[kVal].childNodes[1]===_3c5.curNode){self.keyUpIndex=kVal;}}if(self.keyUpIndex===0){self.keyUpIndex=_3ec.length;}_3c5.focus(_3ec[self.keyUpIndex-1].childNodes[1]);}else{self.keyUpIndex=_3ec.length-1;_3c5.focus(_3ec[self.keyUpIndex].childNodes[1]);}_3eb.preventDefault();}}else{_3eb.preventDefault();}}});});},"url:hdx/bijits/tools/liveInterestRate/template/liveInterestRateCalculator.html":"<div class=\"intresetcalculator-resources l-twelve m-eight s-four columns nopad\">  \n    \n    <div class=\"int-calc-error\">\n        <div class=\"l-twelve m-eight s-four columns error-msg\" data-dojo-attach-point=\"interestRateServiceError\" style=\"display:none\"></div>\n    </div>\n    <div data-dojo-attach-point=\"interestRateCalculator\" style=\"display:none\">\n        <div class=\"reusable-int-calc foreigncurrency\">\n        \t<div class=\"l-twelve m-eight s-four columns hideonmobile cal-toggle\">\n\t\t       <form>\n\t\t           <button type=\"button\" data-dojo-attach-point=\"showDetail\" class=\"t14r\"  data-dojo-attach-event=\"click:clickshowDetail\">\n\t\t           <span>${i18n.showdetails}<em class=\"icon-chevron-down cal-btn\"></em></span><span class=\"accessibleHidden expandedSpan\">${i18n.accessShowdetails}</span>\n\t\t           </button>\n\t\t           <button type=\"button\" data-dojo-attach-point=\"hideDetail\" class=\"cal-collapse t14r\" data-dojo-attach-event=\"click:clickhideDetail\">\n\t\t           <span>${i18n.hidedetails}<em class=\"icon-chevron-up cal-btn\"></em></span><span class=\"accessibleHidden expandedSpan\">${i18n.accessHidedetails}</span>\n\t\t           </button>\n\t\t       </form>\n\t\t   </div>\n            <div class=\"l-twelve m-eight s-four columns showonmobile mobile-pad-l mobile-pad-r\">\n                <p class=\"t28b cal-heading\" id=\"intrestCalculator-focus\">${i18n.interestCalculator}</p>\n                <span class=\"showonmobile\">\n                <button class=\"collapse icon-chevron-down\" id=\"detailsSeaarchMoremob\" type=\"button\" data-dojo-attach-event=\"click:clickshowDetail\" data-dojo-attach-point=\"mobileShowDetail\">\n                <span class=\"icon-chevron-down-overdraft\"></span><span class=\"accessibleHidden expandedSpan\">${i18n.accessShowdetails}</span>\n                </button>\n                <button class=\"expand icon-chevron-up hide\" id=\"detailsSeaarchLessmob\" type=\"button\" data-dojo-attach-event=\"click:clickhideDetail\"  data-dojo-attach-point=\"mobileHideDetail\">\n                <span class=\"icon-chevron-up-overdraft\"></span><span class=\"accessibleHidden expandedSpan\">${i18n.accessHidedetails}</span>\n                \n                </button>\n                </span>\n            </div>\n            <div class=\"l-four m-five s-four columns tab-first-col desktop-pad-l tablet-pad-l mobile-pad-l mobile-pad-r\">\n                <h3 class=\"t28b cal-heading hideonmobile\">${i18n.interestCalculator}</h3>\n                <div data-dojo-attach-point=\"description\">\n                    <p>${i18n.intDesc}</p>\n                    <p class=\"cal-disclaimer cont-hide\">\n                        <span>${i18n.disclaimer}</span>\n                    </p>\n                </div>\n            </div>\n            <div class=\"l-four m-five s-four columns tablet-pad-l mobile-pad-l mobile-pad-r\" data-dojo-attach-point=\"calcContent\" style=\"padding-left:0px;\">\n                <div class=\"cal-form cal-form-lay\">\n                    <form action=\"\">\n                        <h4 class=\"t16r cal-od-amt\">${i18n.depositeAmount}\n                        </h4>\n                        <div class=\"cal-form currency-cal\">\n                            <div data-dojo-attach-point=\"currencyDropDown\">\n                                <span id=\"depositAmount\" class=\"accessibleHidden\" style=\"visibility: hidden;\">${i18n.depositeAmount} ${i18n.dropdown}</span >\n                                <select name=\"\" class=\"request_cb_drop_country_select request_callBack_dropdowns\" data-dojo-props=\"maxHeight:'290'\" data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" aria-atomic=\"true\" data-dojo-attach-point=\"requestCbCountry\" aria-labelledby=\"depositAmount\" data-dojo-custom-class=\"cureencyCalDropMenu\" data-dropdown-attach-point=\"request-callBack-dropDown3\" ></select >\n                            </div>\n                            <div id=\"depositAmountTextBox\" class=\"accessibleHidden\">${i18n.depositeAmount}</div>\n                            <div data-dojo-attach-point=\"depositAmount\"></div>\n                        </div>\n                        <div data-dojo-attach-point=\"depositAmountSliderWrapper\">\n                            <div data-dojo-attach-point=\"depositAmountSlider\"><span class=\"accessibleHidden\" id=\"depositAmountSlider\" data-dojo-attach-point=\"depositAmountSliderSrt\" aria-live=\"polite\"></span></div>\n                        </div>\n                        <div class=\"hide detealSearchSectionNode\" data-dojo-attach-point=\"detailSearchSection\">\n                            <span class=\"t16r cal-od-days\" data-dojo-attach-point=\"depositPeriodLabel\">${i18n.depositePeriod} </span>\n                            <div >\n                                <span id=\"depositPeriod\" class=\"accessibleHidden\">${i18n.depositePeriodLabel}</span >\n                                <select data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" data-dojo-props=\"maxHeight:'260'\" data-dojo-attach-point=\"depositPeriod\" data-dojo-select-width=\"custmized\" data-dojo-custom-class=\"timeDepositemonthselect\" aria-labelledby=\"depositPeriod\" aria-haspopup=\"true\"></select>\n                                <span class=\"accessibleHidden expandedSpan\"> Select to Expand. </span>\n                            </div >\n                        </div>\n                    </form>\n                </div>\n                <div class=\"showontablet\">\n                    <p class=\"cal-disclaimer remove-margin-b\">\n                        <span>${i18n.disclaimer} </span>\n                    </p>\n                </div>\n            </div>\n            <div class=\"l-four m-three s-four columns tablet-pad-r mobile-pad-l mobile-pad-r\" data-dojo-attach-point=\"calcSection\" style=\"height:auto;\">                \n                <div class=\"hide\" data-dojo-attach-point=\"InterestRepayment\">\n                \t<h4 class=\"accessibleHidden\">${i18n.interestCalculatorDetails}</h4>\n                    <div class=\"cal-int-col col3-first-val\" data-dojo-attach-point=\"interestSec\">\n                        <p class=\"col3-text\">${i18n.inerestAtMaturity}</p>\n                        <span class=\"cal-int-currency\" data-dojo-attach-point=\"maturityCurrency\"></span>\n                        <span class=\"cal-int-val\" data-dojo-attach-point=\"interestAtMaturity\"></span>\n                    </div>\n                    <div class=\"cal-int-col\" data-dojo-attach-point=\"maturityDate\">\n                        <p class=\"col3-text\" data-dojo-attach-point=\"maturityDateLabel\">${i18n.maturityDate}</p>\n                        <span class=\"cal-int-val remove-margin-l\" data-dojo-attach-point=\"maturityDate\"></span>\n                    </div>\n                    <div class=\"cal-int-col\" data-dojo-attach-point=\"interestRate\">\n                        <p class=\"col3-text\">${i18n.interestRate}</p>\n                        <span class=\"cal-int-val remove-margin-b remove-margin-l\" data-dojo-attach-point=\"interestRate\"></span>\n                    </div>\n                </div>\n                <div class=\"l-twelve m-eight s-four columns hide collapse-width tablet-pad-l mobile-pad-l mobile-pad-r\" data-dojo-attach-point=\"collapseInfo\">\n                    <div class=\"cal-int-col col3-first-val first-val\">\n                        <p class=\"col3-text\">${i18n.inerestAtMaturity}</p>\n                        <span class=\"cal-int-currency\" data-dojo-attach-point=\"maturityCurrencyCollapsed\">HKD</span>\n                        <span class=\"cal-int-val\" data-dojo-attach-point=\"interestAtMaturityCollapsed\"></span>\n                    </div>\n                    <div class=\"cal-int-col col3-first-val second-val\">\n                        <p class=\"col3-text\">${i18n.maturityDate}</p>\n                        <span class=\"cal-int-val remove-margin-b remove-margin-l\" data-dojo-attach-point=\"maturityDateCollapsed\"></span>\n                    </div>\n                    <div class=\"cal-int-col col3-first-val third-val\">\n                        <p class=\"col3-text\">${i18n.interestRate}</p>\n                        <span class=\"cal-int-val remove-margin-b  remove-margin-l\" data-dojo-attach-point=\"interestRateCollapsed\"></span>\n                    </div>\n                    <div class=\" summary hide\" style=\"clear: both;\" data-dojo-attach-point=\"summary\"></div>\n                </div>\n                <div class=\"showonmobile\" data-dojo-attach-point=\"discMobile\">\n                    <p class=\"cal-disclaimer\">\n                        <span>${i18n.disclaimer}</span>\n                    </p>\n                </div>\n            </div>\n        </div>\n        <div class=\"t14r disclimernote interest-rate-calc\">\n\t    \t<p data-dojo-attach-point=\"footernote_cny\"></p><br/>\n\t\t\t<p data-dojo-attach-point=\"footernote_basis\"></p>\n\t\t\t<p data-dojo-attach-point=\"footernote_hkd\"></p><br/>\n\t\t\t<p data-dojo-attach-point=\"footernote_offer\"></p>\n\t\t</div>\n    </div>\n</div>","url:hdx/bijits/tools/liveInterestRate/template/SelectOptionOverlay.html":"<div>\n\t<div data-dojo-type=\"dijit/Dialog\"\n\t\tdata-dojo-attach-point=\"dialogBoxOverlay\"\n\t\tclass=\"timeDepositDiglog dialog-box-overlay\">\n\t\t<h2 class=\"selectOptionClass\">${i18n.select_option}</h2>\n\t\t\n\t\t<div class=\"closeButton od-detail-close\">\n\t\t\t<a class=\"a-nonborder\"  href=\"javascript: void(0);\" role=\"button\"\n\t\t\t\tdata-dojo-attach-point=\"deleteIcon\"><span aria-hidden=\"true\" class=\"icon-delete\"></span><span\n\t\t\t\t\tclass=\"mobile-accessibleHidden\">${i18n.select_option_close}</span></a>\n\t\t</div>\n\t\t<form>\n\t\t\t<div class=\"padding-li-class\" data-dojo-attach-point=\"overlayContent\">\n\t\t\t</div>\n\t\t</form>\n\t</div>\n</div>","hdx/bijits/tools/mortgageCalculator/MortgageCalUtil":function(){define("hdx/bijits/tools/mortgageCalculator/MortgageCalUtil",["dojo/_base/declare"],function(_3ed){var _3ee=_3ed("hdx.bijits.tools.mortgageCalculator.MortgageCalUtil",[]);_3ee.calculateLoanAmount=function(_3ef,rate,_3f0){var _3f1=0;var _3f2=_3f0*12;rate=rate/1200;_3f1=((_3ef*0.45)*((1-Math.pow((1+rate),(-_3f2)))/rate));_3f1=Math.round(_3f1);return _3f1;};_3ee.calculateRepayAmount=function(_3f3,_3f4,rate,_3f5){rate=rate/12/100;var _3f6=0;_3f6=_3f5*12;var _3f7=0;_3f7=_3f4*rate/(1-Math.pow((1+rate),(-_3f6)));if(_3f3=="fr"){_3f7=_3f7/2;}return _3f7;};_3ee.calculateRepaySummary=function(_3f8,_3f9,_3fa,rate){var _3fb=new Array(3);var _3fc=0;var _3fd=0;var _3fe=0;var _3ff=0;var _400=0;var _401=0;if(_3f8=="mr"){_400=12;}else{_400=26;}rate=rate/100/_400;while(_3f9>0){_3fe=_3f9*rate;principal=_3fa-_3fe;_3f9=_3f9-principal;if(_3f9<=0){_3fa=_3fa+_3f9;}_3fd=_3fd+_3fa;_3ff=_3ff+_3fe;_401++;}if(_401%_400==0){_3fc=_401/_400;}else{_3fc=Math.round(10*(_401/_400))/10;}if(_3f8=="mr"){_3fc=Math.round(_3fc);}_3fb[0]=_3fc;_3fb[1]=_3ff;_3fb[2]=_3fd;return _3fb;};_3ee.addValueLabel=function(_402,_403,_404){var _402=(_402)?_402:"";var _403=(_403)?_403:"";var _404=(_404)?_404:"";return _402+_403+_404;};return _3ee;});},"url:hdx/dijits/reusableComponents/templates/DateInput.html":"<div class=\"dijit dijitReset dijitInline dijitLeft dijitDateInput\" id=\"widget_${id}\" role=\"presentation\" data-dojo-attach-point=\"mainValidatorInputDiv\" >\n    <div class=\"dijitReset dijitInputField dijitInputContainer\" style=\"position: relative\" >\n        <!--<span data-dojo-attach-point=\"prefix\" ></span >-->\n\n        <div data-dojo-attach-point=\"textBox\" class=\"textBoxDiv\" >\n            <input data-dojo-attach-point='textbox' type=\"hidden\"/><span class=\"accessibleHidden\" id=\"${id}_dayAccessibleLabel\"\n            >${dayAccessibleLabel}</span><input \n                   class=\"dayInput focusable dijitReset dijitInputInner\"\n                   data-dojo-attach-point='dayTextbox,focusNode' autocomplete=\"off\" ${!nameAttrSetting}\n                   type=\"text\" maxlength=\"2\" placeholder=\"${dayPlaceholder}\" id=\"${id}_dayTextbox\" aria-labelledby=\"${id}_dayAccessibleLabel\"/><label class=\"accessibleHidden\" for=\"${id}_monthTextbox\" id=\"${id}_monthAccessibleLabel\"\n            >${monthAccessibleLabel}</label><input \n                   class=\"monthInput focusable dijitReset dijitInputInner\"\n                   data-dojo-attach-point='monthTextbox' autocomplete=\"off\" ${!nameAttrSetting}\n                   type=\"text\" maxlength=\"2\" placeholder=\"${monthPlaceholder}\" id=\"${id}_monthTextbox\" aria-labelledby=\"${id}_monthAccessibleLabel\"/><label class=\"accessibleHidden\" for=\"${id}_yearTextbox\" id=\"${id}_yearAccessibleLabel\"\n            >${yearAccessibleLabel}</label><input \n                   class=\"yearInput focusable dijitReset dijitInputInner\"\n                   data-dojo-attach-point='yearTextbox' autocomplete=\"off\" ${!nameAttrSetting}\n                   type=\"text\" maxlength=\"4\" placeholder=\"${yearPlaceholder}\" id=\"${id}_yearTextbox\" aria-labelledby=\"${id}_yearAccessibleLabel\"/>\n        </div >\n        <div style=\"display:none; \" data-dojo-attach-point=\"textValue\" ></div>\n        <!--<span data-dojo-attach-point=\"suffix\" style=\"position: absolute\"></span>-->\n    </div >\n    ${!errorMessageTemplate}\n</div>","hdx/bijits/tools/liveInterestRate/SelectOptionOverlay":function(){require({cache:{"url:hdx/bijits/tools/liveInterestRate/template/SelectOptionOverlay.html":"<div>\n\t<div data-dojo-type=\"dijit/Dialog\"\n\t\tdata-dojo-attach-point=\"dialogBoxOverlay\"\n\t\tclass=\"timeDepositDiglog dialog-box-overlay\">\n\t\t<h2 class=\"selectOptionClass\">${i18n.select_option}</h2>\n\t\t\n\t\t<div class=\"closeButton od-detail-close\">\n\t\t\t<a class=\"a-nonborder\"  href=\"javascript: void(0);\" role=\"button\"\n\t\t\t\tdata-dojo-attach-point=\"deleteIcon\"><span aria-hidden=\"true\" class=\"icon-delete\"></span><span\n\t\t\t\t\tclass=\"mobile-accessibleHidden\">${i18n.select_option_close}</span></a>\n\t\t</div>\n\t\t<form>\n\t\t\t<div class=\"padding-li-class\" data-dojo-attach-point=\"overlayContent\">\n\t\t\t</div>\n\t\t</form>\n\t</div>\n</div>"}});define("hdx/bijits/tools/liveInterestRate/SelectOptionOverlay",["dojo/_base/declare","dijit/_WidgetBase","dijit/_WidgetsInTemplateMixin","dijit/_TemplatedMixin","dojo/on","dojo/_base/lang","dojo/query","dojo/text!./template/SelectOptionOverlay.html","dojo/dom-construct","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/topic","hsbc/eca!dojo/i18n!pws/Components/client/liveInterestRate/nls/liveInterestRateTable_nls","dojo/_base/array","dojo/domReady!","dijit/Dialog"],function(_405,_406,_407,_408,on,lang,_409,_40a,_40b,_40c,_40d,_40e,_40f,i18n,_410){return _405("hdx.bijits.tools.liveInterestRate.SelectOptionOverlay",[_406,_408,_407],{templateString:_40a,colText:null,custom_id:"",i18n:i18n,constructor:function(_411){this.custom_id=_411;},postCreate:function(){_40d.add(this.dialogBoxOverlay.domNode,this.custom_id);this.dialogBoxOverlay.domNode.id=this.dialogBoxOverlay.domNode.id+""+this.custom_id;_409(".a-nonborder").style("outline","0");_40f.subscribe("scrollYOffsetValue",lang.hitch(this,function(arg){this.scrollYOffsetValue=arg.value;}));var _412=_409(".timeDepositeRateTable."+this.custom_id+" .mainTable thead tr")[0];var _413=_409(".timeDepositeRateTable."+this.custom_id+" .mainTable thead tr");var _414=_409(".timeDepositeRateTable."+this.custom_id+" .mainTable tbody tr");var _415=_409(".show",_412);var _416=_409(".mhide",_412);colText="";for(var i=0;i<_415.length;i++){var _417=_415[i].className.split(" ");var _418=_415[i].innerHTML;if(_418){_418=_418.replace("<br>","").replace("<br>","");}colText=colText+"<li class='li-class-overlay' id='"+_417[0]+"'><a href='javascript:void(0);'><span>"+_418+"</span><span aria-hidden='false' class='mobile-accessibleHidden show'>selected</span><span  id='row_"+_417[0]+"' class='checkTickImage icon-style-overlay show'></span></a></li>";}for(var _419=0;_419<_416.length;_419++){temp=_419+1;var _417=_416[_419].className.split(" ");var _418=_416[_419].innerHTML;if(_418){_418=_418.replace("<br>","").replace("<br>","");}if(_419===(_416.length-1)){colText=colText+"<li class='li-class-overlay' id='"+_417[0]+"'><a href='javascript:void(0);'><span>"+_418+"</span><span aria-hidden='true' class='mobile-accessibleHidden hide'>selected</span><span  id='row_"+_417[0]+"' class='checkTickImage icon-style-overlay mhide'></span></a></li>";}else{colText=colText+"<li class='li-class-overlay' id='"+_417[0]+"'><a href='javascript:void(0);'><span>"+_418+"</span><span aria-hidden='true' class='mobile-accessibleHidden hide'>selected</span><span  id='row_"+_417[0]+"' class='checkTickImage icon-style-overlay mhide'></span></a></li>";}}var self=this;_40b.place(colText,self.overlayContent);var _41a=function(_41b){_41b.preventDefault();var _41c=_409("#"+self.dialogBoxOverlay.domNode.id)[0];var _41d=_40c.get((_409(_41b.target).closest("li"))[0],"id");var _41e=_409(".mhide",_41d);if(_41e.length!==0){var _41f=_409(".checkTickImage.icon-style-overlay.show",self.overlayContent);_410.forEach(_41f,lang.hitch(this,function(node){_40d.remove(node,"show");_40d.add(node,"mhide");}));var _420=_409(".mobile-accessibleHidden.show",self.overlayContent);_410.forEach(_420,function(node){_40d.remove(node,"show");_40d.add(node,"hide");_40c.set(node,{"aria-hidden":"true"});});var _421=_409(".mobile-accessibleHidden.hide",_41e[0].parentElement);_410.forEach(_421,function(node){_40d.remove(node,"hide");_40d.add(node,"show");_40c.set(node,{"aria-hidden":"false"});});_40d.remove(_41e[0],"mhide");_40d.add(_41e[0],"show");var _422="."+_41d;_410.forEach(_413,lang.hitch(this,function(_423){var _424=_409(".show",_423);_410.forEach(_424,lang.hitch(this,function(node){_40d.remove(node,"show");_40d.add(node,"mhide");}));var _425=_409(_422,_423);_410.forEach(_425,lang.hitch(this,function(node){_40d.remove(node,"mhide");_40d.add(node,"show");}));}));_410.forEach(_414,lang.hitch(this,function(_426){var _427=_409(".show",_426);_410.forEach(_427,lang.hitch(this,function(node){_40d.remove(node,"show");_40d.add(node,"mhide");}));var _428=_409(_422,_426);_410.forEach(_428,lang.hitch(this,function(node){_40d.remove(node,"mhide");_40d.add(node,"show");}));}));}this.dialogBoxOverlay.hide();_40d.remove(document.body,"hideScroll");_40e.set(document.body,"overflow","auto");window.scrollTo(0,this.scrollYOffsetValue);};on(_409("li",self.overlayContent),"click",lang.hitch(this,_41a));_40f.subscribe("window/resize",lang.hitch(this,function(size){if(size!=="small"){this.dialogBoxOverlay.hide();_40d.remove(document.body,"hideScroll");_40e.set(document.body,"overflow","auto");window.scrollTo(0,this.scrollYOffsetValue);}}));}});});},"url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n","url:hdx/bijits/tools/mortgageCalculator/template/CostingCalculator.html":"<div class=\"first-tab costingtab costingtool\">\n    <div class=\"row\">\n        <div class=\"l-twelve m-eight s-four columns nopad\">\n            <p class=\"t16r\">${i18n.toolDescription}</p>\n            <form action=\"\" name=\"mortgageCalculator\" class=\"deposit-linked-tab\">\n                <div class=\"row\">\n                    <div class=\"l-five m-four s-four columns desktop-pad-l tablet-pad-l mobile-pad-l mobile-pad-r arrowright\">\n                        <h2 class=\"heading t22l\">${i18n.column1Heading}</h2>\n                        <div id=\"loanamountId\" class=\"labelClass\">${i18n.loanAmountLabel}</div>\n                        <div style=\"position:relative\" class=\"clearfix-position first-text-box\">\n                            <div class=\"loantxtbox\"  data-dojo-attach-point=\"loanAmount\" ></div>\n                        </div>\n                        <div id=\"interestRateId\" class=\"labelClass\">${i18n.interestRateLabel} </div>\n                        <div style=\"position:relative\" class=\"clearfix-position second-text-box\">\n                            <div  data-dojo-attach-point=\"interestRate\" class=\"percentBox\" ></div>\n                        </div>\n                        <div for=\"loanperiodyears\" class=\"labelClass\">${i18n.loanPeriodLabel}</div>\n                        <div class=\"margintop26 inputyears\" data-dojo-attach-point=\"loanPeriod\"></div>\n                        <div class=\"sliderFocus\" data-dojo-attach-point=\"loanPeriodSlider\"><span class=\"accessibleHidden\" id=\"loanPeriodCostSlider\" data-dojo-attach-point=\"loanPeriodCostSliderSrt\" aria-live=\"polite\"></span></div>\n                    </div>\n                    <div class=\"l-seven m-four s-four columns mobile-pad-l mobile-pad-r\">\n                        <div class=\"result\">\n                            <h2 class=\"heading t22l\">${i18n.column2Heading}</h2>\n                            <h3 class=\"t16b\">${i18n.monthlyAndFortnightlyRepayments}</h3>\n                            <p class=\"t16r\">${i18n.monthlyAndFortnightlyRepaymentsDesc}</p>\n                            <span class=\"accessibleHidden\">${i18n.mortgageCalculatorDetails}</span>\n                            <table class=\"cc-table-monthly showondesktop displayblock\" summary=\"${i18n.accessMonthlyRepayment}\">\n                                <caption class=\"hide\">${i18n.accessMonthlyRepayment}</caption>\n                                <thead>\n                                    <tr class=\"row1\">\n                                        <th class=\"column1 t14b\" id=\"MRheader05\" scope=\"col\">${i18n.monthlyRepayment}</th>\n                                        <th class=\"column2 t14r\" id=\"MRheader06\" scope=\"col\">${i18n.loanPeriod}</th>\n                                        <th class=\"column3 t14r\" id=\"MRheader07\" scope=\"col\">${i18n.totalInterest}</th>\n                                        <th class=\"column4 t14r\" id=\"MRheader08\" scope=\"col\">${i18n.totalRepayment}</th>\n                                    </tr>\n                                </thead>\n                                <tbody class=\"t14r\">\n                                    <tr class=\"row2\">\n                                        <td class=\"column1\" headers=\"MRheader05\"><span class=\"t22l\" data-dojo-attach-point=\"monthlyRepaymentAmount\"></span></td>\n                                        <td class=\"column2\" headers=\"MRheader06\" data-dojo-attach-point=\"monthlyLoanPeriod\"></td>\n                                        <td class=\"column3\" headers=\"MRheader07\" data-dojo-attach-point=\"monthlyInterestPayable\"></td>\n                                        <td class=\"column4\" headers=\"MRheader08\" data-dojo-attach-point=\"monthlyTotalRepayment\"></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            <hr class=\"showondesktop\"/>\n                            <table class=\"cc-table-fortnightly showondesktop displayblock\" summary=\"${i18n.accessFortnightlyRepayment}\">\n                                <caption class=\"hide\">${i18n.accessFortnightlyRepayment}</caption>\n                                <thead>\n                                    <tr class=\"row1\">\n                                        <th class=\"column1 t14b\" scope=\"col\" id=\"FRheader05\">${i18n.fortnightlyRepayment}</th>\n                                        <th class=\"column2 t14r\" scope=\"col\" id=\"FRheader06\">${i18n.loanPeriod}</th>\n                                        <th class=\"column3 t14r\" scope=\"col\" id=\"FRheader07\">${i18n.totalInterest}</th>\n                                        <th class=\"column4 t14r\" scope=\"col\" id=\"FRheader08\">${i18n.totalRepayment}</th>\n                                    </tr>\n                                </thead>\n                                <tbody class=\"t14r\">\n                                    <tr class=\"row2\">\n                                        <td class=\"column1\" headers=\"FRheader05\"><span class=\"t22l\" data-dojo-attach-point=\"fortnightlyRepaymentAmount\"></span></td>\n                                        <td class=\"column2\" headers=\"FRheader06\" data-dojo-attach-point=\"fortnightlyLoanPeriod\"></td>\n                                        <td class=\"column3\" headers=\"FRheader07\" data-dojo-attach-point=\"fortnightlyInterestPayable\"></td>\n                                        <td class=\"column4\" headers=\"FRheader08\" data-dojo-attach-point=\"fortnightlyTotalRepayment\"></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"l-twelve m-eight s-four columns showonmobile\">\n                        <hr/>\n                        <table cellspacing=\"0\" class=\"cc-table\" summary=\"${i18n.accessMonthlyRepayment}\">\n                            <caption class=\"hide\">${i18n.accessMonthlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.monthlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"monthlyRepaymentAmount1\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"monthlyLoanPeriod1\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"monthlyInterestPayable1\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"monthlyTotalRepayment1\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <hr/>\n                        <table cellspacing=\"0\" class=\"cc-table\" summary=\"${i18n.accessFortnightlyRepayment}\">\n                            <caption class=\"hide\">${i18n.accessFortnightlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.fortnightlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"fortnightlyRepaymentAmount1\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"fortnightlyLoanPeriod1\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"fortnightlyInterestPayable1\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"fortnightlyTotalRepayment1\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <!-- for tablet -->\n                <div class=\"row\">\n                    <div class=\"l-twelve m-eight s-four columns showontablet\">\n                        <hr/>\n                        <table cellspacing=\"15\" class=\"cc-table-monthly\" summary=\"${i18n.accessMonthlyRepayment}\">\n                            <caption class=\"hide\">${i18n.accessMonthlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.monthlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"monthlyRepaymentAmount2\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"monthlyLoanPeriod2\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"monthlyInterestPayable2\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"monthlyTotalRepayment2\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <hr/>\n                        <table cellspacing=\"15\" class=\"cc-table-fortnightly\" summary=\"${i18n.accessFortnightlyRepayment}\">\n                            <caption class=\"hide\">${i18n.accessFortnightlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.fortnightlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"fortnightlyRepaymentAmount2\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"fortnightlyLoanPeriod2\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"fortnightlyInterestPayable2\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"fortnightlyTotalRepayment2\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </form>\n            <div class=\"borrowdisclaim\">\n                <div class=\"rows\">\n                    <div class=\"l-twelve m-eight s-four columns\">\n                        <p class=\"t14r\">\n                            <span class=\"t14b\">${i18n.disclaimerTitle}</span>\n                            <span class=\"dis-desc-color t14r\">${i18n.disclaimerDesc}</span>\n                        </p>\n                    </div>\n                </div>\n            </div>\n            <div class=\"propertyval\">\n                <div class=\"rows\">\n                    <div class=\"l-twelve m-eight s-four columns\">\n                        <p class=\"ptext t16r\">${i18n.currentPriceFlat}</p>\n                        <a href=\"${i18n.propertyValUrl}\" id=\"Get Property Valuation\" class=\"secondaryaction primaryround\"><span>${i18n.getPropVal}</span></a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","hdx/dijits/reusableComponents/CustomizedHorizontalRangeSlider":function(){define("hdx/dijits/reusableComponents/CustomizedHorizontalRangeSlider",["dojo/_base/declare","dijit/_WidgetBase","dojo/dom","dojo/number","dojo/dom-class","dojo/query","dojo/dom-attr","dijit/form/HorizontalSlider","dijit/form/HorizontalRuleLabels","dijit/form/TextBox","dojo/dom-construct","dojo/_base/array","dojo/topic","dojo/dom-style","dojo/NodeList-traverse"],function(_429,_42a,dom,_42b,_42c,_42d,_42e,_42f,_430,_431,_432,_433,_434,_435){return _429("hdx.dijits.reusableComponents.CustomizedHorizontalRangeSlider",[_42a],{slider:null,constructor:function(){},startup:function(){},postCreate:function(){var _436=_429("hdx.dijits.reusableComponents.OverRidenSlider",[_42f],{_setValueAttr:function(_437){this.inherited(arguments);this.focusNode.removeAttribute("aria-valuenow");this.valueNode.removeAttribute("value");}});this.inherited(arguments);var _438=dom.byId(this.placeLocation);var _439=this.value;var _43a=this.maxValue;var _43b=this.minValue;var _43c=0;if(this.discreteValues){_43c=this.discreteValues;}var _43d=new _436({id:this.name,name:this.name,value:_439,minimum:_43b,maximum:_43a,intermediateChanges:true,showButtons:this.sliderButtons,discreteValues:_43c,onChange:function(_43e){_434.publish("hdx/dijits/HorizontalRangeSlider/slider/slider_moved",{fromSlider:true});}}).placeAt(_438);this.slider=_43d;var _43f="";if(this.currency){_43f="<div id=\""+this.id+"_ariaSliderLabel\"  style=\"display:none;\">"+this.labelText+"  "+this.currencyLabel+"</div>";}else{if(this.interest){_43f="<div id=\""+this.id+"_ariaSliderLabel\"  style=\"display:none;\">"+this.labelText+"  %"+"</div>";}else{_43f="<div id=\""+this.id+"_ariaSliderLabel\"  style=\"display:none;\">"+this.labelText+"</div>";}}if(_43f!=undefined&&_43f!=""){_432.place(_43f,_43d.sliderHandle,"before");}_42e.set(_43d.sliderHandle,"aria-labelledby",this.id+"_ariaSliderLabel");var _440=document.createElement("div");if(_440!=undefined&&_440!=""){_432.place(_440,_43d.domNode,"before");}var _441=_42b.format(_43b);var _442=_42b.format(_43a);if(this.currency){var _443=(this.currencyLabel)?(this.currencyLabel):"";var _444=(this.currencyLabelSuffix)?(this.currencyLabelSuffix):"";_441=_443+_441+_444;_442=_443+_442+_444;}if(this.interest){_441=_441+"%";_442=_442+"%";}var _445=new _430({count:2,labels:[_441,_442]},_440);_433.forEach(_42d("#"+_445.id+" .dijitRuleLabelContainer"),function(node,i){_42c.remove(node,"dijitRuleLabelContainer");_435.set(node,"left","0%");if(i==1){_435.set(node,"float","right");}});var temp=_432.create("span",{innerHTML:"to"},_42d("#"+_445.id+" .dijitRuleLabelContainerH")[0],"after");_42c.add(temp,"mobile-accessibleHidden");_433.forEach(_42d("#"+_445.id+" .dijitRuleLabelH"),function(node,i){_435.set(node,"left","0%");});}});});},"hdx/bijits/tools/serviceFinder/ServiceFinderDetails":function(){require({cache:{"url:hdx/bijits/tools/serviceFinder/templates/ServiceFinderDetails.html":"<div class=\"details-pad\">\n   <a class=\"backbtn\" href=\"javascript:void(0);\" data-dojo-attach-point=\"backButton\">\n   <span>${i18n.backButton}</span>\n   <em class=\"icon-chevron-left\"></em>\n   </a>\n   <div class=\"${shadowClass} branchicon\" style=\"background-color:${colorCode}\">${resultNumber}</div>\n   <span class=\"small-size t12r\">${facility}</span>\n   <span class=\"t22l details-name\">${name}</span>\n   <span class=\"small-size-distance t12r\">${distance}</span>\n   <p class=\"t14r\">${address}</p>\n   <p class=\"t12r\" data-dojo-attach-point=\"callOutText\"></p>\n   <span class=\"t12r openTodayDetails\" data-dojo-attach-point=\"openTodayDetails\"></span>\n   <span class=\"notOpenTodayDetails\" data-dojo-attach-point=\"notOpenTodayDetails\"></span>\n   <a class=\"get-directions level5action\" onclick=\"return false;\" data-dojo-attach-point=\"directionLink\">\n   <span>${i18n.getDirections}</span>\n   <em class=\"chv primaryred\"></em>\n   </a>\n   <hr class=\"details-separator\">\n   <div class=\"sectionlist scroll-section\" data-dojo-attach-point=\"servicesAvailable\"></div>\n   <hr class=\"details-separator\" data-dojo-attach-point=\"servicesAvailable_separator\">\n   <div class=\"sectionlist scroll-section\">\n   \t\t<div class=\"l-twelve m-eight columns nopad\">\n\t\t\t<table border=\"0\" class=\"branchDetails\" summary=\"branch timing details\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th class=\"t14b\">${i18n.hours}</th>\n\t\t\t\t\t\t<th class=\"t14b branchtime\">${i18n.branch}</th>\n\t\t\t\t\t\t<th class=\"t14b exptime\">${i18n.expressBanking}</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody data-dojo-attach-point=\"hours\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"t14r\">${i18n.monday}</td>\n\t\t\t\t\t\t<td class=\"t14r branchtime\">${workHrsBranch.monday}</td>\n\t\t\t\t\t\t<td class=\"t14r exptime\" data-dojo-attach-point=\"expressBankingWorkHrs\">${workHrsExpressBanking.monday}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"t14r\">${i18n.tuesday}</td>\n\t\t\t\t\t\t<td class=\"t14r branchtime\">${workHrsBranch.tuesday}</td>\n\t\t\t\t\t\t<td class=\"t14r exptime\" data-dojo-attach-point=\"tuesday\">${workHrsExpressBanking.tuesday}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"t14r\">${i18n.wednesday}</td>\n\t\t\t\t\t\t<td class=\"t14r branchtime\">${workHrsBranch.wednesday}</td>\n\t\t\t\t\t\t<td class=\"t14r exptime\" data-dojo-attach-point=\"wednesday\">${workHrsExpressBanking.wednesday}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"t14r\">${i18n.thursday}</td>\n\t\t\t\t\t\t<td class=\"t14r branchtime\">${workHrsBranch.thursday}</td>\n\t\t\t\t\t\t<td class=\"t14r exptime\" data-dojo-attach-point=\"thursday\">${workHrsExpressBanking.thursday}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"t14r\">${i18n.friday}</td>\n\t\t\t\t\t\t<td class=\"t14r branchtime\">${workHrsBranch.friday}</td>\n\t\t\t\t\t\t<td class=\"t14r exptime\" data-dojo-attach-point=\"friday\">${workHrsExpressBanking.friday}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"t14r\">${i18n.saturday}</td>\n\t\t\t\t\t\t<td class=\"t14r branchtime\">${workHrsBranch.saturday}</td>\n\t\t\t\t\t\t<td class=\"t14r exptime\" data-dojo-attach-point=\"saturday\">${workHrsExpressBanking.saturday}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"t14r\">${i18n.sunday}</td>\n\t\t\t\t\t\t<td class=\"t14r branchtime\">${workHrsBranch.sunday}</td>\n\t\t\t\t\t\t<td class=\"t14r exptime\" data-dojo-attach-point=\"sunday\">${workHrsExpressBanking.sunday}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\t\n         <p data-dojo-attach-point=\"expressBankingAccessible24Hrs\" class=\"expresstxt hide\">${i18n.accessible}</p>\n      </div>\n    </div>\n      <hr class=\"details-separator\">\n      <div class=\"contactsBankDetails\">\n         <div data-dojo-attach-point=\"contactsBankDetails\"></div>\n      </div>\n   </div>"}});define("hdx/bijits/tools/serviceFinder/ServiceFinderDetails",["dojo/_base/declare","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_WidgetBase","hsbc/eca!dojo/i18n!pws/Components/client/serviceFinder/nls/servicefinder_nls","dojo/text!./templates/ServiceFinderDetails.html"],function(_446,_447,_448,_449,i18n,_44a){return _446("hdx.bijits.tools.serviceFinder.ServiceFinderDetails",[_449,_447,_448],{templateString:_44a,i18n:i18n,postCreate:function(){this.inherited(arguments);}});});},"hdx/bijits/tools/loanInterestCalculator/loanInterestCalculator":function(){require({cache:{"url:hdx/bijits/tools/loanInterestCalculator/template/loanInterestCalculator.html":"<div class=\"tools w-tol-cnt-2 tools-expanded loan-calculator loan-calc\">\n\n        <!-- Expand / Collapse  -->\n        <div class=\"l-twelve m-eight s-four columns mobile-pad-l mobile-pad-r\">\n            <!-- Mobile view heading -->\n            <p class=\"t28b cal-heading showonmobile\" id=\"intrestCalculator-focus\">${i18n.toolHeader}</p>\n            <span class=\"collapse-control\" data-dojo-attach-point=\"collapseControl\">\n                <button class=\"expand\" type=\"button\" data-dojo-attach-event=\"click:clickShowDetail\" data-dojo-attach-point=\"showDetail\">\n                    <span class=\"hideonmobile\">${i18n.showLabel}</span><em class=\"icon-chevron-down\"></em>\n                    <span class=\"accessibleHidden expandedSpan\">${i18n.accessShowDetail}</span>\n                </button>\n                <button class=\"collapse\" type=\"button\" data-dojo-attach-event=\"click:clickHideDetail\" data-dojo-attach-point=\"hideDetail\">\n                    <span class=\"hideonmobile\">${i18n.hideLabel}</span><em class=\"icon-chevron-up\"></em>\n                    <span class=\"accessibleHidden expandedSpan\">${i18n.accessHideDetail}</span>\n                </button>\n            </span>\n        </div>\n\n        <div class=\"row\">\n            <!-- Column 1 -->\n            <div class=\"l-four m-five s-four columns desktop-pad-l tablet-pad-l mobile-pad-l mobile-pad-r\">\n                <h3 class=\"t28b hideonmobile\">${i18n.toolHeader}</h3>\n                <p class=\"t16r\">${i18n.toolDescription}</p>\n\t\t\t\t<div class=\"expanded-display\">\n\t\t\t\t\t<div class=\"apply-online showondesktop\">\n\t\t\t\t\t\t<h4 class=\"heading t22l\">${i18n.applyOnlineLabel}</h4>\n\t\t\t\t\t\t<a class=\"secondaryaction t14r hsbc-user\" target=\"\" href=\"javascript:void(0)\" data-dojo-attach-event=\"click:applyOnlineHSBCUsers\"><span>${i18n.applyOnlineHsbcUsersLabel}</span></a>\n\t\t\t\t\t\t<a class=\"secondaryaction t14r other-user\" target=\"\" href=\"javascript:void(0)\" data-dojo-attach-event=\"click:applyOnlineOtherUsers\"><span>${i18n.applyOnlineOtherUsersLabel}</span></a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n            </div>\n\n            <!-- Column 2 -->\n            <div class=\"collapsed-hidden\">\n                <form action=\"\">\n                <div class=\"l-four m-five s-four columns tablet-pad-l mobile-pad-l mobile-pad-r\">\n                    <h4 class=\"heading t22l\">${i18n.column1Heading}</h4>\n                    <a href=\"javascript: void(0);\" aria-expanded=\"false\"\n                      data-for-tooltip=\"amountToolTip\"\n                      data-dojo-attach-event=\"click:showToolTip\" data-selected=\"false\">\n                    <span class=\"t16r lbl-loan-amount\">${i18n.loanAmountLabel} </span>\n                    <span class=\"accessibleHidden expandedSpan\">Click here to Expand</span>\n                    <span class=\"accessibleHidden collapsedSpan hide\">Click here to Collapse</span>\n                    <em class=\"icon-circle-info fheicon\" aria-hidden=\"true\"></em>\n                    </a>\n                    <div class=\"fhe-tooltip hide borrowtextbox\" data-is-tooltip=\"amountToolTip\">\n                        <p>${i18n.loanAmountRemarks}</p>\n                    </div>\n                    <div class=\"amount-container\">\n                        <div class=\"loantxtbox\" data-dojo-attach-point=\"loanAmount\" aria-required=\"true\"></div>\n                    </div>\n                    <div data-dojo-attach-point=\"loanAmountSlider\"><span class=\"mobile-accessibleHidden\" id=\"loanAmountSlider\" data-dojo-attach-point=\"loanAmountSliderSrt\" aria-live=\"polite\" aria-hidden=\"true\"></span></div>\n                    <div class=\"detail-search-section expanded-display\">\n                        <div class=\"row\">\n                            <div class=\"l-six m-four s-four columns no-left-pad mobile-pad-l mobile-pad-r\">\n                                <div class=\"loan-period-label\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript: void(0);\" aria-expanded=\"false\" data-for-tooltip=\"periodToolTip\"\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-event=\"click:showToolTip\"\n\t\t\t\t\t\t\t\t\t\tdata-selected=\"false\"> \n\t\t\t\t\t\t\t\t\t<span class=\"t16r lbl-loan-amount\">${i18n.loanPeriodLabel}</span>\n\t\t\t\t\t\t\t\t\t<span class=\"mobile-accessibleHidden expandedSpan\">Click here to Expand</span>\n\t\t\t\t\t\t\t\t\t<span class=\"mobile-accessibleHidden collapsedSpan hide\">Click here to Collapse</span>\n\t\t\t\t\t\t\t\t\t<em class=\"icon-circle-info fheicon\" aria-hidden=\"true\"></em>\n\t\t\t\t\t\t\t\t\t</a>\n                                </div>\n                                <div class=\"fhe-tooltip hide\" data-is-tooltip=\"periodToolTip\">\n                                    <p>${i18n.loanPeriodRemarks}</p>\n                                </div>\n                                <div class=\"loan-period\">\n\t\t\t\t\t\t\t\t\t<select data-dojo-attach-point=\"loanPeriodSelect\" data-dojo-props=\"maxHeight:185\"\n\t\t\t\t\t\t\t\t\t\tdata-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\">\n\t\t\t\t\t\t\t\t\t</select>\n                                </div>\n                            </div>\n                            <div class=\"l-six m-four s-four columns no-right-pad\">\n                                <div class=\"promo-code-label\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript: void(0);\" aria-expanded=\"false\" data-for-tooltip=\"promoCodeTip\"\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-event=\"click:showToolTip\"\n\t\t\t\t\t\t\t\t\t\tdata-selected=\"false\"> \n\t\t\t\t\t\t\t\t\t<span class=\"t16r lbl-loan-amount lbl-promo-code\">${i18n.promoCodeLabel}</span>\n\t\t\t\t\t\t\t\t\t<span class=\"mobile-accessibleHidden expandedSpan\">Click here to Expand</span>\n\t\t\t\t\t\t\t\t\t<span class=\"mobile-accessibleHidden collapsedSpan hide\">Click here to Collapse</span>\n\t\t\t\t\t\t\t\t\t<em class=\"icon-circle-info fheicon\" aria-hidden=\"true\"></em>\n\t\t\t\t\t\t\t\t\t</a>\n                                </div>\n                                <div class=\"fhe-tooltip hide\" data-is-tooltip=\"promoCodeTip\">\n                                    <p>${i18n.promoCodeRefers}</p>\n                                </div>\n                                <div class=\"promo-code\" data-dojo-attach-point=\"promoCode\"></div>\n                                <div class=\"promo-code-refers\">\n\t                                <p><a href=\"${i18n.viewInterestRateLink}\" target=\"_blank\" class=\"chvicon el-block\">\n\t                                    <span>${i18n.viewInterestRateTable}</span>\n\t                                    <em class=\"icon-chevron-right primaryred\"></em></a>\n\t                                </p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Column 3 -->\n            <div class=\"l-four m-three s-four columns\">\n                <div class=\"loan-info expanded-display\">\n                    <h4 class=\"heading t22l\">${i18n.column2Heading}</h4>\n                    <div class=\"column2-spacing\">\n\t\t\t\t\t\t <p class=\"t14r\">${i18n.monthlyFlatRate}\n\t\t\t\t\t\t\t<a href=\"javascript: void(0);\" aria-expanded=\"false\" data-for-tooltip=\"definitionAPRTip\"\n\t\t\t\t\t\t\t\tdata-dojo-attach-event=\"click:showToolTip\" data-selected=\"false\"> \n\t\t\t\t\t\t\t\t<span class=\"t14r lbl-loan-amount\">${i18n.definitionAPR}</span>\n\t\t\t\t\t\t\t\t<span class=\"mobile-accessibleHidden expandedSpan\">Click here to Expand</span>\n\t\t\t\t\t\t\t\t<span class=\"mobile-accessibleHidden collapsedSpan hide\">Click here to Collapse</span>\n\t\t\t\t\t\t\t\t<em class=\"icon-circle-info fheicon\" aria-hidden=\"true\"></em>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t </p>\n\t\t\t\t\t\t<div class=\"fhe-tooltip hide borrowtextbox\" data-is-tooltip=\"definitionAPRTip\">\n\t\t\t\t\t\t\t<p>${i18n.definitionAPRRemarks}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t <p class=\"t20r\"><span data-dojo-attach-point=\"rate\"></span> / <span data-dojo-attach-point=\"APR\"></span></p>\n\t\t\t\t\t</div>\n                    <div class=\"right-arrow\"></div>\n                    <div data-dojo-attach-point=\"Monthlyrepay\">\n                        <p class=\"t14r\">${i18n.monthlyRepaymentLabel}</p>\n                        <div class=\"hkd-container\">\n                            <span class=\"hkd\">${i18n.currency}</span>\n                            <span class=\"hkd-amount t28r\" data-dojo-attach-point=\"monthlyRepayment\"></span>\n                        </div>\n                    </div>\n                    <div data-dojo-attach-point=\"repay\">\n                        <p class=\"t14r\">${i18n.totalAmountLabel}</p>\n                        <div class=\"hkd-container\">\n                            <span class=\"hkd\">${i18n.currency}</span>\n                            <span class=\"hkd-amount t28r\" data-dojo-attach-point=\"totalRepayment\"></span>\n                        </div>\n                    </div>\n                    <span class=\"t12r pewter el-block .od-cal-disclaimer repay-notes collpased-display\">\n                    <strong>${i18n.disclaimerLabel}</strong> ${i18n.disclaimerContent}</span>\n\t\t\t\t\t<div class=\"apply-online hideondesktop\">\n\t\t\t\t\t\t<h4 class=\"heading t22l\">${i18n.applyOnlineLabel}</h4>\n\t\t\t\t\t\t<a class=\"secondaryaction t14r hsbc-user\" target=\"\" href=\"javascript:void(0)\" data-dojo-attach-event=\"click:applyOnlineHSBCUsers\"><span>${i18n.applyOnlineHsbcUsersLabel}</span></a>\n\t\t\t\t\t\t<a class=\"secondaryaction t14r other-user\" target=\"\" href=\"javascript:void(0)\" data-dojo-attach-event=\"click:applyOnlineOtherUsers\"><span>${i18n.applyOnlineOtherUsersLabel}</span></a>\n\t\t\t\t\t</div>\n                </div>\n            </div>\n\n            <!-- Collapsed Display -->\n            <div class=\"l-eight  m-five s-four columns tablet-pad-l mobile-pad-l mobile-pad-r collapsed-display\">\n                <div class=\"loan-info2\">\n                    <div class=\"col1\">\n                        <p class=\"t16r\">${i18n.monthlyRepaymentLabel}</p>\n                        <div class=\"hkd-container\">\n                        <span class=\"hkd\">${i18n.currency}</span> <span\n                            class=\"hkd-amount t28r\"\n                            data-dojo-attach-point=\"monthlyRepayment1\"> </span>\n                        </div>\n                    </div>\n                    <div class=\"col2\">\n                        <p class=\"t16r\">${i18n.totalAmountLabel}</p>\n                        <div class=\"hkd-container\">\n                            <span class=\"hkd\">${i18n.currency}</span> <span\n                              class=\"hkd-amount t28r\" data-dojo-attach-point=\"totalRepayment1\">\n                            </span>\n                        </div>\n                        <span class=\"t12r pewter\"> <strong>${i18n.disclaimerLabel}</strong>\n                        ${i18n.disclaimerContent} </span>\n                    </div>\n                </div>\n            </div>\n        </div>\n</div>\n"}});define("hdx/bijits/tools/loanInterestCalculator/loanInterestCalculator",["dojo/_base/declare","dojo/dom-class","dojo/json","dojo/_base/array","dojo/string","dijit/_TemplatedMixin","hsbc/_ECAMixin","dijit/_WidgetsInTemplateMixin","dijit/_WidgetBase","dojo/on","dojo/_base/lang","dojo/query","dijit/registry","dojo/dom-attr","dojo/text!./template/loanInterestCalculator.html","hdx/dijits/reusableComponents/CustomizedTextBox","hdx/dijits/reusableComponents/CustomizedHorizontalRangeSlider","hsbc/eca!pws/Components/client/loanInterestCalculator/config/LoanCalculatorConfig","hsbc/eca!pws/Components/client/loanInterestCalculator/config/LoanCalculatorRateConfig","dojo/number","hsbc/eca!dojo/i18n!pws/Components/client/loanInterestCalculator/nls/LoanInterestCalculator_nls","dijit/focus","hsbc/utilities/CommonUtil","hdx/dijits/form/Select","dojo/domReady!"],function(_44b,_44c,json,_44d,_44e,_44f,_450,_451,_452,on,lang,_453,_454,_455,_456,_457,_458,_459,_45a,_45b,i18n,_45c,_45d){return _44b("hdx.bijits.tools.loanInterestCalculator.loanInterestCalculator",[_452,_44f,_450,_451],{templateString:_456,i18n:i18n,config:_459,rateConfig:_45a,loanAmountTextBox:null,loanAmountSliderBar:null,loanInterestRateTextBox:null,loanInterestRateSliderBar:null,loanPeriodSelect:null,promoCodeTextBox:null,currency_amount:null,loan_period:null,promo_code:null,interest_rate:null,monthly_repayment:null,total_amount_repayable:null,postMixInProperties:function(){var _45e=this;if(_45e.configPath&&_45e.nlsPath&&_45e.rateConfigPath){require([_45e.configPath,_45e.nlsPath,_45e.rateConfigPath],function(_45f,_460,_461){_45e.config=_45f;_45e.i18n=_460;_45e.rateConfig=_461;});}},postCreate:function(){this.isPostCreate=true;this.isLogEvent=true;this.isFirstLoad=true;this.sliderEflag="";this.cta="Typed|Loan Amount";var _462=this;this.allPromoCodeList=[];this.rateTableMapping={};var _463=this.rateConfig.LoanCalculatorRateConfig.loanCalculatorRateTable;for(var i=0;i<this.rateConfig.LoanCalculatorRateConfig.loanCalculatorRateTable.length;i++){if(this.rateConfig.LoanCalculatorRateConfig.loanCalculatorRateTable[i].promoCodeList.length>0){for(var j=0;j<this.rateConfig.LoanCalculatorRateConfig.loanCalculatorRateTable[i].promoCodeList.length;j++){var _464=this.rateConfig.LoanCalculatorRateConfig.loanCalculatorRateTable[i].promoCodeList[j];this.allPromoCodeList.push(_464);this.rateTableMapping[_464]=this.rateConfig.LoanCalculatorRateConfig.loanCalculatorRateTable[i].rateTable;}}else{this.rateTableMapping["default"]=this.rateConfig.LoanCalculatorRateConfig.loanCalculatorRateTable[i].rateTable;}}_462.createUIElement(_462.config);_462.bindEvents();_462.updateCalculationResult();this.cta="";},createUIElement:function(_465){var _466=_45d.getConfiguration(_465.LoanCalculatorConfig);var _467=(_466.loanAmountType&&_466.loanAmountType["default"])?_466.loanAmountType["default"]:"";var _468=(_466.loanAmountPrefix&&_466.loanAmountPrefix["default"])?_466.loanAmountPrefix["default"]:"";_468=(_468&&i18n[_468])?i18n[_468]:_468;var _469=(_466.loanAmountSuffix&&_466.loanAmountSuffix["default"])?_466.loanAmountSuffix["default"]:"";_469=(_469&&i18n[_469])?i18n[_469]:_469;var _46a=(_466.loanAmountDefaultValue&&_466.loanAmountDefaultValue["default"])?_466.loanAmountDefaultValue["default"]:"";var _46b=(_466.loanAmountMinValue&&_466.loanAmountMinValue["default"])?_466.loanAmountMinValue["default"]:"";var _46c=(_466.loanAmountMaxValue&&_466.loanAmountMaxValue["default"])?_466.loanAmountMaxValue["default"]:"";var _46d=(_466.loanAmountDecimalPlaces&&_466.loanAmountDecimalPlaces["default"])?_466.loanAmountDecimalPlaces["default"]:"";var _46e=(_466.loanAmountIsMandatory&&_466.loanAmountIsMandatory["default"])?_466.loanAmountIsMandatory["default"]:"";_46e=(_46e==="Y")?true:false;var _46f=(_466.loanAmountDiscreteValue&&_466.loanAmountDiscreteValue["default"])?_466.loanAmountDiscreteValue["default"]:"";var _470=(_466.loanPeriodDefaultValue&&_466.loanPeriodDefaultValue["default"])?_466.loanPeriodDefaultValue["default"]:"";this.loanAmountTextBox=new _457({type:_467,labeltext:i18n.loanAmountTextbox,prefixText:_468,suffixText:_469,maxAmount:_46c,minAmount:_46b,defaultAmount:_46a,decimalPlaces:_46d,validateMandatory:_46e,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_loanAmountInvalid,invalidMsgDecimalPlaces:i18n.errMsg_loanAmountDecimalPlace,invalidMsgAmountTooLarge:_45d.replaceValidationErrMessage(i18n.errMsg_loanAmountTooLarge,_46b,_46c,_46d),invalidMsgAmountTooSmall:_45d.replaceValidationErrMessage(i18n.errMsg_loanAmountTooSmall,_46b,_46c,_46d),invalidMsgEmpty:_45d.replaceValidationErrMessage(i18n.errMsg_loanAmountEmpty,_46b,_46c,_46d),updateInvalidValueWhenBlur:false});this.loanAmountTextBox.placeAt(this.loanAmount);this.loanAmountSliderBar=new _458({placeLocation:this.loanAmountSlider,inputHandler:this.loanAmountTextBox.textbox,minValue:parseFloat(_46b),maxValue:parseFloat(_46c),decimalPlaces:_46d,value:parseFloat(_46a),name:"loanAmountSlider"+this.id,sliderButtons:false,currency:true,currencyLabel:i18n.currency,currencyLabelSuffix:(i18n.dollar)?i18n.dollar:"",discreteValues:_46f,labelText:i18n.loanAmountSlider});var _471=(_466.loanPeriodValue&&_466.loanPeriodValue["default"])?_466.loanPeriodValue["default"]:"";this.loanPeriodOption(json.parse("["+_471+"]")," "+i18n.monthsSurfix);this.loanPeriodSelect.attr("value",_470);var _472=function(_473){return new RegExp("^\\w*$").test(_473);};var _474=function(_475){return (_475.length<=3);};var _476=this;var _477=function(_478){return (_478==""||_44d.indexOf(_476.allPromoCodeList,_478.toLocaleUpperCase())!=-1);};this.promoCodeTextBox=new _457({labeltext:i18n.promoCodeTextbox,_validateFormat:_472,invalidMessage:i18n.errMsg_promoCodeInvalid,_validateLowRange:_474,invalidMsgAmountTooSmall:i18n.errMsg_promoCodeTooLarge,_validateHighRange:_477,invalidMsgAmountTooLarge:i18n.errMsg_promoCodeNoExist,updateInvalidValueWhenBlur:false});this.promoCodeTextBox.placeAt(this.promoCode);_455.set(this.loanAmountTextBox,"aria-required","true");_455.set(this.loanPeriodSelect,"aria-required","true");_455.set(this.promoCodeTextBox,"aria-required","false");_455.set(this.loanAmountTextBox.prefix,"aria-hidden","true");_455.set(this.loanAmountTextBox.prefix,"role","presentation");this.loanAmountSliderSrt.innerHTML=this.loanAmountTextBox.textbox.value;_455.set(_454.byId(this.loanAmountSliderBar.name),"aria-describedby","loanAmountSlider");},loanPeriodOption:function(data,_479){if(data&&dojo.isArray(data)){for(var k=0;k<data.length;k++){this.loanPeriodSelect.addOption({"label":data[k]+_479,"value":data[k]});}}},bindEvents:function(){var _47a=this;var _47b=false;var _47c=0;var _47d=function(_47e){_47e.preventDefault();var _47f=_45d.getTextBoxValue(this.loanAmountTextBox);_47f=_45b.parse(_47f);if(this.loanAmountTextBox.isValid()){var _480=_45b.parse(_47f);if(!isNaN(_480)){_47a.sliderEflag="Typed";this.isLogEvent=true;this.cta="Typed|Loan Amount";if(_47e.keyCode>=48&&_47e.keyCode<=57||_47e.keyCode>=96&&_47e.keyCode<=105||_47e.keyCode===8){if(_47c===_47f){this.loanAmountSliderSrt.innerHTML=this.loanAmountTextBox.textbox.value;this.updateCalculationResult();}}_454.byId(this.loanAmountSliderBar.name).set("value",_480);this.cta="";}_47c=_45b.parse(_47f);}else{_47a.clearCalculationResult();}this.showDetailSearch();};var _481=function(){if(this.loanAmountTextBox.isValid()){var _482=_45d.getTextBoxValue(this.loanAmountTextBox);this.loanAmountTextBox.textbox.value=_45d.removeFormat(_482,this.loanAmountTextBox.decimalPlaces);}};var _483=function(_484){this.cta="Typed";var _485=_45d.getTextBoxValue(this.loanAmountTextBox);if(this.loanAmountTextBox.isValid()){var _486=_45b.parse(_485);if(!isNaN(_486)){this.loanAmountTextBox.textbox.value=_45d.decimalFormat(_485,this.loanAmountTextBox.decimalPlaces);_454.byId(this.loanAmountSliderBar.name).set("value",_486);this.loanAmountTextBox.setSuffix();var _487=this._createTrackingEvent("Update Borrow Amount");_487["event_content"]="Changed | borrow amount | input";_45d.submitTealium(_487);}}this.showDetailSearch();};var _488=function(_489){this.updateCalculationResult();this.showDetailSearch();};var _48a=function(_48b){this.updateCalculationResult();var _48c=_47a._createTrackingEvent("Update Promo Code");_48c["event_content"]="Changed | promo code | input";_45d.submitTealium(_48c);this.showDetailSearch();};on(this.loanAmountTextBox.textbox,"focus",lang.hitch(this,_481));on(this.loanAmountTextBox.textbox,"keyup",lang.hitch(this,_47d));on(this.loanAmountTextBox.textbox,"blur",lang.hitch(this,_483));on(this.promoCodeTextBox.textbox,"keyup",lang.hitch(this,_488));on(this.promoCodeTextBox.textbox,"blur",lang.hitch(this,_48a));on(_454.byId(this.loanAmountSliderBar.name),"change",function(_48d){_47b=true;_47a.loanAmountSliderBar.value=_48d;if(_47a.sliderEflag!=="Typed"){_47a.loanAmountTextBox.textbox.value=_45d.roundNumber(_48d,2,_47a.loanAmountSliderBar.decimalPlaces);_45d.removeValidationError(_47a.loanAmountTextBox);}if(_47a.cta!="Typed"){_47a.isLogEvent=false;_47a.cta="Slider|Loan Amount";}_47a.loanAmountTextBox.setSuffix();if(_47b){_47a.loanAmountSliderSrt.innerHTML=_47a.loanAmountTextBox.textbox.value;_47a.updateCalculationResult();}else{_47b=false;}_47a.showDetailSearch();_47a.cta="";_47a.sliderEflag="";});on(_454.byId(this.loanAmountSliderBar.name),"mouseup",function(_48e){if(_47a.cta!="Typed"){_47a.isLogEvent=true;_47a.cta="Slider|Loan Amount";_47a.updateCalculationResult();var _48f=_47a._createTrackingEvent("Update Borrow Amount");_48f["event_content"]="Changed | borrow amount | slider";_45d.submitTealium(_48f);}});on(_454.byId(this.loanAmountSliderBar.name),"focus",function(_490){_455.set(_47a.loanAmountSliderSrt,"aria-hidden","false");});on(_454.byId(this.loanAmountSliderBar.name),"blur",function(_491){_455.set(_47a.loanAmountSliderSrt,"aria-hidden","true");});_47a.loanPeriodSelect.on("change",function(evt){_47a.updateCalculationResult();if(!_47a.isFirstLoad){var _492=_47a._createTrackingEvent("Update Loand Period");_492["event_content"]="Changed | loan period | select";_45d.submitTealium(_492);}_47a.isFirstLoad=false;});},updateCalculationResult:function(){if(!this.loanAmountTextBox.isValid()||!this.loanPeriodSelect.isValid()){this.clearCalculationResult();return;}var _493=_45d.getTextBoxValue(this.loanAmountTextBox);var _494=this.loanPeriodSelect.value;_493=_45b.parse(_493);_494=_45b.parse(_494);var _495=_45d.getConfiguration(_459.LoanCalculatorConfig);var _496=(_495.loanInterestRateSuffix&&_495.loanInterestRateSuffix["default"])?_495.loanInterestRateSuffix["default"]:"";_496=(_496&&i18n[_496])?i18n[_496]:_496;var rate="";var APR="";var _497=_45d.getTextBoxValue(this.promoCodeTextBox);var _498=(_497!=""&&_44d.indexOf(this.allPromoCodeList,_497.toLocaleUpperCase())!=-1)?this.rateTableMapping[_497.toLocaleUpperCase()]:this.rateTableMapping["default"];if(_498){for(var i=0;i<_498.length;i++){var _499=_498[i].amount.split("-");if((parseInt(_499[0])<=_493)&&(_493<=parseInt(_499[1]))){for(var m=0;m<_498[i].flatRate.length;m++){var _49a=_498[i].flatRate[m].months.split("-");if((_494>=parseInt(_49a[0]))&&(_494<=parseInt(_49a[1]))){rate=_498[i].flatRate[m].rate;break;}}for(var j=0;j<_498[i].monthlyRepayment.length;j++){if(_494==parseInt(_498[i].monthlyRepayment[j].months)){APR=_498[i].monthlyRepayment[j].APR;break;}}break;}}}rate=_45b.parse(rate);APR=_45b.parse(APR);var _49b=_493*(1+_494*rate/100);var _49c=_49b/_494;var _49d=(i18n.dollar)?i18n.dollar:"";var _49e=2;var _49f=_45d.decimalFormat(_49b,_49e)+_49d;var _4a0=_45d.decimalFormat(_49c,_49e)+_49d;var _4a1=_45d.decimalFormat(rate,_49e)+_496;var _4a2=_45d.decimalFormat(APR,_49e)+_496;this.monthlyRepayment.innerHTML=_4a0;this.totalRepayment.innerHTML=_49f;this.monthlyRepayment1.innerHTML=_4a0;this.totalRepayment1.innerHTML=_49f;this.rate.innerHTML=_4a1;this.APR.innerHTML=_4a2;if(!this.isPostCreate){this.currency_amount=_45d.decimalFormat(_493,_49e);this.loan_period=_494;this.promo_code=this.promoCodeTextBox.isValid()?_497:"invalid_"+_497;this.interest_rate=_4a1+"/"+_4a2;this.monthly_repayment=_45d.decimalFormat(_49c,_49e);this.total_amount_repayable=_45d.decimalFormat(_49b,_49e);}this.isPostCreate=false;},clearCalculationResult:function(){this.totalRepayment.innerHTML="";this.totalRepayment1.innerHTML="";this.monthlyRepayment.innerHTML="";this.monthlyRepayment1.innerHTML="";},showDetailSearch:function(_4a3){_44c.add(this.domNode,"tools-expanded");_44c.remove(this.domNode,"tools-collapsed");},hideDetailSearch:function(_4a4){_44c.add(this.domNode,"tools-collapsed");_44c.remove(this.domNode,"tools-expanded");},showToolTip:function(_4a5){var _4a6=_4a5.currentTarget;var _4a7=_455.get(_4a6,"data-for-tooltip");var _4a8=_455.get(_4a6,"data-selected");var _4a9=_453(".fhe-tooltip",this.domNode);var _4aa;if(_4a8=="false"){var _4ab={"tool_name":"LoanRepaymentCalc","event_category":"tool","event_action":"Personal Loan Repayment Calculator | Help Information"};if(_4a7=="amountToolTip"){_4ab["event_content"]="How much would you like to borrow?";}else{if(_4a7=="periodToolTip"){_4ab["event_content"]="Loan period (months)";}else{if(_4a7=="promoCodeTip"){_4ab["event_content"]="Promo Code (optional)";}else{if(_4a7=="definitionAPRTip"){_4ab["event_content"]="APR";}}}}_45d.submitTealium(_4ab);for(var i=0;i<_4a9.length;i++){_4aa=_455.get(_4a9[i],"data-is-tooltip");if(_4aa===_4a7){_44c.remove(_4a9[i],"hide");_455.set(_4a6,"data-selected","true");_455.set(_4a6,"aria-expanded","true");_44c.toggle(_453(".expandedSpan",_4a6)[0],"hide");_44c.toggle(_453(".collapsedSpan",_4a6)[0],"hide");break;}}}else{if(_4a8=="true"){for(i=0;i<_4a9.length;i++){_4aa=_455.get(_4a9[i],"data-is-tooltip");if(_4aa===_4a7){_44c.add(_4a9[i],"hide");_455.set(_4a6,"data-selected","false");_455.set(_4a6,"aria-expanded","false");_44c.toggle(_453(".expandedSpan",_4a6)[0],"hide");_44c.toggle(_453(".collapsedSpan",_4a6)[0],"hide");break;}}}}},_createTrackingEvent:function(_4ac){var _4ad={"tool_name":"LoanRepaymentCalc","event_category":"tool","event_action":"Personal Loan Repayment Calculator | "+_4ac};lang.mixin(_4ad,{"currency_amount":this.currency_amount,"loan_period":this.loan_period,"promo_code":this.promo_code,"interest_rate":this.interest_rate,"monthly_repayment":this.monthly_repayment,"total_amount_repayable":this.total_amount_repayable});return _4ad;},clickShowDetail:function(_4ae){this.showDetailSearch();_45c.focus(this.hideDetail);},clickHideDetail:function(_4af){this.hideDetailSearch();_45c.focus(this.showDetail);},applyOnlineHSBCUsers:function(_4b0){var _4b1=this._createTrackingEvent("Apply Online");_4b1["event_content"]="HSBC Internet Banking users";_45d.submitTealium(_4b1);switch(dojo.locale){case "zh-hk":pws_digitalOrder_zh("applyonline","LnPnInstIn|#|LogonMsgID|#|6");break;case "zh-cn":pws_digitalOrder_zh_CN("applyonline","LnPnInstIn|#|LogonMsgID|#|6");break;default:pws_digitalOrder_en("applyonline","LnPnInstIn|#|LogonMsgID|#|6");}},applyOnlineOtherUsers:function(_4b2){var _4b3=this._createTrackingEvent("Apply Online");_4b3["event_content"]="Other users";_45d.submitTealium(_4b3);var _4b4=_45d.getTextBoxValue(this.loanAmountTextBox);var _4b5=this.loanPeriodSelect.value;var _4b6=_45d.getTextBoxValue(this.promoCodeTextBox);_4b5=_45b.parse(_4b5);_4b6=this.promoCodeTextBox.isValid()?_4b6:"";var _4b7=this.i18n.applyOnlineOtherUsersLinkNoAmount;if(this.loanAmountTextBox.isValid()){_4b4=_45b.parse(_4b4);_4b7=this.i18n.applyOnlineOtherUsersLink;}window.location.href=_44e.substitute(_4b7,{amount:_4b4,period:_4b5,promoCode:_4b6});}});});},"hdx/dijits/reusableComponents/CustomizedTextArea":function(){define("hdx/dijits/reusableComponents/CustomizedTextArea",["dojo/_base/declare","dojo/_base/lang","dijit/form/SimpleTextarea","dijit/form/ValidationTextBox","dojo/query","dojo/dom-construct"],function(_4b8,lang,_4b9,_4ba,_4bb,_4bc){return _4b8("dijit.form.ValidationTextArea",[_4b9,_4ba],{constructor:function(_4bd){this.constraints={};this.baseClass+=" dijitValidationTextArea";},displayMessage:function(_4be){if(_4bb(".textarea_error_message_"+this.id)){_4bb(".textarea_error_message_"+this.id).remove();}if(_4be){var _4bf="<div class=\"textarea_error_message_"+this.id+" error-message\">"+"<span class=\"icon-circle-error\"></span><span role=\"alert\" class=\"error-text-alignment\">"+_4be+"</span></div>";_4bc.place(_4bf,this.containerNode,"after");}},templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off' placeholder='${placeHolder}'></textarea>"});});},"dijit/form/NumberSpinner":function(){define("dijit/form/NumberSpinner",["dojo/_base/declare","dojo/_base/event","dojo/keys","./_Spinner","./NumberTextBox"],function(_4c0,_4c1,keys,_4c2,_4c3){return _4c0("dijit.form.NumberSpinner",[_4c2,_4c3.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(val,_4c4){var tc=this.constraints,v=isNaN(val),_4c5=!isNaN(tc.max),_4c6=!isNaN(tc.min);if(v&&_4c4!=0){val=(_4c4>0)?_4c6?tc.min:_4c5?tc.max:0:_4c5?this.constraints.max:_4c6?tc.min:0;}var _4c7=val+_4c4;if(v||isNaN(_4c7)){return val;}if(_4c5&&(_4c7>tc.max)){_4c7=tc.max;}if(_4c6&&(_4c7<tc.min)){_4c7=tc.min;}return _4c7;},_onKeyPress:function(e){if(this.disabled||this.readOnly){return;}if((e.charOrCode==keys.HOME||e.charOrCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var _4c8=this.constraints[(e.charOrCode==keys.HOME?"min":"max")];if(typeof _4c8=="number"){this._setValueAttr(_4c8,false);}_4c1.stop(e);}}});});},"hdx/bijits/tools/liveInterestRate/liveInterestRateTable":function(){require({cache:{"url:hdx/bijits/tools/liveInterestRate/template/liveInterestRateTable.html":"<div class=\"timeDepositeToolContent\" data-dojo-attach-point=\"timeDepositeToolContent\">\n    <div class=\"l-twelve m-eight s-four columns\">\n        <form action=\"\" name=\"frm_depositRateTable\" data-dojo-attach-point=\"frm_depositRateTable\" >\n            <div data-dojo-attach-point=\"columnDetailsMain\">\n                <div class=\"l-twelve m-eight s-four columns nopad theader\">\n                    <div class=\"l-five m-four s-four columns nopad theader_title\">\n                        <h3 class=\"t28l\" data-dojo-attach-point=\"table_title\"></h3>\n                    </div>\n                    <div class=\"l-four m-four s-four columns nopad currencySelectDiv\" data-dojo-attach-point=\"requestCbCountry_div\" >\n                        <span id=\"depositRates\" class=\"accessibleHidden\"  style=\"visibility: hidden;\" data-dojo-attach-point=\"tableTitleDropdown\">${i18n.table_title}</span >\n                        <div data-dojo-attach-point=\"currencyDropDown\">\n                            <select name=\"\" class=\"request_cb_drop_country_select request_callBack_dropdowns\" data-dojo-props=\"maxHeight:'260'\" data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" aria-labelledby=\"depositRates\" data-dojo-attach-point=\"requestCbCountry_tdt\" data-dojo-select-width=\"custmized\" data-dojo-custom-class=\"timeDepositeToolSelect\" data-dropdown-attach-point=\"request-callBack-dropDown3\" ></select >\n                        </div>\n                    </div >\n                </div>\n\t\t\t\t<div class=\"l-twelve m-eight s-four columns error-msg\" data-dojo-attach-point=\"serviceError\" style=\"display:none\">\n\t\t\t\t</div>\n\t\t\t\t<div data-dojo-attach-point=\"interestRateTable\">\n\t\t\t\t\t<h4 class=\"t22l\">${i18n.savings_table_subheading}</h4>\n\t\t\t\t\t<h5 class=\"t16r\" data-dojo-attach-point=\"savingsLastUpdateDate\"></h5>\n\t\t\t\t\t<div data-dojo-attach-point=\"savingsTableData\"></div>\n\t\t\t\t\t<div class=\"t12r disclimernote\" data-dojo-attach-point=\"savingsRemarks\"></div>\n\t\t\t\t\t<h3 class=\"t22l\">${i18n.deposit_table_subheading}</h3>\n\t\t\t\t\t<h4 class=\"t16r\" data-dojo-attach-point=\"timeDepositLastUpdateDate\"></h4>\n\t\t\t\t\t<div data-dojo-attach-point=\"timeDepositTableData\"></div>\n\t\t\t\t\t<div class='t14r disclimernote'>\n\t\t\t\t\t\t<p data-dojo-attach-point=\"table_footernote_cny\"></p><br/>\n\t\t\t\t\t\t<p data-dojo-attach-point=\"table_footernote_basis\">${i18n.table_disclaimer_basis}</p>\n\t\t\t\t\t\t<p data-dojo-attach-point=\"table_footernote_hkd\">${i18n.table_disclaimer_hkd}</p><br/>\n\t\t\t\t\t\t<p data-dojo-attach-point=\"table_footernote_offer\">${i18n.table_disclaimer_offer}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n            </div>\n        </form>\n    </div>\n</div>"}});define("hdx/bijits/tools/liveInterestRate/liveInterestRateTable",["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","hsbc/_ECAMixin","dijit/_WidgetsInTemplateMixin","dijit/Dialog","hdx/bijits/tools/liveInterestRate/SelectOptionOverlay","dojo/dom-style","dojo/dom-class","dojo/_base/window","dojo/text!./template/liveInterestRateTable.html","dojo/json","dojo/_base/lang","dojo/topic","dojo/_base/array","dojo/on","hsbc/eca!dojo/i18n!pws/Components/client/liveInterestRate/nls/liveInterestRateTable_nls","dojo/query","dojo/request","hsbc/eca!pws/Components/client/liveInterestRate/config/InterestRateCurrencyList","hsbc/_PWSEndpointMixin","dojo/number","hsbc/utilities/CommonUtil"],function(_4c9,_4ca,_4cb,_4cc,_4cd,_4ce,_4cf,_4d0,_4d1,win,_4d2,json,lang,_4d3,_4d4,on,i18n,_4d5,_4d6,_4d7,_4d8,_4d9,_4da){return _4c9("hdx.bijits.tools.liveInterestRate.liveInterestRateTable",[_4ca,_4cb,_4cd,_4cc,_4d8],{templateString:_4d2,overlayWin:null,i18n:i18n,_retrieveDepositRatesEndPoint:null,postCreate:function(){var _4db=this;_4db.inherited(arguments);_4db.table_id="interestRateTable";var _4dc=this.getDefaultCurrency();var _4dd=this.isCurrencyDropDownShow();var _4de="";if(i18n[_4dc]&&i18n[_4dc].split("|")){_4de=i18n[_4dc].split("|")[0];}if(i18n.table_title&&_4de){_4db.table_title.innerHTML=i18n.table_title.replace("{0}",_4de);_4db.tableTitleDropdown.innerHTML=i18n.table_title.replace("{0}",_4de);}if(_4dd){_4db.loadCurrencyDropDown(_4db.requestCbCountry_tdt,_4dc,_4d7.InterestRateCurrencyList);_4db.currencyDropDown.style.display="block";}else{_4db.callRtrvDepositRatesSvc(_4dc);_4db.currencyDropDown.style.display="none";}},getDefaultCurrency:function(){var _4df="HKD";var data=dojo.fromJson(this["data-ext-props"]);if(data){_4df=data.defaultCurrency;}return _4df;},isCurrencyDropDownShow:function(){var _4e0=false;var data=dojo.fromJson(this["data-ext-props"]);if(data){_4e0=data.isCurrencyDropDownShow;}return _4e0;},_setRetrieveDepositRatesEndPointAttr:function(_4e1){this._retrieveDepositRatesEndPoint=_4e1;},createSavingsRemarks:function(_4e2){var _4e3="";if(_4e2=="HKD"){_4e3="<span>"+i18n.hkd_rewards_remarks+"</span>";}else{if(_4e2=="CNY"){_4e3="<span>"+i18n.cny_rewards_remarks+"</span>";}}this.savingsRemarks.innerHTML=_4e3;},createTimeDepositRemarks:function(_4e4){var _4e5="";if(_4e4=="CNY"){_4e5+=i18n.table_disclaimer_cny;}this.table_footernote_cny.innerHTML=_4e5;},callRtrvDepositRatesSvc:function(_4e6,_4e7){var req={"locale":dojoConfig.locale,"currencyCode":_4e6};var url=this._retrieveDepositRatesEndPoint.url;var _4e8=this._retrieveDepositRatesEndPoint.retry;_4d6.post(url,{data:json.stringify(req),headers:{"Content-Type":"application/json"}}).then(lang.hitch(this,function(_4e9){var data=json.parse(_4e9);if(data&&data.depositRates&&data.depositRates.savingInterestRates&&data.depositRates.timedDepositRates){this.createSavingsTable(data);this.createFixedDepositTable(data);this.createSavingsRemarks(_4e6);this.createTimeDepositRemarks(_4e6);this.createMobileOverlay();this.hideServiceError();}else{this.displayServiceError(data);}}),lang.hitch(this,function(){if(_4e8&&!_4e7){this.callRtrvDepositRatesSvc(_4e6,true);}else{this.displayServiceError();}}));},createMobileOverlay:function(){var _4ea=this;var _4eb=_4d5(".timeDepositeRateTable.timeDepositInterstRateTable a[data-dojo-attach-point=\"showsColumns\"]")[0];if(_4eb){this.overlayWin=new _4cf("timeDepositInterstRateTable");on(_4eb,"keydown",lang.hitch(this,function(_4ec){if(_4ec.keyCode==13){var _4ed=window.pageYOffset!==undefined;var _4ee=((document.compatMode||"")==="CSS1Compat");var y=_4ed?window.pageYOffset:_4ee?document.documentElement.scrollTop:document.body.scrollTop;_4d3.publish("scrollYOffsetValue",{"value":y});_4ea.overlayWin.dialogBoxOverlay.show();_4d0.set(win.body(),{overflowY:"hidden"});_4d1.add(win.body(),"hideScroll");}}));on(_4ea.overlayWin.deleteIcon,"keydown",lang.hitch(this,function(_4ef){if(_4ef.keyCode==13){this.overlayWin.dialogBoxOverlay.hide();_4d0.set(win.body(),{overflowY:"auto"});_4d1.remove(win.body(),"hideScroll");this.savingsRemarks.scrollIntoView();}}));on(_4eb,"click",function(_4f0){var _4f1=window.pageYOffset!==undefined;var _4f2=((document.compatMode||"")==="CSS1Compat");var y=_4f1?window.pageYOffset:_4f2?document.documentElement.scrollTop:document.body.scrollTop;_4d3.publish("scrollYOffsetValue",{"value":y});_4ea.overlayWin.dialogBoxOverlay.show();_4d0.set(win.body(),{overflowY:"hidden"});_4d1.add(win.body(),"hideScroll");_4ea.overlayWin.deleteIcon.addEventListener("click",function(_4f3){_4ea.overlayWin.dialogBoxOverlay.hide();_4d0.set(win.body(),{overflowY:"auto"});_4d1.remove(win.body(),"hideScroll");_4ea.savingsRemarks.scrollIntoView();});});_4d5(_4ea.overlayWin.dialogBoxOverlay.titleBar).remove();}else{}},loadCurrencyDropDown:function(wgt,_4f4,data){if(data){var _4f5=[];_4d4.forEach(data,function(item,_4f6){var _4f7=item.desckey;if(i18n[item.desckey]&&i18n[item.desckey].split("|")){_4f7=i18n[item.desckey].split("|")[1];parseCurrencytext=i18n[item.desckey].split("|")[0];}var _4f8="<div class='request_cb_countries selected'><img src='/clientapp/hdx/images/currency/"+item.desckey+".png' width='30px' height='22px' alt=''> </img> <span class='accessibleHidden' style='visibility:hidden;'>"+parseCurrencytext+" </span><span class='request_cb_country_code'>"+_4f7+"</span></div>";var opt={label:_4f8,value:item.desckey};_4f5.push(opt);});wgt.addOption(_4f5);wgt.set("value",_4f4);}var _4f9=this;wgt.on("change",function(_4fa){var _4fb="";if(i18n[_4fa]&&i18n[_4fa].split("|")){_4fb=i18n[_4fa].split("|")[0];}if(i18n.table_title&&_4fb){_4f9.table_title.innerHTML=i18n.table_title.replace("{0}",_4fb);_4f9.tableTitleDropdown.innerHTML=i18n.table_title.replace("{0}",_4fb+" "+i18n.dropdown);}_4f9.callRtrvDepositRatesSvc(_4fa);});},createSavingsTable:function(data){var _4fc="<thead><tr class=\"row1\">";_4fc+="<th scope=\"col\" class=\"column1\" id=\"\">"+i18n.savings_table_col1+"</th>";_4fc+="<th scope=\"col\" class=\"column2 show\" id=\"\">"+i18n.savings_table_col2+"</th>";_4fc+="<th scope=\"col\" class=\"mobile-only\" id=\"\"></th>";_4fc+="</thead>";var _4fd="<tbody>";if(data&&data.depositRates&&data.depositRates.savingInterestRates){var _4fe=data.depositRates.currencyCode;var _4ff=data.depositRates.savingInterestRates.lastUpdateTime;if(_4ff){var date=_4da.convertStringToDate(_4ff,"");var _500=_4da.formatDate(date,i18n.year,i18n.month,i18n.day);this.savingsLastUpdateDate.innerHTML=i18n.asOf+_500+i18n.asOfEnd;}var _501=data.depositRates.savingInterestRates.depositRateList;if(_501&&_501.length>0){var _502=2;for(var i=0;i<_501.length;i++){var data=_501[i];var _503=data.depositAmtMin;var _504=null;var _505=null;if(i<_501.length-1){_504=_501[i+1];_505=_504.depositAmtMin-1;}var _506=data.depositRateList;var _507="";for(var j=0;j<_506.length;j++){var rate=_506[j];if(rate){_507=rate.interestRate;}}if(i===0&&_503!==0&&_4fe==="HKD"){_4fd+="<tr class=\"row"+_502+"\"><td class=\"column1\">"+i18n.lessthan+this.getCurrencyDisplay(_4fe,_4d9.format(_503))+"</td>";_4fd+="<td class=\"column2 show\">"+_4d9.format(0,{places:4})+" %</td>";_4fd+="<td scope=\"col\" class=\"mobile-only\"></td></tr>";_502++;}if(i===_501.length-1){_4fd+="<tr class=\"row"+_502+"\"><td class=\"column1\">"+this.getCurrencyDisplay(_4fe,_4d9.format(_503))+i18n.rangeor+"</td>";_4fd+="<td class=\"column2 show\">"+_4d9.format(_507,{places:4})+" %</td>";_4fd+="<td scope=\"col\" class=\"mobile-only\"></td></tr>";_502++;}else{_4fd+="<tr class=\"row"+_502+"\"><td class=\"column1\">"+this.getCurrencyDisplay(_4fe,_4d9.format(_503))+i18n.rangeto+this.getCurrencyDisplay(_4fe,_4d9.format(_505))+"</td>";_4fd+="<td class=\"column2 show\">"+_4d9.format(_507,{places:4})+" %</td>";_4fd+="<td scope=\"col\" class=\"mobile-only\"></td></tr>";_502++;}}}}_4fd+="</tbody>";var _508="<table cellspacing=\"0\" summary=\""+i18n.savingsratetablesummary+"\" class=\"table mainTable\">"+_4fc+_4fd+"</table>";this.savingsTableData.innerHTML="<div class=\"timeDepositeRateTable savingInterestRatesTable\">"+_508+"</div>";},getMaxSetOfDepositPeriod:function(data){var _509=[];if(data&&data.depositRates&&data.depositRates.timedDepositRates){var _50a=data.depositRates.timedDepositRates.depositRateList;for(var i=0;i<_50a.length;i++){var data=_50a[i];var _50b=data.depositAmtMin;var _50c=data.depositRateList;var _50d=0;if(_50c.length>_50d){_50d=_50c.length;_509.length=0;for(var j=0;j<_50c.length;j++){var rate=_50c[j];var _50e=rate.depositPeriodUnit;var _50f=rate.depositPeriodMin;var _510="";if(_50e&&_50f&&i18n["period_"+_50f+"_"+_50e]){_510=i18n["period_"+_50f+"_"+_50e];}_509.push({depositPeriodMin:_50f,depositPeriodUnit:_50e,description:_510});}}}}return _509;},getMaxSetOfDepositAmount:function(data){var _511=[];if(data&&data.depositRates&&data.depositRates.timedDepositRates){var _512=data.depositRates.timedDepositRates.depositRateList;var _513=data.depositRates.currencyCode;var _514=_512.length;if(_513==="HKD"){_514=_514>4?4:_514;}else{if(_513==="CNY"){_514=_514>2?2:_514;}else{_514=_514>3?3:_514;}}for(var i=0;i<_514;i++){var data=_512[i];var _515=data.depositAmtMin;if(i===_514-1){var _516="";_516=this.getCurrencyDisplay(_513,_4d9.format(_515))+"<br>"+i18n.rangeor;_511.push({depositAmount:_516});}else{var _517=_512[i+1];var _518=_517.depositAmtMin-1;_516=this.getCurrencyDisplay(_513,_4d9.format(_515))+"<br>"+i18n.rangeto+"<br>"+this.getCurrencyDisplay(_513,_4d9.format(_518));_511.push({depositAmount:_516});}}}return _511;},createFixedDepositTable:function(data){if(data&&data.depositRates&&data.depositRates.timedDepositRates){var _519=data.depositRates.currencyCode;var _51a=data.depositRates.timedDepositRates.lastUpdateTime;if(_51a){var date=_4da.convertStringToDate(_51a,"");var _51b=_4da.formatDate(date,i18n.year,i18n.month,i18n.day);this.timeDepositLastUpdateDate.innerHTML=i18n.asOf+_51b+i18n.asOfEnd;}var _51c=this.getMaxSetOfDepositPeriod(data);var _51d=this.getMaxSetOfDepositAmount(data);var _51e=data.depositRates.timedDepositRates.depositRateList;if(_51c&&_51d){var _51f="<thead><tr class=\"row1\">";_51f+="<th scope=\"col\" class=\"column1\" id=\"header01\">"+i18n.depositperiod+"</th>";for(var m=0;m<_51d.length;m++){if(m==0){_51f+="<th scope=\"col\" class=\"column"+(m+2)+" show\" id=\"header0"+(m+2)+"\">"+_51d[m].depositAmount+"</th>";}else{_51f+="<th scope=\"col\" class=\"column"+(m+2)+" mhide\" id=\"header0"+(m+2)+"\">"+_51d[m].depositAmount+"</th>";}}_51f+="<th scope=\"col\" class=\"mobile-only mdropdown\"><a href=\"javascript:void(0);\" role=\"button\" data-dojo-attach-point=\"showsColumns\"><span aria-hidden=\"true\" class=\"icon-chevron-down-od\" ></span><span id=\"changeLoanChv\" class=\"mobile-accessibleHidden\">Change deposit amount option to see how this changes the rates of interest , opens in an overlay </span></a></th></tr>";_51f+="</thead>";var _520="<tbody>";for(var i=0;i<_51c.length;i++){var _521=_51c[i].depositPeriodMin;var _522=_51c[i].depositPeriodUnit;var _523=i+2;var _524=i+1;_520+="<tr class=\"row"+_523+"\">";_520+="<td class=\"column1\" id=\"header1"+_523+"\">"+_51c[i].description+"</td>";var _525=_51e.length;if(_519==="HKD"){_525=_525>4?4:_525;}else{if(_519==="CNY"){_525=_525>2?2:_525;}else{_525=_525>3?3:_525;}}for(var j=0;j<_525;j++){var data=_51e[j];var _526=data.depositAmtMin;var _527=data.depositRateList;var _528=false;var _529=j+2;for(var k=0;k<_527.length;k++){var rate=_527[k];var _52a=rate.interestRate;var _52b=rate.depositPeriodUnit;var _52c=rate.depositPeriodMin;if(_52b==_522&&_521==_52c){_528=true;if(_529===2){if(_52a===0){_520+="<td class=\"column"+_529+" show\" headers=\"header1"+_523+" header0"+_529+"\">-</td>";}else{_520+="<td class=\"column"+_529+" show\" headers=\"header1"+_523+" header0"+_529+"\">"+_4d9.format(_52a,{places:4})+" %</td>";}}else{if(_52a===0){_520+="<td class=\"column"+_529+" mhide\" headers=\"header1"+_523+" header0"+_529+"\">-</td>";}else{_520+="<td class=\"column"+_529+" mhide\" headers=\"header1"+_523+" header0"+_529+"\">"+_4d9.format(_52a,{places:4})+" %</td>";}}_529++;}}if(!_528){if(_529==2){_520+="<td class=\"column"+_529+" show\">-</td>";}else{_520+="<td class=\"column"+_529+" mhide\">-</td>";}_529++;}}_520+="<td scope=\"col\" class=\"mobile-only\"></td>";_520+="</tr>";}}}_520+="</tbody>";var _52d="<table cellspacing=\"0\" summary=\""+i18n.fixeddeposittablesummary+"\" class=\"table mainTable\">"+_51f+_520+"</table>";this.timeDepositTableData.innerHTML="<div class=\"timeDepositeRateTable timeDepositInterstRateTable\">"+_52d+"</div>";},displayServiceError:function(_52e){this.serviceError.style.display="block";this.interestRateTable.style.display="none";var _52f=_4da.replaceValidationErrCode(i18n.serviceErrorMsg,_52e);this.serviceError.innerHTML="<div class=\"error-msg-font\"><i class=\"icon-information\" ></i ></div ><div class=\"error-msg-txt\" >"+_52f+"</div >";},hideServiceError:function(){this.serviceError.style.display="none";this.interestRateTable.style.display="block";},getCurrencyDisplay:function(_530,_531){return _4da.getCurrencyDisplay(i18n[_530+"_prefix"],_531,i18n[_530+"_suffix"]);}});});},"url:hdx/dijits/reusableComponents/templates/PlusMinusIncrementer.html":"<div\n\tclass=\"dijit dijitReset dijitInline dijitLeft dijitPlusMinusIncrementer incpm\"\n\tid=\"widget_${id}\" role=\"presentation\">\n\t<label for=\"${id}_minusButton\" class=\"mobile-accessibleHidden\" id=\"${id}_minusButtonAccessibleLabel\" aria-hidden=\"true\">${minusButtonAccessibleLabel}</label>\n\t<div style=\"float: left;\"\n\t\tclass=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer dijitDownSpinnerButtonContainer\">\n\t\t<div role=\"button\"\n\t\t\tclass=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\" tabindex=\"0\" aria-labelledby=\"${id}_minusButtonAccessibleLabel\">\n\t\t\t<div class=\"dijitArrowButtonInner\">\n\t\t\t\t<input class=\"dijitReset dijitInputField\" tabindex=\"-1\" value=\"&#8211;\"\n\t\t\t\t\ttype=\"text\" readonly=\"readonly\" role=\"presentation\" id=\"${id}_minusButton\"\n\t\t\t\t\tdata-dojo-attach-point=\"minusButton\" ${_buttonInputDisabled}\n\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"dijitReset dijitInputField dijitInputContainer\" style=\"position: absolute;width: 72%;left: 52px;\">\n\t\t<label id=\"${id}_labeltext\" for = \"${id}\" style=\"display:none;\" aria-hidden=\"true\">${labeltext}</label>\n\t\t<input class='dijitReset dijitInputInner' \n\t\t\tid=\"${id}_insplusminusinput\" \n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onKeyPress\"\n\t\t\taria-labelledby=\"${id}_labeltext\"\n\t\t\taria-describedby=\"${id}_error\"\n\t\t\tautocomplete=\"off\" ${!nameAttrSetting} />\n\t\t<span class=\"accessibleHidden\" data-dojo-attach-point=\"textBoxValueAccessible\"></span>\n\t\t<span data-dojo-attach-point=\"suffix\" class=\"suffix\" aria-hidden=\"true\"> </span>\n\t\t<div style=\"display: none; visibility: hidden;\" data-dojo-attach-point=\"textValue\"></div>\n\t\t<span class=\"accessibleHidden\" id=\"${id}_upAndDownKeyAccessibleLabel\" aria-hidden=\"true\">${upAndDownKeyAccessibleLabel}</span>\n\t\t<div class=\"accessibleHidden\" data-dojo-attach-point=\"currentValue\" aria-live=\"polite\"></div>\n\t</div>\n\t<label for=\"${id}_plusButton\" class=\"mobile-accessibleHidden\" id=\"${id}_plusButtonAccessibleLabel\" aria-hidden=\"true\">${plusButtonAccessibleLabel}</label>\n\t<div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer dijitUpSpinnerButtonContainer\">\n\t\t<div role=\"button\"\n\t\t\tclass=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\" tabindex=\"0\" aria-labelledby=\"${id}_plusButtonAccessibleLabel\">\n\t\t\t<div class=\"dijitArrowButtonInner\">\n\t\t\t\t<input class=\"dijitReset dijitInputField\" tabindex=\"-1\" value=\"+\" type=\"text\"\n\t\t\t\t\treadonly=\"readonly\" role=\"presentation\" id=\"${id}_plusButton\"\n\t\t\t\t\tdata-dojo-attach-point=\"plusButton\" ${_buttonInputDisabled} />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t${!errorMessageTemplate}\n</div>\n","hdx/bijits/tools/mortgageCalculator/BorrowingCalculator":function(){require({cache:{"url:hdx/bijits/tools/mortgageCalculator/template/BorrowingCalculator.html":"<div class=\"first-tab borrowtool\">\n    <div class=\"row\">\n        <div class=\"l-twelve m-eight s-four columns nopad\">\n            <p class=\"t16r\">${i18n.toolDescription}</p>\n            <form action=\"\" name=\"mortgageCalculator\" class=\"deposit-linked-tab\">\n                <div class=\"row\">\n                    <div class=\"l-five m-four s-four columns desktop-pad-l tablet-pad-l mobile-pad-l mobile-pad-r arrowright\">\n                        <h2 class=\"heading t22l\">${i18n.column1Heading}</h2>\n                        <div id=\"monthlyIncomeId\" class=\"labelClass\">${i18n.householdIncomeLabel} </div>\n                        <div style=\"position:relative\" class=\"clearfix-position first-text-box\">\n                            <div class=\"currency-textbox\" data-dojo-attach-point=\"monthlyIncome\"></div>\n                        </div>\n                        <div id=\"interestRateId\" class=\"labelClass\">${i18n.interestRateLabel}</div>\n                        <div style=\"position:relative\" class=\"clearfix-position second-text-box\">\n                            <div id=\"interestRatelabel\" class=\"percentBox\" data-dojo-attach-point=\"interestRate\"></div>\n                        </div>\n                        <div id=\"loanPeriodId\" class=\"labelClass\">${i18n.loanPeriodLabel}</div>\n                        <div id=\"loanperiodyears\" class=\"margintop26 inputyears\" data-dojo-attach-point=\"loanPeriod\" ></div>\n                        <div class=\"sliderFocus\" data-dojo-attach-point=\"loanPeriodSlider\"><span class=\"accessibleHidden\" id=\"loanPeriodSlider\" data-dojo-attach-point=\"loanPeriodSliderSrt\" aria-live=\"polite\"></span></div>\n                    </div>\n                    <div class=\"l-seven m-four s-four columns mobile-pad-l mobile-pad-r\">\n                        <div class=\"result\">\n                            <h2 class=\"heading t22l\">${i18n.column2Heading}</h2>\n                        \t<div data-dojo-attach-point=\"maxLoanAmt\">\n                            <p class=\"t14b\">${i18n.maxLoanAmt}</p>\n                            <p class=\"t28b\" data-dojo-attach-point=\"maximumLoanAmount\"></p>\n                            </div>\n                            <h3 class=\"t16b\">${i18n.monthlyAndFortnightlyRepayments}</h3>\n                            <p class=\"t16r\">${i18n.monthlyAndFortnightlyRepaymentsDesc}</p>\n                            <table class=\"cc-table-monthly showondesktop displayblock\" summary=\"${i18n.accessMonthlyRepayment}\">\n                            \t<caption class=\"hide\">${i18n.accessMonthlyRepayment}</caption>\n                                <thead>\n                                    <tr class=\"row1\">\n                                        <th class=\"column1 t14b\" scope=\"col\" id=\"MRheader01\">${i18n.monthlyRepayment}</th>\n                                        <th class=\"column2 t14r\" scope=\"col\" id=\"MRheader02\">${i18n.loanPeriod}</th>\n                                        <th class=\"column3 t14r\" scope=\"col\" id=\"MRheader03\">${i18n.totalInterest}</th>\n                                        <th class=\"column4 t14r\" scope=\"col\" id=\"MRheader04\">${i18n.totalRepayment}</th>\n                                    </tr>\n                                </thead>\n                                <tbody class=\"t14r\">\n                                    <tr class=\"row2\">\n                                        <td class=\"column1\" headers=\"MRheader01\"><span class=\"t22l\" data-dojo-attach-point=\"monthlyRepaymentAmount\"></span></td>\n                                        <td class=\"column2\" headers=\"MRheader02\" data-dojo-attach-point=\"monthlyLoanPeriod\"></td>\n                                        <td class=\"column3\" headers=\"MRheader03\" data-dojo-attach-point=\"monthlyInterestPayable\"></td>\n                                        <td class=\"column4\" headers=\"MRheader04\" data-dojo-attach-point=\"monthlyTotalRepayment\"></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            <hr class=\"showondesktop\"/>\n                            <table class=\"cc-table-fortnightly showondesktop displayblock\" summary=\"${i18n.accessFortnightlyRepayment}\">\n                            \t<caption class=\"hide\">${i18n.accessFortnightlyRepayment}</caption>\n                                <thead>\n                                    <tr class=\"row1\">\n                                        <th class=\"column1 t14b\" scope=\"col\" id=\"FRheader01\">${i18n.fortnightlyRepayment}</th>\n                                        <th class=\"column2 t14r\" scope=\"col\" id=\"FRheader02\">${i18n.loanPeriod}</th>\n                                        <th class=\"column3 t14r\" scope=\"col\" id=\"FRheader03\">${i18n.totalInterest}</th>\n                                        <th class=\"column4 t14r\" scope=\"col\" id=\"FRheader04\">${i18n.totalRepayment}</th>\n                                    </tr>\n                                </thead>\n                                <tbody class=\"t14r\">\n                                    <tr class=\"row2\">\n                                        <td class=\"column1\" headers=\"FRheader01\"><span class=\"t22l\" data-dojo-attach-point=\"fortnightlyRepaymentAmount\"></span></td>\n                                        <td class=\"column2\" headers=\"FRheader02\" data-dojo-attach-point=\"fortnightlyLoanPeriod\"></td>\n                                        <td class=\"column3\" headers=\"FRheader03\" data-dojo-attach-point=\"fortnightlyInterestPayable\"></td>\n                                        <td class=\"column4\" headers=\"FRheader04\" data-dojo-attach-point=\"fortnightlyTotalRepayment\"></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"l-twelve m-eight s-four columns showonmobile\">\n                        <hr/>\n                        <table cellspacing=\"0\" class=\"cc-table\" summary=\"${i18n.accessMonthlyRepayment}\">\n                        \t<caption class=\"hide\">${i18n.accessMonthlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.monthlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"monthlyRepaymentAmount1\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"monthlyLoanPeriod1\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"monthlyInterestPayable1\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"monthlyTotalRepayment1\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <hr/>\n                        <table cellspacing=\"0\" class=\"cc-table\" summary=\"${i18n.accessFortnightlyRepayment}\">\n                        \t<caption class=\"hide\">${i18n.accessFortnightlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.fortnightlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"fortnightlyRepaymentAmount1\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"fortnightlyLoanPeriod1\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"fortnightlyInterestPayable1\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"fortnightlyTotalRepayment1\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <!-- for tablet -->\n                <div class=\"row\">\n                    <div class=\"l-twelve m-eight s-four columns showontablet\">\n                        <hr/>\n                        <table cellspacing=\"15\" class=\"cc-table-monthly\" summary=\"${i18n.accessMonthlyRepayment}\">\n                        \t<caption class=\"hide\">${i18n.accessMonthlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.monthlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"monthlyRepaymentAmount2\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"monthlyLoanPeriod2\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"monthlyInterestPayable2\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"monthlyTotalRepayment2\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <hr/>\n                        <table cellspacing=\"15\" class=\"cc-table-fortnightly\" summary=\"${i18n.accessFortnightlyRepayment}\">\n                        \t<caption class=\"hide\">${i18n.accessFortnightlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.fortnightlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"fortnightlyRepaymentAmount2\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"fortnightlyLoanPeriod2\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"fortnightlyInterestPayable2\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"fortnightlyTotalRepayment2\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </form>\n            <div class=\"borrowdisclaim\">\n                <div class=\"rows\">\n                    <div class=\"l-twelve m-eight s-four columns\">\n                        <p class=\"t14r\"><span class=\"t14b\">${i18n.disclaimerTitle}</span><span class=\"dis-desc-color t14r\">${i18n.disclaimerDesc}</span></p>\n                    </div>\n                </div>\n            </div>\n            <div class=\"propertyval\">\n                <div class=\"rows\">\n                    <div class=\"l-twelve m-eight s-four columns\">\n                        <p class=\"ptext t16r\">${i18n.currentPriceFlat}</p>\n                        <a href=\"${i18n.propertyValUrl}\" id=\"Get Property Valuation\" class=\"secondaryaction primaryround\"><span>${i18n.getPropVal}</span></a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"}});define("hdx/bijits/tools/mortgageCalculator/BorrowingCalculator",["dojo/_base/declare","dijit/_TemplatedMixin","hsbc/_ECAMixin","dijit/_WidgetsInTemplateMixin","dijit/_WidgetBase","dojo/on","dojo/_base/lang","dijit/registry","dojo/number","dojo/text!./template/BorrowingCalculator.html","hsbc/eca!dojo/i18n!pws/Components/client/mortgageCalculator/nls/BorrowingCalculator_nls","hdx/bijits/tools/mortgageCalculator/MortgageCalUtil","hsbc/eca!pws/Components/client/mortgageCalculator/config/BorrowMortgageCalculatorConfig","hdx/dijits/reusableComponents/CustomizedTextBox","hdx/dijits/reusableComponents/CustomizedHorizontalRangeSlider","dojo/dom-attr","hsbc/utilities/CommonUtil","dojo/domReady!","hdx/dijits/form/Select","hdx/bijits/global_framework/global_container/GlobalContainer","dijit/form/TextBox","dijit/form/Form","dijit/form/RadioButton"],function(_532,_533,_534,_535,_536,on,lang,_537,_538,_539,i18n,_53a,_53b,_53c,_53d,_53e,_53f){return _532("hdx.bijits.tools.mortgageCalculator.BorrowingCalculator",[_536,_533,_534,_535],{templateString:_539,i18n:i18n,monthlyIncomeTextBox:null,interestRateTextBox:null,loanPeriodTextBox:null,loanPeriodSliderBar:null,trackingCountryCode:null,trackingTransactionTotal:null,trackingTransactionTimePeriod:null,postCreate:function(){this.repaymentCalflag=false;var _540=this;this.sliderEflag="";_540.createUIElement();_540.bindEvents();_540.updateCalculationResult();},createUIElement:function(){var _541=_53f.getConfiguration(_53b.BorrowMortgageCalculatorConfig);var _542=(_541.monthlyIncomeType&&_541.monthlyIncomeType["default"])?_541.monthlyIncomeType["default"]:"";var _543=(_541.monthlyIncomePrefix&&_541.monthlyIncomePrefix["default"])?_541.monthlyIncomePrefix["default"]:"";_543=(_543&&i18n[_543])?i18n[_543]:_543;var _544=(_541.monthlyIncomeSuffix&&_541.monthlyIncomeSuffix["default"])?_541.monthlyIncomeSuffix["default"]:"";_544=(_544&&i18n[_544])?i18n[_544]:_544;var _545=(_541.monthlyIncomeDefaultValue&&_541.monthlyIncomeDefaultValue["default"])?_541.monthlyIncomeDefaultValue["default"]:"";var _546=(_541.monthlyIncomeMinValue&&_541.monthlyIncomeMinValue["default"])?_541.monthlyIncomeMinValue["default"]:"";var _547=(_541.monthlyIncomeMaxValue&&_541.monthlyIncomeMaxValue["default"])?_541.monthlyIncomeMaxValue["default"]:"";var _548=(_541.monthlyIncomeDecimalPlaces&&_541.monthlyIncomeDecimalPlaces["default"])?_541.monthlyIncomeDecimalPlaces["default"]:"";var _549=(_541.monthlyIncomeIsMandatory&&_541.monthlyIncomeIsMandatory["default"])?_541.monthlyIncomeIsMandatory["default"]:"";_549=(_549==="Y")?true:false;var _54a=(_541.interestRateType&&_541.interestRateType["default"])?_541.interestRateType["default"]:"";var _54b=(_541.interestRatePrefix&&_541.interestRatePrefix["default"])?_541.interestRatePrefix["default"]:"";_54b=(_54b&&i18n[_54b])?i18n[_54b]:_54b;var _54c=(_541.interestRateSuffix&&_541.interestRateSuffix["default"])?_541.interestRateSuffix["default"]:"";_54c=(_54c&&i18n[_54c])?i18n[_54c]:_54c;var _54d=(_541.interestRateDefaultValue&&_541.interestRateDefaultValue["default"])?_541.interestRateDefaultValue["default"]:"";var _54e=(_541.interestRateMinValue&&_541.interestRateMinValue["default"])?_541.interestRateMinValue["default"]:"";var _54f=(_541.interestRateMaxValue&&_541.interestRateMaxValue["default"])?_541.interestRateMaxValue["default"]:"";var _550=(_541.interestRateDecimalPlaces&&_541.interestRateDecimalPlaces["default"])?_541.interestRateDecimalPlaces["default"]:"";var _551=(_541.interestRateIsMandatory&&_541.interestRateIsMandatory["default"])?_541.interestRateIsMandatory["default"]:"";_551=(_551==="Y")?true:false;var _552=(_541.loanPeriodType&&_541.loanPeriodType["default"])?_541.loanPeriodType["default"]:"";var _553=(_541.loanPeriodPrefix&&_541.loanPeriodPrefix["default"])?_541.loanPeriodPrefix["default"]:"";_553=(_553&&i18n[_553])?i18n[_553]:_553;var _554=(_541.loanPeriodSuffix&&_541.loanPeriodSuffix["default"])?_541.loanPeriodSuffix["default"]:"";_554=(_554&&i18n[_554])?i18n[_554]:_554;var _555=(_541.loanPeriodDefaultValue&&_541.loanPeriodDefaultValue["default"])?_541.loanPeriodDefaultValue["default"]:"";var _556=(_541.loanPeriodMinValue&&_541.loanPeriodMinValue["default"])?_541.loanPeriodMinValue["default"]:"";var _557=(_541.loanPeriodMaxValue&&_541.loanPeriodMaxValue["default"])?_541.loanPeriodMaxValue["default"]:"";var _558=(_541.loanPeriodDecimalPlaces&&_541.loanPeriodDecimalPlaces["default"])?_541.loanPeriodDecimalPlaces["default"]:"";var _559=(_541.loanPeriodIsMandatory&&_541.loanPeriodIsMandatory["default"])?_541.loanPeriodIsMandatory["default"]:"";_559=(_559==="Y")?true:false;var _55a=(_541.loanPeriodDiscreteValue&&_541.loanPeriodDiscreteValue["default"])?_541.loanPeriodDiscreteValue["default"]:"";this.monthlyIncomeTextBox=new _53c({type:_542,labeltext:i18n.householdIncomeTextBox,prefixText:_543,suffixText:_544,maxAmount:_547,minAmount:_546,defaultAmount:_545,decimalPlaces:_548,validateMandatory:_549,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_monthlyIncomeInvalid,invalidMsgNumericFormat:i18n.errMsg_monthlyIncomeNumericFormat,invalidMsgAmountTooLarge:_53f.replaceValidationErrMessage(i18n.errMsg_monthlyIncomeTooLarge,_546,_547,_548),invalidMsgAmountTooSmall:_53f.replaceValidationErrMessage(i18n.errMsg_monthlyIncomeTooSmall,_546,_547,_548),invalidMsgEmpty:_53f.replaceValidationErrMessage(i18n.errMsg_monthlyIncomeEmpty,_546,_547,_548),updateInvalidValueWhenBlur:false});this.monthlyIncomeTextBox.placeAt(this.monthlyIncome);this.interestRateTextBox=new _53c({type:_54a,labeltext:i18n.interestRateTextbox,prefixText:_54b,suffixText:_54c,maxAmount:_54f,minAmount:_54e,defaultAmount:_54d,decimalPlaces:_550,validateMandatory:_551,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_interestRateInvalid,invalidMsgDecimalPlaces:i18n.errMsg_interestRateDecimalPlace,invalidMsgAmountTooLarge:_53f.replaceValidationErrMessage(i18n.errMsg_interestRateTooLarge,_54e,_54f,_550),invalidMsgAmountTooSmall:_53f.replaceValidationErrMessage(i18n.errMsg_interestRateTooSmall,_54e,_54f,_550),invalidMsgEmpty:_53f.replaceValidationErrMessage(i18n.errMsg_interestRateEmpty,_54e,_54f,_550),updateInvalidValueWhenBlur:false});this.interestRateTextBox.placeAt(this.interestRate);this.loanPeriodTextBox=new _53c({type:_552,labeltext:i18n.loanPeriodTextbox,prefixText:_553,suffixText:_554,maxAmount:_557,minAmount:_556,defaultAmount:_555,decimalPlaces:_558,validateMandatory:_559,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_loanPeriodInvalid,invalidMsgNumericFormat:i18n.errMsg_loanPeriodNumericFormat,invalidMsgAmountTooLarge:_53f.replaceValidationErrMessage(i18n.errMsg_loanPeriodTooLarge,_556,_557,_558),invalidMsgAmountTooSmall:_53f.replaceValidationErrMessage(i18n.errMsg_loanPeriodTooSmall,_556,_557,_558),invalidMsgEmpty:_53f.replaceValidationErrMessage(i18n.errMsg_loanPeriodEmpty,_556,_557,_558),updateInvalidValueWhenBlur:false});this.loanPeriodTextBox.placeAt(this.loanPeriod);this.loanPeriodSliderBar=new _53d({placeLocation:this.loanPeriodSlider,inputHandler:this.loanPeriodTextBox.textbox,minValue:parseFloat(_556),maxValue:parseFloat(_557),value:parseFloat(_555),name:"borrowingLoanPeriodSlider"+this.id,sliderButtons:false,currency:false,discreteValues:_55a,labelText:i18n.loanPeriodSlider});_53e.set(this.loanPeriodTextBox,"aria-required","true");_53e.set(this.monthlyIncomeTextBox.textbox,"aria-invalid","false");_53e.set(this.monthlyIncomeTextBox.textbox,"aria-required","false");_53e.set(this.interestRateTextBox.textbox,"aria-invalid","false");_53e.set(this.interestRateTextBox.textbox,"aria-required","false");this.loanPeriodSliderSrt.innerHTML=this.loanPeriodTextBox.textbox.value;_53e.set(_537.byId(this.loanPeriodSliderBar.name),"aria-describedby","loanPeriodSlider");},bindEvents:function(){var _55b=this;var _55c=function(){if(this.monthlyIncomeTextBox.isValid()){var _55d=_53f.getTextBoxValue(this.monthlyIncomeTextBox);this.monthlyIncomeTextBox.textbox.value=_53f.removeFormat(_55d,this.monthlyIncomeTextBox.decimalPlaces);}};var _55e=function(){if(this.monthlyIncomeTextBox.isValid()){this.updateCalculationResult();}else{_55b.clearCalculationResult();}};var _55f=function(self,_560){var _561=_53f.getTextBoxValue(_560);_561=_538.parse(_561);if(_560.isValid()){if(!isNaN(_561)){_560.textbox.value=_53f.decimalFormat(_561,_560.decimalPlaces);}}};var _562=function(){_55f(this,this.monthlyIncomeTextBox);var _563=this._createTrackingEvent("click","Update");_563["event_content"]="Changed | income | input";_53f.submitTealium(_563);};var _564=function(){var _565=_53f.getTextBoxValue(this.interestRateTextBox);if(this.interestRateTextBox.isValid()){_565=_538.parse(_565);this.interestRateTextBox.textbox.value=_565;}};var _566=function(){if(this.interestRateTextBox.isValid()){this.updateCalculationResult();}else{_55b.clearCalculationResult();}};var _567=function(){_55f(this,this.interestRateTextBox);var _568=this._createTrackingEvent("click","Update");_568["event_content"]="Changed | interest rate | input";_53f.submitTealium(_568);};var _569=function(){var _56a=_53f.getTextBoxValue(this.loanPeriodTextBox);if(this.loanPeriodTextBox.isValid()){_56a=_538.parse(_56a);this.loanPeriodTextBox.textbox.value=_56a;}};var _56b=function(){var _56c=_53f.getTextBoxValue(this.loanPeriodTextBox);if(this.loanPeriodTextBox.isValid()){var _56d=_538.parse(_56c);if(!isNaN(_56d)){this.loanPeriodSliderSrt.innerHTML=this.loanPeriodTextBox.textbox.value;this.updateCalculationResult();_537.byId(this.loanPeriodSliderBar.name).set("value",_56d);}else{_55b.clearCalculationResult();}}else{_55b.clearCalculationResult();}};var _56e=function(){var _56f=this._createTrackingEvent("click","Update");_56f["event_content"]="Changed | loan period | input";_53f.submitTealium(_56f);};on(this.monthlyIncomeTextBox.textbox,"focus",lang.hitch(this,_55c));on(this.monthlyIncomeTextBox.textbox,"keyup",lang.hitch(this,_55e));on(this.monthlyIncomeTextBox.textbox,"blur",lang.hitch(this,_562));on(this.interestRateTextBox.textbox,"keyup",lang.hitch(this,_566));on(this.interestRateTextBox.textbox,"blur",lang.hitch(this,_567));on(this.loanPeriodTextBox.textbox,"focus",lang.hitch(this,_569));on(this.loanPeriodTextBox.textbox,"keyup",lang.hitch(this,_56b));on(this.loanPeriodTextBox.textbox,"blur",lang.hitch(this,_56e));on(_537.byId(this.loanPeriodSliderBar.name),"mouseup",function(_570){_55b.updateCalculationResult();var _571=_55b._createTrackingEvent("click","Update");_571["event_content"]="Changed | loan period | Slider";_53f.submitTealium(_571);});on(_537.byId(this.loanPeriodSliderBar.name),"change",function(_572){if(_55b.sliderEflag!=="Typed"){_55b.loanPeriodTextBox.textbox.value=_572;_53f.removeValidationError(_55b.loanPeriodTextBox);}_55b.loanPeriodSliderBar.value=_572;_55b.loanPeriodSliderSrt.innerHTML=_55b.loanPeriodTextBox.textbox.value;_55b.updateCalculationResult();_55b.sliderEflag="";});},updateCalculationResult:function(){if(!this.monthlyIncomeTextBox.isValid()||!this.interestRateTextBox.isValid()||!this.loanPeriodTextBox.isValid()){this.clearCalculationResult();return;}var _573=_538.parse(_53f.getTextBoxValue(this.monthlyIncomeTextBox));var _574=_538.parse(_53f.getTextBoxValue(this.interestRateTextBox));var _575=_538.parse(_53f.getTextBoxValue(this.loanPeriodTextBox));var _576=_53a.calculateLoanAmount(_573,_574,_575);var _577=(i18n.dollar)?i18n.dollar:"";this.maximumLoanAmount.innerHTML=i18n.currency+_538.format(Math.round(_576))+_577;var _578=_53a.calculateRepayAmount("mr",_576,_574,_575);var _579=_53a.calculateRepayAmount("fr",_576,_574,_575);var _57a=Math.round(_578);var _57b=_53a.calculateRepaySummary("mr",_576,_578,_574)[0];var _57c=Math.round(_53a.calculateRepaySummary("mr",_576,_578,_574)[1]);var _57d=Math.round(_53a.calculateRepaySummary("mr",_576,_578,_574)[2]);var _57e=Math.round(_579);var _57f=_53a.calculateRepaySummary("fr",_576,_579,_574)[0];var _580=Math.round(_53a.calculateRepaySummary("fr",_576,_579,_574)[1]);var _581=Math.round(_53a.calculateRepaySummary("fr",_576,_579,_574)[2]);this.trackingCountryCode="HKD";this.trackingTransactionTotal=parseFloat(_576).toFixed(2);this.trackingTransactionTimePeriod=_575*12;_57a=_538.format(_57a);_57e=_538.format(_57e);_57c=_538.format(_57c);_57d=_538.format(_57d);_580=_538.format(_580);_581=_538.format(_581);this.monthlyRepaymentAmount.innerHTML=_53a.addValueLabel(i18n.currency,_57a,i18n.dollar);this.fortnightlyRepaymentAmount.innerHTML=_53a.addValueLabel(i18n.currency,_57e,i18n.dollar);this.monthlyLoanPeriod.innerHTML=_53a.addValueLabel("",_57b,i18n.years);this.monthlyInterestPayable.innerHTML=_53a.addValueLabel(i18n.currency,_57c,i18n.dollar);this.monthlyTotalRepayment.innerHTML=_53a.addValueLabel(i18n.currency,_57d,i18n.dollar);this.fortnightlyLoanPeriod.innerHTML=_53a.addValueLabel("",_57f,i18n.years);this.fortnightlyInterestPayable.innerHTML=_53a.addValueLabel(i18n.currency,_580,i18n.dollar);this.fortnightlyTotalRepayment.innerHTML=_53a.addValueLabel(i18n.currency,_581,i18n.dollar);this.monthlyRepaymentAmount2.innerHTML=_53a.addValueLabel(i18n.currency,_57a,i18n.dollar);this.fortnightlyRepaymentAmount2.innerHTML=_53a.addValueLabel(i18n.currency,_57e,i18n.dollar);this.monthlyLoanPeriod2.innerHTML=_53a.addValueLabel("",_57b,i18n.years);this.monthlyInterestPayable2.innerHTML=_53a.addValueLabel(i18n.currency,_57c,i18n.dollar);this.monthlyTotalRepayment2.innerHTML=_53a.addValueLabel(i18n.currency,_57d,i18n.dollar);this.fortnightlyLoanPeriod2.innerHTML=_53a.addValueLabel("",_57f,i18n.years);this.fortnightlyInterestPayable2.innerHTML=_53a.addValueLabel(i18n.currency,_580,i18n.dollar);this.fortnightlyTotalRepayment2.innerHTML=_53a.addValueLabel(i18n.currency,_581,i18n.dollar);this.monthlyRepaymentAmount1.innerHTML=_53a.addValueLabel(i18n.currency,_57a,i18n.dollar);this.fortnightlyRepaymentAmount1.innerHTML=_53a.addValueLabel(i18n.currency,_57e,i18n.dollar);this.monthlyLoanPeriod1.innerHTML=_53a.addValueLabel("",_57b,i18n.years);this.monthlyInterestPayable1.innerHTML=_53a.addValueLabel(i18n.currency,_57c,i18n.dollar);this.monthlyTotalRepayment1.innerHTML=_53a.addValueLabel(i18n.currency,_57d,i18n.dollar);this.fortnightlyLoanPeriod1.innerHTML=_53a.addValueLabel("",_57f,i18n.years);this.fortnightlyInterestPayable1.innerHTML=_53a.addValueLabel(i18n.currency,_580,i18n.dollar);this.fortnightlyTotalRepayment1.innerHTML=_53a.addValueLabel(i18n.currency,_581,i18n.dollar);},clearCalculationResult:function(){this.maximumLoanAmount.innerHTML="";this.monthlyRepaymentAmount.innerHTML="";this.fortnightlyRepaymentAmount.innerHTML="";this.monthlyLoanPeriod.innerHTML="";this.monthlyInterestPayable.innerHTML="";this.monthlyTotalRepayment.innerHTML="";this.fortnightlyLoanPeriod.innerHTML="";this.fortnightlyInterestPayable.innerHTML="";this.fortnightlyTotalRepayment.innerHTML="";this.monthlyRepaymentAmount2.innerHTML="";this.fortnightlyRepaymentAmount2.innerHTML="";this.monthlyLoanPeriod2.innerHTML="";this.monthlyInterestPayable2.innerHTML="";this.monthlyTotalRepayment2.innerHTML="";this.fortnightlyLoanPeriod2.innerHTML="";this.fortnightlyInterestPayable2.innerHTML="";this.fortnightlyTotalRepayment2.innerHTML="";this.monthlyRepaymentAmount1.innerHTML="";this.fortnightlyRepaymentAmount1.innerHTML="";this.monthlyLoanPeriod1.innerHTML="";this.monthlyInterestPayable1.innerHTML="";this.monthlyTotalRepayment1.innerHTML="";this.fortnightlyLoanPeriod1.innerHTML="";this.fortnightlyInterestPayable1.innerHTML="";this.fortnightlyTotalRepayment1.innerHTML="";},_createTrackingEvent:function(type,_582){var _583={"tool_name":"MaximumMortgageCalcV2","event_type":type,"event_action":"Max Borrowing Calculator | "+_582};lang.mixin(_583,{"country_code":this.trackingCountryCode,"transaction_total":this.trackingTransactionTotal,"transaction_time_period":this.trackingTransactionTimePeriod});return _583;}});});},"url:hdx/bijits/tools/serviceFinder/templates/ServiceFinderDetails.html":"<div class=\"details-pad\">\n   <a class=\"backbtn\" href=\"javascript:void(0);\" data-dojo-attach-point=\"backButton\">\n   <span>${i18n.backButton}</span>\n   <em class=\"icon-chevron-left\"></em>\n   </a>\n   <div class=\"${shadowClass} branchicon\" style=\"background-color:${colorCode}\">${resultNumber}</div>\n   <span class=\"small-size t12r\">${facility}</span>\n   <span class=\"t22l details-name\">${name}</span>\n   <span class=\"small-size-distance t12r\">${distance}</span>\n   <p class=\"t14r\">${address}</p>\n   <p class=\"t12r\" data-dojo-attach-point=\"callOutText\"></p>\n   <span class=\"t12r openTodayDetails\" data-dojo-attach-point=\"openTodayDetails\"></span>\n   <span class=\"notOpenTodayDetails\" data-dojo-attach-point=\"notOpenTodayDetails\"></span>\n   <a class=\"get-directions level5action\" onclick=\"return false;\" data-dojo-attach-point=\"directionLink\">\n   <span>${i18n.getDirections}</span>\n   <em class=\"chv primaryred\"></em>\n   </a>\n   <hr class=\"details-separator\">\n   <div class=\"sectionlist scroll-section\" data-dojo-attach-point=\"servicesAvailable\"></div>\n   <hr class=\"details-separator\" data-dojo-attach-point=\"servicesAvailable_separator\">\n   <div class=\"sectionlist scroll-section\">\n   \t\t<div class=\"l-twelve m-eight columns nopad\">\n\t\t\t<table border=\"0\" class=\"branchDetails\" summary=\"branch timing details\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th class=\"t14b\">${i18n.hours}</th>\n\t\t\t\t\t\t<th class=\"t14b branchtime\">${i18n.branch}</th>\n\t\t\t\t\t\t<th class=\"t14b exptime\">${i18n.expressBanking}</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody data-dojo-attach-point=\"hours\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"t14r\">${i18n.monday}</td>\n\t\t\t\t\t\t<td class=\"t14r branchtime\">${workHrsBranch.monday}</td>\n\t\t\t\t\t\t<td class=\"t14r exptime\" data-dojo-attach-point=\"expressBankingWorkHrs\">${workHrsExpressBanking.monday}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"t14r\">${i18n.tuesday}</td>\n\t\t\t\t\t\t<td class=\"t14r branchtime\">${workHrsBranch.tuesday}</td>\n\t\t\t\t\t\t<td class=\"t14r exptime\" data-dojo-attach-point=\"tuesday\">${workHrsExpressBanking.tuesday}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"t14r\">${i18n.wednesday}</td>\n\t\t\t\t\t\t<td class=\"t14r branchtime\">${workHrsBranch.wednesday}</td>\n\t\t\t\t\t\t<td class=\"t14r exptime\" data-dojo-attach-point=\"wednesday\">${workHrsExpressBanking.wednesday}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"t14r\">${i18n.thursday}</td>\n\t\t\t\t\t\t<td class=\"t14r branchtime\">${workHrsBranch.thursday}</td>\n\t\t\t\t\t\t<td class=\"t14r exptime\" data-dojo-attach-point=\"thursday\">${workHrsExpressBanking.thursday}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"t14r\">${i18n.friday}</td>\n\t\t\t\t\t\t<td class=\"t14r branchtime\">${workHrsBranch.friday}</td>\n\t\t\t\t\t\t<td class=\"t14r exptime\" data-dojo-attach-point=\"friday\">${workHrsExpressBanking.friday}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"t14r\">${i18n.saturday}</td>\n\t\t\t\t\t\t<td class=\"t14r branchtime\">${workHrsBranch.saturday}</td>\n\t\t\t\t\t\t<td class=\"t14r exptime\" data-dojo-attach-point=\"saturday\">${workHrsExpressBanking.saturday}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"t14r\">${i18n.sunday}</td>\n\t\t\t\t\t\t<td class=\"t14r branchtime\">${workHrsBranch.sunday}</td>\n\t\t\t\t\t\t<td class=\"t14r exptime\" data-dojo-attach-point=\"sunday\">${workHrsExpressBanking.sunday}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\t\n         <p data-dojo-attach-point=\"expressBankingAccessible24Hrs\" class=\"expresstxt hide\">${i18n.accessible}</p>\n      </div>\n    </div>\n      <hr class=\"details-separator\">\n      <div class=\"contactsBankDetails\">\n         <div data-dojo-attach-point=\"contactsBankDetails\"></div>\n      </div>\n   </div>","hdx/dijits/reusableComponents/_ErrorMessageMixin":function(){require({cache:{"url:hdx/dijits/reusableComponents/templates/ErrorMessage.html":"<div role=\"alert\" data-dojo-attach-point=\"error\" class=\"error-message\">\n    <em data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-info\" aria-hidden=\"true\"></em>\n    <span data-dojo-attach-point=\"errorRead\" class=\"error-text-alignment\">\n        <span class=\"accessibleHidden\" data-dojo-attach-point=\"errorCount\"></span>\n        <span data-dojo-attach-point=\"errorText\"></span>\n    </span>\n</div>"}});define("hdx/dijits/reusableComponents/_ErrorMessageMixin",["dojo/_base/declare","dojo/text!./templates/ErrorMessage.html"],function(_584,_585){return _584("hdx.dijits.reusableComponents._ErrorMessageMixin",[],{errorMessageTemplate:_585,buildRendering:function(){this.inherited(arguments);this.error.style.display="none";},_setErrorMessageAttr:function(_586){}});});},"hsbc/_ECAMixin":function(){require({cache:{"url:hsbc/template/GenericError.html":"<div class=\"generic-error\">\n\t<div class=\"error-msg\">\n\t\t<div class=\"error-msg-font\"><i class=\"icon-information\"></i></div>\n\t\t<div class=\"error-msg-txt\">${error.genericerror}</div>\n\t</div>\n</div>"}});define("hsbc/_ECAMixin",["dojo/_base/declare","dojo/text!hsbc/template/GenericError.html","dojo/i18n!hsbc/nls/error_nls"],function(_587,_588,_589){return _587([],{errorTemplateString:_588,error:_589,buildRendering:function(){try{this.inherited(arguments);}catch(err){console.error(err);this.templateString=this.errorTemplateString;this.inherited(arguments);this.postCreate=this._errorPostCreate;this.startup=this._errorStartup;}},_errorPostCreate:function(){this.inherited("postCreate",[]);},_errorStartup:function(){this.inherited("startup",[]);}});});},"url:hdx/bijits/tools/propertyvaluation/template/propertyvaluationsearch.html":"<div class=\"secondTab propertysearch\">\n    <div class=\"row\">\n        <div class=\"l-twelve m-eight s-four columns nopad\">\n            <p class=\"t14b\">${i18n.headingfortool}</p>\n            <form action=\"\" name=\"\" class=\"\">\n                <div class=\"row\">\n                    <div class=\"l-six m-five s-four columns tabletview arrow-right arrowdown mobile-pad-l mobile-pad-r desktop-pad-l\">\n                        <h3 class=\"heading t22l\">${i18n.column1Heading}</h3>\n                        <span class=\"labelclass\">${i18n.zone}</span>\n                        <div class=\"zone first\"> <span id=\"zonevaluesearch\" class=\"mobile-accessibleHidden\" style=\"visibility: hidden;\">${i18n.zone} ${i18n.dropdown}</span>\n                            <span style=\"left: -1500px; position: absolute;\"></span>\n                            <select data-dojo-props=\"maxHeight:260\" data-dojo-type=\"hdx/dijits/form/Select\" aria-atomic=\"true\" aria-required=\"true\" class=\"zone\" data-dojo-attach-point=\"zone\" aria-live=\"true\"\n                            aria-labelledby=\"zonevaluesearch\" data-dojo-attach-event=\"onChange:enableEstateInput,onBlur:zoneDropDownBlur\"></select>\n\t\t\t\t\t\t\t<div data-dojo-attach-point=\"serviceError\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                                <span data-dojo-attach-point=\"serviceErrorText\" role=\"alert\"></span>\n                            </div>\n                        </div>\n                        <label class=\"labelclass\" for=\"searchEstatetextbox\">${i18n.estateKeyword}</label>\n                        <div style=\"position: relative\" class=\"clearfix-position second-text-box\">\n                            <input type=\"text\" disabled data-dojo-props=\"required:true\" id=\"searchEstatetextbox\" data-dojo-attach-point=\"searchEstatetextbox\" value=\"\" />\n                            <div data-dojo-attach-point=\"error\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                                <span data-dojo-attach-point=\"errorText\" role=\"alert\"></span>\n                            </div>\n                        </div>\n                        <div class=\"propertyEvaluation\">\n                            <label for=\"btnSearchEstate\" style=\"display: none\">${i18n.searchEstateButton}</label>\n                            <input disabled type=\"button\" id=\"btnSearchEstate\" data-dojo-attach-event=\"click:getSearchResult\"\n                            data-dojo-attach-point=\"btnSearchEstate\" class=\"primaryaction primaryround\" \n                            value=\"${i18n.estateSearch}\">\n                        </div>\n                    </div>\n                    <div class=\"l-six m-eight s-four columns resultcolumn\">\n                        <div class=\"result\">\n                            <h3 tabindex = \"0\" data-dojo-attach-point = \"propertySearchResultsHeading\" class=\"headingresult\">${i18n.column2Heading}</h3>\n                            <p class=\"t12r\" data-dojo-attach-point=\"resultcount\"></p>\n                            <div data-dojo-attach-point=\"searchresult\" class=\"commonsearch-searchresult\">\n                                <div class=\"resultDisplaylink\"> <a href=\"#\" class=\"resultlink\" data-searchlink=\"searchlink\"><span>&nbsp;</span></a>\n                                </div>\n                                <div class=\"resultDisplaylink\"> <a href=\"#\" class=\"resultlink\" data-searchlink=\"searchlink\"><span>&nbsp;</span></a>\n                                </div>\n                                <div class=\"resultDisplaylink\"> <a href=\"#\" class=\"resultlink\" data-searchlink=\"searchlink\"><span>&nbsp;</span></a>\n                                </div>\n                                <div class=\"resultDisplaylink\"> <a href=\"#\" class=\"resultlink\" data-searchlink=\"searchlink\"><span>&nbsp;</span></a>\n                                </div>\n                                <div class=\"resultDisplaylink\"> <a href=\"#\" class=\"resultlink\" data-searchlink=\"searchlink\"><span>&nbsp;</span></a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n     <div class=\"row\">\n      <div class=\"l-twelve m-eight s-four columns propEvalInfo\" >\n\n            <p class=\"t14r\" data-dojo-attch-point=\"propEvalInfoDesc\" >\n               <span class=\"t14r pewter\">${i18n.disclaimerDescription}</span>\n            </p >\n        </div >\n        <hr class=\"\" />\n        </div>\n</div>","url:hdx/bijits/tools/mortgageCalculator/template/BorrowingCalculator.html":"<div class=\"first-tab borrowtool\">\n    <div class=\"row\">\n        <div class=\"l-twelve m-eight s-four columns nopad\">\n            <p class=\"t16r\">${i18n.toolDescription}</p>\n            <form action=\"\" name=\"mortgageCalculator\" class=\"deposit-linked-tab\">\n                <div class=\"row\">\n                    <div class=\"l-five m-four s-four columns desktop-pad-l tablet-pad-l mobile-pad-l mobile-pad-r arrowright\">\n                        <h2 class=\"heading t22l\">${i18n.column1Heading}</h2>\n                        <div id=\"monthlyIncomeId\" class=\"labelClass\">${i18n.householdIncomeLabel} </div>\n                        <div style=\"position:relative\" class=\"clearfix-position first-text-box\">\n                            <div class=\"currency-textbox\" data-dojo-attach-point=\"monthlyIncome\"></div>\n                        </div>\n                        <div id=\"interestRateId\" class=\"labelClass\">${i18n.interestRateLabel}</div>\n                        <div style=\"position:relative\" class=\"clearfix-position second-text-box\">\n                            <div id=\"interestRatelabel\" class=\"percentBox\" data-dojo-attach-point=\"interestRate\"></div>\n                        </div>\n                        <div id=\"loanPeriodId\" class=\"labelClass\">${i18n.loanPeriodLabel}</div>\n                        <div id=\"loanperiodyears\" class=\"margintop26 inputyears\" data-dojo-attach-point=\"loanPeriod\" ></div>\n                        <div class=\"sliderFocus\" data-dojo-attach-point=\"loanPeriodSlider\"><span class=\"accessibleHidden\" id=\"loanPeriodSlider\" data-dojo-attach-point=\"loanPeriodSliderSrt\" aria-live=\"polite\"></span></div>\n                    </div>\n                    <div class=\"l-seven m-four s-four columns mobile-pad-l mobile-pad-r\">\n                        <div class=\"result\">\n                            <h2 class=\"heading t22l\">${i18n.column2Heading}</h2>\n                        \t<div data-dojo-attach-point=\"maxLoanAmt\">\n                            <p class=\"t14b\">${i18n.maxLoanAmt}</p>\n                            <p class=\"t28b\" data-dojo-attach-point=\"maximumLoanAmount\"></p>\n                            </div>\n                            <h3 class=\"t16b\">${i18n.monthlyAndFortnightlyRepayments}</h3>\n                            <p class=\"t16r\">${i18n.monthlyAndFortnightlyRepaymentsDesc}</p>\n                            <table class=\"cc-table-monthly showondesktop displayblock\" summary=\"${i18n.accessMonthlyRepayment}\">\n                            \t<caption class=\"hide\">${i18n.accessMonthlyRepayment}</caption>\n                                <thead>\n                                    <tr class=\"row1\">\n                                        <th class=\"column1 t14b\" scope=\"col\" id=\"MRheader01\">${i18n.monthlyRepayment}</th>\n                                        <th class=\"column2 t14r\" scope=\"col\" id=\"MRheader02\">${i18n.loanPeriod}</th>\n                                        <th class=\"column3 t14r\" scope=\"col\" id=\"MRheader03\">${i18n.totalInterest}</th>\n                                        <th class=\"column4 t14r\" scope=\"col\" id=\"MRheader04\">${i18n.totalRepayment}</th>\n                                    </tr>\n                                </thead>\n                                <tbody class=\"t14r\">\n                                    <tr class=\"row2\">\n                                        <td class=\"column1\" headers=\"MRheader01\"><span class=\"t22l\" data-dojo-attach-point=\"monthlyRepaymentAmount\"></span></td>\n                                        <td class=\"column2\" headers=\"MRheader02\" data-dojo-attach-point=\"monthlyLoanPeriod\"></td>\n                                        <td class=\"column3\" headers=\"MRheader03\" data-dojo-attach-point=\"monthlyInterestPayable\"></td>\n                                        <td class=\"column4\" headers=\"MRheader04\" data-dojo-attach-point=\"monthlyTotalRepayment\"></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            <hr class=\"showondesktop\"/>\n                            <table class=\"cc-table-fortnightly showondesktop displayblock\" summary=\"${i18n.accessFortnightlyRepayment}\">\n                            \t<caption class=\"hide\">${i18n.accessFortnightlyRepayment}</caption>\n                                <thead>\n                                    <tr class=\"row1\">\n                                        <th class=\"column1 t14b\" scope=\"col\" id=\"FRheader01\">${i18n.fortnightlyRepayment}</th>\n                                        <th class=\"column2 t14r\" scope=\"col\" id=\"FRheader02\">${i18n.loanPeriod}</th>\n                                        <th class=\"column3 t14r\" scope=\"col\" id=\"FRheader03\">${i18n.totalInterest}</th>\n                                        <th class=\"column4 t14r\" scope=\"col\" id=\"FRheader04\">${i18n.totalRepayment}</th>\n                                    </tr>\n                                </thead>\n                                <tbody class=\"t14r\">\n                                    <tr class=\"row2\">\n                                        <td class=\"column1\" headers=\"FRheader01\"><span class=\"t22l\" data-dojo-attach-point=\"fortnightlyRepaymentAmount\"></span></td>\n                                        <td class=\"column2\" headers=\"FRheader02\" data-dojo-attach-point=\"fortnightlyLoanPeriod\"></td>\n                                        <td class=\"column3\" headers=\"FRheader03\" data-dojo-attach-point=\"fortnightlyInterestPayable\"></td>\n                                        <td class=\"column4\" headers=\"FRheader04\" data-dojo-attach-point=\"fortnightlyTotalRepayment\"></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"l-twelve m-eight s-four columns showonmobile\">\n                        <hr/>\n                        <table cellspacing=\"0\" class=\"cc-table\" summary=\"${i18n.accessMonthlyRepayment}\">\n                        \t<caption class=\"hide\">${i18n.accessMonthlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.monthlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"monthlyRepaymentAmount1\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"monthlyLoanPeriod1\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"monthlyInterestPayable1\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"monthlyTotalRepayment1\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <hr/>\n                        <table cellspacing=\"0\" class=\"cc-table\" summary=\"${i18n.accessFortnightlyRepayment}\">\n                        \t<caption class=\"hide\">${i18n.accessFortnightlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.fortnightlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"fortnightlyRepaymentAmount1\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"fortnightlyLoanPeriod1\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"fortnightlyInterestPayable1\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"fortnightlyTotalRepayment1\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <!-- for tablet -->\n                <div class=\"row\">\n                    <div class=\"l-twelve m-eight s-four columns showontablet\">\n                        <hr/>\n                        <table cellspacing=\"15\" class=\"cc-table-monthly\" summary=\"${i18n.accessMonthlyRepayment}\">\n                        \t<caption class=\"hide\">${i18n.accessMonthlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.monthlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"monthlyRepaymentAmount2\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"monthlyLoanPeriod2\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"monthlyInterestPayable2\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"monthlyTotalRepayment2\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <hr/>\n                        <table cellspacing=\"15\" class=\"cc-table-fortnightly\" summary=\"${i18n.accessFortnightlyRepayment}\">\n                        \t<caption class=\"hide\">${i18n.accessFortnightlyRepayment}</caption>\n                            <thead>\n                                <tr class=\"row1\">\n                                    <th class=\"column1 t14b\" scope=\"col\">${i18n.fortnightlyRepayment}</th>\n                                    <th class=\"column2 t14r\" scope=\"col\">${i18n.loanPeriod}</th>\n                                    <th class=\"column3 t14r\" scope=\"col\">${i18n.totalInterest}</th>\n                                    <th class=\"column4 t14r\" scope=\"col\">${i18n.totalRepayment}</th>\n                                </tr>\n                            </thead>\n                            <tbody class=\"t14r\">\n                                <tr class=\"row2\">\n                                    <td class=\"column1\"><span class=\"t22l\" data-dojo-attach-point=\"fortnightlyRepaymentAmount2\"></span></td>\n                                    <td class=\"column2\" data-dojo-attach-point=\"fortnightlyLoanPeriod2\"></td>\n                                    <td class=\"column3\" data-dojo-attach-point=\"fortnightlyInterestPayable2\"></td>\n                                    <td class=\"column4\" data-dojo-attach-point=\"fortnightlyTotalRepayment2\"></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </form>\n            <div class=\"borrowdisclaim\">\n                <div class=\"rows\">\n                    <div class=\"l-twelve m-eight s-four columns\">\n                        <p class=\"t14r\"><span class=\"t14b\">${i18n.disclaimerTitle}</span><span class=\"dis-desc-color t14r\">${i18n.disclaimerDesc}</span></p>\n                    </div>\n                </div>\n            </div>\n            <div class=\"propertyval\">\n                <div class=\"rows\">\n                    <div class=\"l-twelve m-eight s-four columns\">\n                        <p class=\"ptext t16r\">${i18n.currentPriceFlat}</p>\n                        <a href=\"${i18n.propertyValUrl}\" id=\"Get Property Valuation\" class=\"secondaryaction primaryround\"><span>${i18n.getPropVal}</span></a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","url:hdx/bijits/tools/serviceFinder/templates/ServiceFinderListing.html":"<div class=\"resultlist-absl\">\n   <div class=\"branch-line-height\">\n      <div class=\"${shadowClass} branchicon\" style=\"background-color:${colorCode}\">${resultNumber}</div>\n      <span class=\"small-size t12r\">${facility}</span>\n      <a class=\"chvicon listings-anchor\" href=\"javascript:void(0);\">\n      <span class=\"t14b\">${name}</span>\n      <em class=\"chv primaryred\"></em>\n      </a>\n      <span class=\"small-size-distance t12r\">${distance}</span>\n      <p class=\"hideonmobile\">${address}</p>\n      <span class=\"hideondesktop t12r openToday\" data-dojo-attach-point=\"openTodayListings\"></span> \n      <span class=\"notOpenToday\" data-dojo-attach-point=\"notOpenTodayListings\"></span>\n   </div>\n   <hr class=\"branch-result-separator\">\n</div>","hdx/bijits/tools/cashInstalmentInterestCalculator/CashInstalmentCalculator":function(){require({cache:{"url:hdx/bijits/tools/cashInstalmentInterestCalculator/template/CashInstalmentCalculator.html":"<div class=\"tools w-tol-cnt-2 cash-instalment-calculator intresetcalculator-resources l-twelve m-eight s-four columns nopad\">\n    <div class=\"reusable-int-calc cashinstallmenttool\" id=\"intrestCalculator\">\n\n        <!-- Expand / Collapse  -->\n        <div class=\"l-twelve m-eight s-four columns mobile-pad-l mobile-pad-r\">\n            <!-- Mobile view heading -->\n            <p class=\"cal-heading showonmobile\" id=\"intrestCalculator-focus\">${i18n.repaymentCalctitle}</p>\n            <span class=\"collapse-control\" data-dojo-attach-point=\"collapseControl\">\n                <button class=\"expand\" type=\"button\" data-dojo-attach-event=\"click:clickShowDetail\" data-dojo-attach-point=\"showDetail\">\n                    <span class=\"hideonmobile\">${i18n.repaymentCalcShowDetailBtn}</span><em class=\"icon-chevron-down\"></em>\n                    <span class=\"accessibleHidden expandedSpan\">${i18n.accessShowDetail}</span>\n                </button>\n                <button class=\"collapse\" type=\"button\" data-dojo-attach-event=\"click:clickHideDetail\" data-dojo-attach-point=\"hideDetail\">\n                    <span class=\"hideonmobile\">${i18n.repaymentCalcHideDetailBtn}</span><em class=\"icon-chevron-up\"></em>\n                    <span class=\"accessibleHidden expandedSpan\">${i18n.accessHideDetail}</span>\n                </button>\n            </span>\n        </div>\n\n        <!-- Column 1 -->\n        <!-- Heading disclaimer section -->\n        <div class=\"l-four m-five s-four columns tab-first-col desktop-pad-l tablet-pad-l mobile-pad-l mobile-pad-r\">\n            <h3 class=\"cal-heading hideonmobile\" id=\"intrestCalculator-focus\">${i18n.repaymentCalctitle}</h3>\n            <div class=\"collapsed-hidden\">\n                <p class=\"\">${i18n.repaymentCalcHeading}</p>\n                <p class=\"cal-disclaimer disclaimer-desktop expanded-display\"><span>${i18n.repaymentCalcDisclaimer}</span></p>\n            </div>\n        </div>\n\n        <!-- Column 2 -->\n        <!-- Form components section -->\n        <div class=\"l-four m-five s-four columns tablet-pad-l mobile-pad-l mobile-pad-r collapsed-hidden\" data-dojo-attach-point=\"calcContent\">\n            <h4 class=\"heading t22l\">${i18n.column1Heading}</h4>\n            <div class=\"cal-form collapsed-hidden \">\n                <form action=\"\">\n\t\t\t\t\t<span class=\"t16r\">${i18n.repaymentCalcwithdrawlamt}</span>\n                    <div>\n                        <div data-dojo-attach-point=\"cashWithdrawalAmount\" style=\"width: 100%\" class=\"cal-enter-amount\">\n                        </div>\n                    </div>\n                    <div data-dojo-attach-point=\"cashWithdrawalAmountSlider\"><span class=\"accessibleHidden\" id=\"cashWithdrawalAmountSlider\" data-dojo-attach-point=\"cashWithdrawalAmountSliderSrt\" aria-live=\"polite\"></span></div>\n                    <div class=\"expanded-display\">\n                        <div class=\"l-six m-four s-four columns desktop-pad-l mobile-pad-l mobile-pad-r tablet-pad-l\">\n                            <div id=\"repaymentCalcMonthlyfeeLabel\" class=\"cal-od-days\">${i18n.repaymentCalcMonthlyfeeLabel}</div>\n                            <div >\n                                <div data-dojo-attach-point=\"monthlyHandlingFee\"  class=\"monthfee\" data-dojo-props=\"name: 'repaymentMonthlyFee'\"></div >\n                                <div data-dojo-attach-point=\"monthlyHandlingFeeSlider\"><span class=\"accessibleHidden\" id=\"monthlyHandlingFeeSlider\" data-dojo-attach-point=\"monthlyHandlingFeeSliderSrt\" aria-live=\"polite\"></span></div>\n                            </div>\n                        </div>\n                        <div class=\"l-six m-four s-four columns mobile-pad-l mobile-pad-r tablet-pad-r\">\n                            <div  class=\"cal-od-period\">${i18n.repaymentCalcrepaymentPeriod}\n                            </div>\n                            <div class=\"rep-dropdown\" >\n                                <span id=\"repaymentPeriod\" class=\"accessibleHidden\" >${i18n.repaymentCalcrepaymentPeriodLabel}</span >\n                                <div data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" aria-labelledby=\"repaymentPeriod\" data-dojo-props=\"maxHeight:'260',scrollOnFocus :true,forceWidth:true\"\n                                    data-dojo-attach-point=\"repaymentPeriod\" data-dojo-select-width=\"custmized\" data-dojo-custom-class=\"cashinstallmentmonthselect\" ></div >\n                            </div >\n                        </div>\n                        <div class=\"m-four columns arrowdown showonmobile mobile-arrrow-border\">\n                        </div>\n                    </div>\n                </form>\n                <div class=\"\">\n                    <p class=\"cal-disclaimer disclaimer-tablet expanded-display\"><span>${i18n.repaymentCalcDisclaimer}</span>\n                    </p>\n                </div>\n            </div>\n        </div>\n\n        <!-- Column 3 -->\n        <!-- Calculation results section -->\n\t\t<div class=\"l-four m-three s-four columns mobile-pad-l mobile-pad-r\">\n            \n            <div>\n            <div class=\"cal-int-col col3-first-val expanded-display\">\n                <h4 class=\"heading t22l\">${i18n.column2Heading}</h4>\n                <div class=\"column2-spacing\"></div>\n                <p id=\"${i18n.currency}\" class=\"col3-text bold\">${i18n.repaymentCalcRepaymentTitle}</p>\n                <div class=\"pos-relative\">\n\t                <span aria-labelledby=\"${i18n.currency}\" class=\"cal-int-currency\">${i18n.currency}</span>\n\t                <span class=\"cal-int-val\" data-dojo-attach-point=\"dailyInterestValue\"></span>\n                </div>\n                <p class=\"month-fee\">${i18n.repaymentCalcRepaymentdesc}</p>\n            </div>\n            <div class=\"cal-int-col expanded-display\">\n\t\t\t<p id=\"${i18n.currency}\" class=\"col3-text bold\">${i18n.repaymentCalcDailyAvgFeeText}</p>\n\t\t\t<div class=\"pos-relative\">\n\t                <span aria-labelledby=\"${i18n.currency}\" class=\"cal-int-currency\">${i18n.currency}</span>\n\t                <span class=\"cal-int-val remove-margin-b\" data-dojo-attach-point=\"totalPaymentValue\"></span>\n                \t<div class=\"pos-relative\"></div>\n\t\t\t</div>\n\t\t\t<div class=\" collapsehidedisc\" >\n\t\t\t\t<p class=\"cal-disclaimer od-cal-desc disclaimer-mobile expanded-display\" ><span >${i18n.repaymentCalcDisclaimer}</span ></p >\n\t\t\t</div >\n       \t </div>\n       \t </div>\n\t\t</div>\n\n        <!-- Collapsed Display -->\n        <!-- collapse view section -->\n        <div class=\"l-eight  m-six s-four columns tablet-pad-l tablet-pad-r mobile-pad-l mobile-pad-r collapsed-display\">\n            <div class=\"leftmontlyfee\">\n                <p class=\"daily-int-col\">${i18n.repaymentCalcRepaymentText}</p>\n                <p class=\"monthly-col\">\n                    <span class=\"daily-int-txt-col\">${i18n.currency}</span> \n                    <span class=\"overdraft-space-col\" data-dojo-attach-point=\"dailyInterestValue1\"></span>\t\t\t\n                </p>\n            </div>\n            <div class=\"rightmonthlyfee fees-padding\">\n                <p class=\"daily-int-col\">${i18n.repaymentCalcDailyAvgFeeText}</p>\n                <p class=\"monthly-col\">\n                    <span class=\"daily-int-txt-col\">${i18n.currency}</span> \n                    <span class=\"overdraft-space-col\" data-dojo-attach-point=\"totalPaymentValue1\"></span>\t\t\t\n                </p>\n            </div>\n           \n        </div>\n    </div>\n</div>"}});define("hdx/bijits/tools/cashInstalmentInterestCalculator/CashInstalmentCalculator",["dojo/_base/declare","dojo/dom-class","dijit/_TemplatedMixin","hsbc/_ECAMixin","dijit/_WidgetsInTemplateMixin","dijit/_WidgetBase","dojo/on","dijit/focus","dojo/_base/lang","dojo/query","dijit/registry","dojo/text!./template/CashInstalmentCalculator.html","hdx/dijits/reusableComponents/CustomizedTextBox","hdx/dijits/reusableComponents/CustomizedHorizontalRangeSlider","hsbc/eca!pws/Components/client/cashInstalmentInterestCalculator/config/CashInstalmentCalculatorConfig","hsbc/eca!pws/Components/client/cashInstalmentInterestCalculator/config/CashInstalmentCalPeriodList","dojo/number","hsbc/eca!dojo/i18n!pws/Components/client/cashInstalmentInterestCalculator/nls/CashInstalmentCalculator_nls","hsbc/utilities/CommonUtil","dojo/dom-attr","dojo/domReady!"],function(_58a,_58b,_58c,_58d,_58e,_58f,on,_590,lang,_591,_592,_593,_594,_595,_596,_597,_598,i18n,_599,_59a){return _58a("hdx.bijits.tools.cashInstalmentInterestCalculator.CashInstalmentCalculator",[_58f,_58c,_58e,_58d],{templateString:_593,i18n:i18n,cashWithdrawalAmountTextBox:null,cashWithdrawalAmountSliderBar:null,monthlyHandlingFeeTextBox:null,monthlyHandlingFeeSliderBar:null,trackingCountryCode:null,trackingTransactionTotal:null,trackingTransactionTimePeriod:null,postCreate:function(){this.repaymentCalflag=false;this.sliderEflag="";this.ratesliderFlag="";var _59b=this;_59b.createUIElement(_596);_59b.bindEvents();_59b.updateCalculationResult();},createUIElement:function(){var _59c=this;var _59d=_599.getConfiguration(_596.CashInstalmentCalculatorConfig);var _59e=(_59d.cashWithdrawalAmountType&&_59d.cashWithdrawalAmountType["default"])?_59d.cashWithdrawalAmountType["default"]:"";var _59f=(_59d.cashWithdrawalAmountPrefix&&_59d.cashWithdrawalAmountPrefix["default"])?_59d.cashWithdrawalAmountPrefix["default"]:"";_59f=(_59f&&i18n[_59f])?i18n[_59f]:_59f;var _5a0=(_59d.cashWithdrawalAmountSuffix&&_59d.cashWithdrawalAmountSuffix["default"])?_59d.cashWithdrawalAmountSuffix["default"]:"";_5a0=(_5a0&&i18n[_5a0])?i18n[_5a0]:_5a0;var _5a1=(_59d.cashWithdrawalAmountDefaultValue&&_59d.cashWithdrawalAmountDefaultValue["default"])?_59d.cashWithdrawalAmountDefaultValue["default"]:"";var _5a2=(_59d.cashWithdrawalAmountMinValue&&_59d.cashWithdrawalAmountMinValue["default"])?_59d.cashWithdrawalAmountMinValue["default"]:"";var _5a3=(_59d.cashWithdrawalAmountMaxValue&&_59d.cashWithdrawalAmountMaxValue["default"])?_59d.cashWithdrawalAmountMaxValue["default"]:"";var _5a4=(_59d.cashWithdrawalAmountDecimalPlaces&&_59d.cashWithdrawalAmountDecimalPlaces["default"])?_59d.cashWithdrawalAmountDecimalPlaces["default"]:"";var _5a5=(_59d.cashWithdrawalAmountIsMandatory&&_59d.cashWithdrawalAmountIsMandatory["default"])?_59d.cashWithdrawalAmountIsMandatory["default"]:"";_5a5=(_5a5==="Y")?true:false;var _5a6=(_59d.cashWithdrawalAmountDiscreteValue&&_59d.cashWithdrawalAmountDiscreteValue["default"])?_59d.cashWithdrawalAmountDiscreteValue["default"]:"";var _5a7=(_59d.monthlyHandlingFeeType&&_59d.monthlyHandlingFeeType["default"])?_59d.monthlyHandlingFeeType["default"]:"";var _5a8=(_59d.monthlyHandlingFeePrefix&&_59d.monthlyHandlingFeePrefix["default"])?_59d.monthlyHandlingFeePrefix["default"]:"";_5a8=(_5a8&&i18n[_5a8])?i18n[_5a8]:_5a8;var _5a9=(_59d.monthlyHandlingFeeSuffix&&_59d.monthlyHandlingFeeSuffix["default"])?_59d.monthlyHandlingFeeSuffix["default"]:"";_5a9=(_5a9&&i18n[_5a9])?i18n[_5a9]:_5a9;var _5aa=(_59d.monthlyHandlingFeeDefaultValue&&_59d.monthlyHandlingFeeDefaultValue["default"])?_59d.monthlyHandlingFeeDefaultValue["default"]:"";var _5ab=(_59d.monthlyHandlingFeeMinValue&&_59d.monthlyHandlingFeeMinValue["default"])?_59d.monthlyHandlingFeeMinValue["default"]:"";var _5ac=(_59d.monthlyHandlingFeeMaxValue&&_59d.monthlyHandlingFeeMaxValue["default"])?_59d.monthlyHandlingFeeMaxValue["default"]:"";var _5ad=(_59d.monthlyHandlingFeeDecimalPlaces&&_59d.monthlyHandlingFeeDecimalPlaces["default"])?_59d.monthlyHandlingFeeDecimalPlaces["default"]:"";var _5ae=(_59d.monthlyHandlingFeeIsMandatory&&_59d.monthlyHandlingFeeIsMandatory["default"])?_59d.monthlyHandlingFeeIsMandatory["default"]:"";_5ae=(_5ae==="Y")?true:false;var _5af=(_59d.monthlyHandlingFeeDiscreteValue&&_59d.monthlyHandlingFeeDiscreteValue["default"])?_59d.monthlyHandlingFeeDiscreteValue["default"]:"";this.cashWithdrawalAmountTextBox=new _594({type:_59e,labeltext:i18n.repaymentCalcwithdrawlamtTextbox,prefixText:_59f,suffixText:_5a0,maxAmount:_5a3,minAmount:_5a2,defaultAmount:_5a1,decimalPlaces:_5a4,validateMandatory:_5a5,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_cashWithdrawalAmountInvalid,invalidMsgDecimalPlaces:i18n.errMsg_cashWithdrawalDecimalPlace,invalidMsgAmountTooLarge:_599.replaceValidationErrMessage(i18n.errMsg_cashWithdrawalAmountTooLarge,_5a2,_5a3,_5a4),invalidMsgAmountTooSmall:_599.replaceValidationErrMessage(i18n.errMsg_cashWithdrawalAmountTooSmall,_5a2,_5a3,_5a4),invalidMsgEmpty:_599.replaceValidationErrMessage(i18n.errMsg_cashWithdrawalAmountEmpty,_5a2,_5a3,_5a4),updateInvalidValueWhenBlur:false});this.cashWithdrawalAmountTextBox.placeAt(this.cashWithdrawalAmount);this.cashWithdrawalAmountSliderBar=new _595({placeLocation:this.cashWithdrawalAmountSlider,inputHandler:this.cashWithdrawalAmountTextBox.textbox,decimalPlaces:_5a4,minValue:parseFloat(_5a2),maxValue:parseFloat(_5a3),value:parseFloat(_5a1),discreteValues:_5a6,name:"cashWithdrawalAmountSlider"+this.id,numberFormat:true,sliderButtons:false,currency:true,currencyLabel:i18n.currency,currencyLabelSuffix:(i18n.dollar)?i18n.dollar:"",labelText:i18n.repaymentCalcwithdrawlamtSlider});this.monthlyHandlingFeeTextBox=new _594({type:_5a7,labeltext:i18n.repaymentCalcMonthlyfeeTextbox,prefixText:_5a8,suffixText:_5a9,maxAmount:_5ac,minAmount:_5ab,defaultAmount:_5aa,decimalPlaces:_5ad,validateMandatory:_5ae,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_monthlyHandlingFeeInvalid,invalidMsgDecimalPlaces:i18n.errMsg_monthlyHandlingDecimalPlace,invalidMsgAmountTooLarge:_599.replaceValidationErrMessage(i18n.errMsg_monthlyHandlingFeeTooLarge,_5ab,_5ac,_5ad),invalidMsgAmountTooSmall:_599.replaceValidationErrMessage(i18n.errMsg_monthlyHandlingFeeTooSmall,_5ab,_5ac,_5ad),invalidMsgEmpty:_599.replaceValidationErrMessage(i18n.errMsg_monthlyHandlingFeeEmpty,_5ab,_5ac,_5ad),updateInvalidValueWhenBlur:false});this.monthlyHandlingFeeTextBox.placeAt(this.monthlyHandlingFee);this.monthlyHandlingFeeSliderBar=new _595({placeLocation:this.monthlyHandlingFeeSlider,inputHandler:this.monthlyHandlingFeeTextBox.textbox,decimalPlaces:_5ad,minValue:parseFloat(_5ab),maxValue:parseFloat(_5ac),value:parseFloat(_5aa),discreteValues:_5af,name:"monthlyHandlingFeeSlider"+this.id,sliderButtons:false,currency:false,interest:true,labelText:i18n.repaymentCalcMonthlyfeeSliderLabel});_59a.set(this.cashWithdrawalAmountTextBox,"aria-required","true");_59a.set(this.monthlyHandlingFeeTextBox,"aria-required","true");this.cashWithdrawalAmountSliderSrt.innerHTML=this.cashWithdrawalAmountTextBox.textbox.value;_59a.set(_592.byId(this.cashWithdrawalAmountSliderBar.name),"aria-describedby","cashWithdrawalAmountSlider");this.monthlyHandlingFeeSliderSrt.innerHTML=this.monthlyHandlingFeeTextBox.textbox.value;_59a.set(_592.byId(this.monthlyHandlingFeeSliderBar.name),"aria-describedby","monthlyHandlingFeeSlider");if(window.size==="large"){_58b.add(_59c.calcContent,"arrowright");}if(window.size==="small"){_58b.remove(_59c.calcContent,"arrowdown");_58b.add(_59c.calcContent,"arrowright");}this.loadRepaymentPeriodDropDown(this.repaymentPeriod,_597.CashInstalmentCalPeriodList);},bindEvents:function(){var _5b0=this;var _5b1=0;var _5b2=0;var _5b3=false;var _5b4=false;var _5b5=function(evt){evt.preventDefault();var _5b6=_599.getTextBoxValue(this.cashWithdrawalAmountTextBox);_5b0.sliderEflag="";if(this.cashWithdrawalAmountTextBox.isValid()){_5b6=_598.parse(_5b6);if(!isNaN(_5b6)){_5b0.sliderEflag="Typed";if(evt.keyCode>=48&&evt.keyCode<=57||evt.keyCode>=96&&evt.keyCode<=105||evt.keyCode===8){if((_5b2===_5b6)){this.cashWithdrawalAmountSliderSrt.innerHTML=this.cashWithdrawalAmountTextBox.textbox.value;_5b0.updateCalculationResult();}}_592.byId(this.cashWithdrawalAmountSliderBar.name).set("value",_5b6);_5b0.showDetailSearch();}else{_5b0.clearCalculationResult();}_5b2=_598.parse(_5b6);}else{_5b0.clearCalculationResult();}};var _5b7=function(){if(this.cashWithdrawalAmountTextBox.isValid()){var _5b8=_599.getTextBoxValue(this.cashWithdrawalAmountTextBox);this.cashWithdrawalAmountTextBox.textbox.value=_599.removeFormat(_5b8,this.cashWithdrawalAmountTextBox.decimalPlaces);}};var _5b9=function(self,_5ba){var _5bb=_599.getTextBoxValue(_5ba);if(_5ba.isValid()){_5bb=_598.parse(_5bb);if(!isNaN(_5bb)){_5ba.textbox.value=_599.decimalFormat(_5bb,_5ba.decimalPlaces);self.showDetailSearch();_5ba.setSuffix();}}};var _5bc=function(){_5b9(this,this.cashWithdrawalAmountTextBox);var _5bd=this._createTrackingEvent("click","Update");_5bd["event_content"]="Changed | Cash Withdrawal | input";_599.submitTealium(_5bd);};var _5be=function(evt){var rate=_599.getTextBoxValue(this.monthlyHandlingFeeTextBox);rate=_598.parse(rate);if(this.monthlyHandlingFeeTextBox.isValid()){var _5bf=_598.parse(rate);if(!isNaN(_5bf)){_5b0.sliderEflag="Typed";if(evt.keyCode>=48&&evt.keyCode<=57||evt.keyCode>=96&&evt.keyCode<=105||evt.keyCode===8){if((_5b1===_5bf)){this.monthlyHandlingFeeSliderSrt.innerHTML=this.monthlyHandlingFeeTextBox.textbox.value;_5b0.updateCalculationResult();}}_592.byId(this.monthlyHandlingFeeSliderBar.name).set("value",_5bf);this.showDetailSearch();}else{_5b0.clearCalculationResult();}_5b1=_598.parse(rate);}else{_5b0.clearCalculationResult();}};var _5c0=function(){};var _5c1=function(){_5b9(this,this.monthlyHandlingFeeTextBox);var _5c2=this._createTrackingEvent("click","Update");_5c2["event_content"]="Changed | Monthly handling fee | input";_599.submitTealium(_5c2);};on(this.cashWithdrawalAmountTextBox.textbox,"focus",lang.hitch(this,_5b7));on(this.cashWithdrawalAmountTextBox.textbox,"keyup",lang.hitch(this,_5b5));on(this.cashWithdrawalAmountTextBox.textbox,"blur",lang.hitch(this,_5bc));on(this.monthlyHandlingFeeTextBox.textbox,"focus",lang.hitch(this,_5c0));on(this.monthlyHandlingFeeTextBox.textbox,"keyup",lang.hitch(this,_5be));on(this.monthlyHandlingFeeTextBox.textbox,"blur",lang.hitch(this,_5c1));on(_592.byId(this.cashWithdrawalAmountSliderBar.name),"change",function(_5c3){_5b4=true;_5b0.cashWithdrawalAmountSliderBar.value=_5c3;if(_5b0.sliderEflag!=="Typed"){var _5c4=_5b0.cashWithdrawalAmountSliderBar.decimalPlaces;_5b0.cashWithdrawalAmountTextBox.textbox.value=_599.roundNumber(_5c3,2,_5c4);_599.removeValidationError(_5b0.cashWithdrawalAmountTextBox);}_5b0.cashWithdrawalAmountTextBox.setSuffix();if(_5b4){_5b0.cashWithdrawalAmountSliderSrt.innerHTML=_5b0.cashWithdrawalAmountTextBox.textbox.value;_5b0.updateCalculationResult();}else{_5b4=false;}_5b0.showDetailSearch();_5b0.sliderEflag="";});on(_592.byId(this.cashWithdrawalAmountSliderBar.name),"mouseup",function(_5c5){_5b0.updateCalculationResult();var _5c6=_5b0._createTrackingEvent("click","Update");_5c6["event_content"]="Changed | Cash Withdrawal | Slider";_599.submitTealium(_5c6);});on(_592.byId(this.monthlyHandlingFeeSliderBar.name),"change",lang.hitch(this,function(_5c7){_5b3=true;_5b0.monthlyHandlingFeeSliderBar.value=_5c7;if(_5b0.sliderEflag!=="Typed"){_5b0.monthlyHandlingFeeTextBox.textbox.value=_599.decimalFormat(_5c7,this.monthlyHandlingFeeTextBox.decimalPlaces);_599.removeValidationError(_5b0.monthlyHandlingFeeTextBox);}_5b0.monthlyHandlingFeeTextBox.setSuffix();if(_5b3){_5b0.monthlyHandlingFeeSliderSrt.innerHTML=_5b0.monthlyHandlingFeeTextBox.textbox.value;_5b0.updateCalculationResult();}else{slideRate=false;}_5b0.showDetailSearch();_5b0.sliderEflag="";}));on(_592.byId(this.monthlyHandlingFeeSliderBar.name),"mouseup",function(_5c8){_5b0.updateCalculationResult();var _5c9=_5b0._createTrackingEvent("click","Update");_5c9["event_content"]="Changed | Monthly handling fee | Slider";_599.submitTealium(_5c9);});_5b0.repaymentPeriod.on("change",function(evt){if(_5b0.cashWithdrawalAmountTextBox.isValid()&&_5b0.monthlyHandlingFeeTextBox.isValid()){_5b0.updateCalculationResult();var _5ca=_5b0._createTrackingEvent("click","Update");_5ca["event_content"]="Changed | Repayment Period | input";_599.submitTealium(_5ca);}});},loadRepaymentPeriodDropDown:function(wgt,data){if(data){var _5cb=[];for(var i=0;i<data.length;i++){var opt={label:data[i].desckey+i18n.months,value:data[i].id};_5cb.push(opt);}wgt.addOption(_5cb);}},updateCalculationResult:function(){if(!this.cashWithdrawalAmountTextBox.isValid()||!this.monthlyHandlingFeeTextBox.isValid()||!this.repaymentPeriod.value){this.clearCalculationResult();return;}var _5cc=_599.getTextBoxValue(this.cashWithdrawalAmountTextBox);var fee=_599.getTextBoxValue(this.monthlyHandlingFeeTextBox);var _5cd=this.repaymentPeriod.value;_5cc=_598.parse(_5cc);fee=_598.parse(fee);_5cd=_598.parse(_5cd);var _5ce=_5cc/_5cd+_5cc*fee/100;var _5cf=_5cc*fee/100/30;var _5d0=(i18n.dollar)?i18n.dollar:"";var _5d1=2;var _5d2=_599.decimalFormat(_5ce,_5d1)+_5d0;var _5d3=_599.decimalFormat(_5cf,_5d1)+_5d0;this.dailyInterestValue.innerHTML=_5d2;this.dailyInterestValue1.innerHTML=_5d2;this.totalPaymentValue.innerHTML=_5d3;this.totalPaymentValue1.innerHTML=_5d3;this.trackingCountryCode="HKD";this.trackingTransactionTimePeriod=_5cd;this.trackingTransactionTotal=_5ce*_5cd;},clearCalculationResult:function(){this.dailyInterestValue.innerHTML="";this.dailyInterestValue1.innerHTML="";this.totalPaymentValue.innerHTML="";this.totalPaymentValue1.innerHTML="";},_createTrackingEvent:function(type,_5d4){var _5d5={"tool_name":"ccRepaymentCalc","event_type":type,"event_action":"Repayment Calculator | "+_5d4};lang.mixin(_5d5,{"country_code":this.trackingCountryCode,"transaction_total":this.trackingTransactionTotal,"transaction_time_period":this.trackingTransactionTimePeriod});return _5d5;},showDetailSearch:function(){_58b.add(this.domNode,"tools-expanded");_58b.remove(this.domNode,"tools-collapsed");if(window.size==="large"){_58b.add(this.calcContent,"arrowright");}if(window.size==="small"){_58b.remove(this.calcContent,"arrowdown");_58b.add(this.calcContent,"arrowright");}},hideDetailSearch:function(){_58b.add(this.domNode,"tools-collapsed");_58b.remove(this.domNode,"tools-expanded");},showToolTip:function(_5d6){var _5d7=_5d6.currentTarget;var _5d8=_59a.get(_5d7,"data-for-tooltip");var _5d9=_59a.get(_5d7,"data-selected");var _5da=_591(_5d6.currentTarget);var _5db=_591(".reusable-int-calc.cashinstallmenttool .fhe-tooltip",this.domNode);var _5dc;if(_5d9=="false"){for(var i=0;i<_5db.length;i++){_5dc=_59a.get(_5db[i],"data-is-tooltip");if(_5dc===_5d8){_58b.remove(_5db[i],"hide");_59a.set(_5d7,"data-selected","true");_5da.children(".collapsedSpan").addClass("hide");_5da.children(".expandedSpan").removeClass("hide");break;}}}else{if(_5d9=="true"){for(i=0;i<_5db.length;i++){_5dc=_59a.get(_5db[i],"data-is-tooltip");if(_5dc===_5d8){_58b.add(_5db[i],"hide");_59a.set(_5d7,"data-selected","false");_5da.children(".collapsedSpan").removeClass("hide");_5da.children(".expandedSpan").addClass("hide");break;}}}}},clickShowDetail:function(_5dd){this.showDetailSearch();_590.focus(this.hideDetail);},clickHideDetail:function(_5de){this.hideDetailSearch();_590.focus(this.showDetail);}});});},"hdx/bijits/tools/overdraft/OverdraftCalculator":function(){require({cache:{"url:hdx/bijits/tools/overdraft/template/OverdraftCalculator.html":"<div custom_id=\"interestCalculator\" class=\"tools w-tol-cnt-2 overdraft-calculator intresetcalculator-resources l-twelve m-eight s-four columns nopad\">\n    <div class=\"reusable-int-calc overdraftdetails\">\n\n        <!-- Expand / Collapse  -->\n        <div class=\"l-twelve m-eight s-four columns mobile-pad-l mobile-pad-r\">\n            <!-- Mobile view heading -->\n            <p class=\"cal-heading showonmobile\" id=\"intrestCalculator-focus\">${i18n.toolHeader}</p>\n            <span class=\"collapse-control\" data-dojo-attach-point=\"collapseControl\">\n                <button class=\"expand\" type=\"button\" data-dojo-attach-event=\"click:clickShowDetail\" data-dojo-attach-point=\"showDetail\">\n                    <span class=\"hideonmobile\">${i18n.showLabel}</span><em class=\"icon-chevron-down\"></em>\n                    <span class=\"accessibleHidden expandedSpan\">${i18n.accessShowDetail}</span>\n                </button>\n                <button class=\"collapse\" type=\"button\" data-dojo-attach-event=\"click:clickHideDetail\" data-dojo-attach-point=\"hideDetail\">\n                    <span class=\"hideonmobile\">${i18n.hideLabel}</span><em class=\"icon-chevron-up\"></em>\n                    <span class=\"accessibleHidden expandedSpan\">${i18n.accessHideDetail}</span>\n                </button>\n            </span>\n        </div>\n\n        <!-- Column 1 -->\n        <!-- Heading, paragraph and disclaimer of desktop  -->\n        <div class=\"l-four m-five s-four columns tab-first-col desktop-pad-l tablet-pad-l mobile-pad-l mobile-pad-r\">\n            <h3 class=\"t28b cal-heading hideonmobile\" id=\"intrestCalculator-focus\">${i18n.toolHeader}</h3>\n            <p>${i18n.toolDescription}</p>\n            <div class=\"cal-disclaimer pewter hidetablet-mobile\" data-dojo-attach-point=\"discDesktop\">${i18n.disclaimer}</div>\n        </div>\n\n        <!-- Column 2 -->\n        <!-- form elements and disclaimer  -->\n        <div class=\"l-four m-five s-four columns tablet-pad-l mobile-pad-l mobile-pad-r collapsed-hidden\" data-dojo-attach-point=\"calcContent\">\n            <h4 class=\"heading t22l\">${i18n.column1Heading}</h4>\n            <div class=\"cal-form\">\n                <form action=\"\" name=\"OverdraftDetails-form\" >\n                    <a id=\"amountInfoIcon\" href=\"javascript:void(0);\" aria-expanded=\"false\" data-selected=\"false\" class=\"set-focus\" data-for-tooltip=\"amountToolTip\" data-dojo-attach-event=\"click:showToolTip\">\n                    <label for=\"overdraftAmount\" class=\"cal-od-amt\" ><h5 >${i18n.overdraftAmountLabel}</h5 >\n\t                     <span class=\"accessibleHidden expandedSpan\">Click here to Expand</span>\n\t        \t\t\t <span class=\"accessibleHidden collapsedSpan hide\">Click here to Collapse</span>\n                    <em class=\"icon-circle-info\" ></em ></label >\n                    </a>\n                    <div class=\"fhe-tooltip hide\" data-dojo-attach-point=\"amountremark\" data-is-tooltip=\"amountToolTip\" style=\"width:88%;\">\n                    </div>\n                    <div>\n                        <input class=\"cal-enter-amount\" id=\"overdraftAmount\" style=\"display: none\" />\n                        <div class=\"cal-enter-amount\" data-dojo-attach-point=\"overdraftAmount\"></div>\n                    </div>\n                    <div class = \"sliderLabelOverdraftCalculator\" data-dojo-attach-point=\"overdraftAmountSlider\"><span class=\"accessibleHidden\" id=\"overdraftAmountSlider\" data-dojo-attach-point=\"overdraftAmountSliderSrt\" aria-live=\"polite\"></span></div>\n                    <div class=\"hide\" data-dojo-attach-point=\"overdraftDaysSec\">\n                        <a id=\"daysInfoIcon\" aria-expanded=\"false\" data-selected=\"false\"  href=\"javascript:void(0);\" class=\"set-focus\" data-dojo-attach-event=\"click:showToolTip\" data-for-tooltip=\"daysToolTip\">\n                        <label for=\"overdraftDays\" class=\"cal-od-days\" ><span >${i18n.daysLabel}</span >\n\t                         <span class=\"accessibleHidden expandedSpan\">Click here to Expand</span>\n\t        \t\t\t\t <span class=\"accessibleHidden collapsedSpan hide\">Click here to Collapse</span>\n                        <em class=\"icon-circle-info\" ></em ></label >\n                        </a>\n                        <div class=\"fhe-tooltip hide\" data-is-tooltip=\"daysToolTip\" style=\"width:88%;\">\n                            <p>${i18n.daysRemarks}</p>\n                        </div>\n                        <div class=\"daystext\" >\n                            <input id=\"overdraftDays\" style=\"display:none\" />\n                            <div>\n                                <div data-dojo-attach-point=\"overdraftDays\" ></div>\n                            </div>\n                            <div data-dojo-attach-point=\"overdraftDaysSlider\" ></div>\n                        </div>\n                    </div>\n                    <div class=\"hide sliderLabelOverdraftCalculator\" data-dojo-attach-point=\"overdraftInterestRateSec\">\n                        <a id=\"rateInfoIcon\" aria-expanded=\"false\" data-selected=\"false\"  href=\"javascript:void(0);\" class=\"set-focus\" data-dojo-attach-event=\"click:showToolTip\" data-for-tooltip=\"rateToolTip\">\n                        <label for=\"overdraftInterestRate\" class=\"cal-od-days\" ><span >${i18n.interestRateLabel}</span >\n\t                         <span class=\"accessibleHidden expandedSpan\">Click here to Expand</span>\n\t        \t\t\t\t <span class=\"accessibleHidden collapsedSpan hide\">Click here to Collapse</span>\n                        <em class=\"icon-circle-info\" ></em ></label >\n                        </a>\n                        <div class=\"fhe-tooltip hide\" data-dojo-attach-point=\"interestremark\" data-is-tooltip=\"rateToolTip\" style=\"width:88%;\">\n                        </div>\n                        <div>\n                            <input class=\"cal-enter-days\" id=\"overdraftInterestRate\" style=\"display:none\" />\n                            <div class=\"percent-box\" data-dojo-attach-point=\"overdraftInterestRate\"></div>\n                        </div>\n                        <!-- <label for=\"overdraftInterestRateSlider\" class=\"hide\">${i18n.interestRateLabel}</label> -->\n                        <div data-dojo-attach-point=\"overdraftInterestRateSlider\" id=\"overdraftInterestRateSlider\"><span class=\"accessibleHidden\" id=\"overdraftRateSlider\" data-dojo-attach-point=\"overdraftRateSliderSrt\" aria-live=\"polite\"></span></div>\n                    </div>\n                </form>\n            </div>\n            <div class=\"showontablet\">\n                <div class=\"cal-disclaimer pewter\" data-dojo-attach-point=\"discTablet\">${i18n.disclaimer}</div>\n            </div>\n        </div>\n\n        <!-- Column 3 -->\n        <div class=\"l-four m-three s-four columns mobile-pad-l mobile-pad-r\">\n            <div class=\"expanded-display\">\n                <h4 class=\"heading t22l\">${i18n.column2Heading}</h4>\n                <div class=\"column2-spacing\"></div>\n                <div class=\"cal-int-col col3-first-val\" data-dojo-attach-point=\"interestSec\">\n                    <p class=\"col3-text\">${i18n.dailyInterestLabel}</p>\n                    <span class=\"cal-int-currency\">${i18n.currency}</span>\n                    <span class=\"cal-int-val\" data-dojo-attach-point=\"dailyInterest\"></span>\n                </div>\n                <div class=\"cal-int-col\" data-dojo-attach-point=\"repaymentSec\">\n                    <p class=\"col3-text\">${i18n.totalRepaymentLabel}</p>\n                    <span class=\"cal-int-currency\">${i18n.currency}</span>\n                    <span class=\"cal-int-val remove-margin-b\" data-dojo-attach-point=\"totalRepayment\"></span>\n                </div>\n            </div>\n            <div class=\"showonmobile\">\n                <div class=\"cal-disclaimer pewter\" data-dojo-attach-point=\"discMobile\">${i18n.disclaimer}</div>\n            </div>\n        </div>\n\n        <!-- Collapsed Display -->\n        <div class=\"l-eight m-five s-four columns mobile-pad-l mobile-pad-r tablet-pad-l tablet-pad-r collapsed-display\">\n            <div class=\"loan-info2\" >\n                <div class=\"col1\" >\n                    <p class=\"col-int\" >${i18n.dailyInterestLabel}</p >\n                    <div class=\"hkd-container\" >\n                        <span class=\"hkd\" >${i18n.currency}</span >\n                        <span class=\"hkd-amount\" data-dojo-attach-point=\"dailyInterest1\" > </span >\n                    </div >\n                </div >\n                <p ><span data-dojo-attach-point=\"collapsedResult\"></span></p >\n                <div class=\"cal-disclaimer pewter hidedesktop\" >${i18n.disclaimer}\n                </div >\n            </div >\n        </div >\n    </div>\n</div>\n"}});define("hdx/bijits/tools/overdraft/OverdraftCalculator",["dojo/_base/declare","dojo/dom-class","dijit/_TemplatedMixin","hsbc/_ECAMixin","dijit/_WidgetsInTemplateMixin","dijit/_WidgetBase","dojo/on","dojo/_base/lang","dojo/query","dijit/registry","dojo/dom-attr","dojo/text!./template/OverdraftCalculator.html","hdx/dijits/reusableComponents/CustomizedTextBox","hdx/dijits/reusableComponents/CustomizedHorizontalRangeSlider","hsbc/eca!pws/Components/client/overdraft/config/OverdraftCalculatorConfig","dojo/_base/window","dojo/number","hsbc/eca!dojo/i18n!pws/Components/client/overdraft/nls/OverdraftCalculator_nls","dijit/focus","dojo/ready","hsbc/utilities/CommonUtil","dojo/domReady!"],function(_5df,_5e0,_5e1,_5e2,_5e3,_5e4,on,lang,_5e5,_5e6,_5e7,_5e8,_5e9,_5ea,_5eb,win,_5ec,i18n,_5ed,_5ee,_5ef){return _5df("hdx.bijits.tools.overdraft.OverdraftCalculator",[_5e4,_5e1,_5e3,_5e2],{templateString:_5e8,i18n:i18n,toolType:"A",defaultAnnualInterestRate:"0",overdraftAmountTextBox:null,overdraftAmountSliderBar:null,overdraftInterestRateTextBox:null,overdraftInterestSliderBar:null,overdraftDaysTextBox:null,overdraftDaysTextSliderBar:null,trackingCountryCode:null,trackingTransactionTotal:null,postCreate:function(){var _5f0=this;this.repaymentCalflag=false;_5f0.sliderEflag="";this.createRemark(this.amountremark,"overdraftAmountRemarks");this.createRemark(this.interestremark,"interestRateRemarks");_5f0.setToolType();_5f0.createUIElement(_5eb);_5f0.bindEvents();_5f0.updateCalculationResult();},createRemark:function(_5f1,_5f2){var _5f3=this.getRemarks(_5f2);var _5f4=document.createElement("div");var _5f5=(i18n[_5f3])?(i18n[_5f3]):(i18n[_5f2]);_5f4.innerHTML=_5f5;_5f1.appendChild(_5f4);},getRemarks:function(_5f6){var _5f7="";var data=dojo.fromJson(this["data-ext-props"]);if(data){_5f7=data[_5f6];}return _5f7;},setToolType:function(){var _5f8="A";var _5f9="0";var data=dojo.fromJson(this["data-ext-props"]);if(data&&data.toolType){_5f8=data.toolType;_5f9=data.defaultAnnualInterestRate;}this.toolType=_5f8;this.defaultAnnualInterestRate=_5f9;},createUIElement:function(){var _5fa=_5ef.getConfiguration(_5eb.OverdraftCalculatorConfig);var _5fb=(_5fa.overdraftAmountType&&_5fa.overdraftAmountType["default"])?_5fa.overdraftAmountType["default"]:"";var _5fc=(_5fa.overdraftAmountPrefix&&_5fa.overdraftAmountPrefix["default"])?_5fa.overdraftAmountPrefix["default"]:"";_5fc=(_5fc&&i18n[_5fc])?i18n[_5fc]:_5fc;var _5fd=(_5fa.overdraftAmountSuffix&&_5fa.overdraftAmountSuffix["default"])?_5fa.overdraftAmountSuffix["default"]:"";_5fd=(_5fd&&i18n[_5fd])?i18n[_5fd]:_5fd;var _5fe=(_5fa.overdraftAmountDefaultValue&&_5fa.overdraftAmountDefaultValue["default"])?_5fa.overdraftAmountDefaultValue["default"]:"";var _5ff=(_5fa.overdraftAmountMinValue&&_5fa.overdraftAmountMinValue["default"])?_5fa.overdraftAmountMinValue["default"]:"";var _600=(_5fa.overdraftAmountMaxValue&&_5fa.overdraftAmountMaxValue["default"])?_5fa.overdraftAmountMaxValue["default"]:"";var _601=(_5fa.overdraftAmountDecimalPlaces&&_5fa.overdraftAmountDecimalPlaces["default"])?_5fa.overdraftAmountDecimalPlaces["default"]:"";var _602=(_5fa.overdraftAmountIsMandatory&&_5fa.overdraftAmountIsMandatory["default"])?_5fa.overdraftAmountIsMandatory["default"]:"";_602=(_602==="Y")?true:false;var _603=(_5fa.overdraftAmountDiscreteValue&&_5fa.overdraftAmountDiscreteValue["default"])?_5fa.overdraftAmountDiscreteValue["default"]:"";var _604=(_5fa.overdraftInterestRateType&&_5fa.overdraftInterestRateType["default"])?_5fa.overdraftInterestRateType["default"]:"";var _605=(_5fa.overdraftInterestRatePrefix&&_5fa.overdraftInterestRatePrefix["default"])?_5fa.overdraftInterestRatePrefix["default"]:"";var _606=(_5fa.overdraftInterestRateSuffix&&_5fa.overdraftInterestRateSuffix["default"])?_5fa.overdraftInterestRateSuffix["default"]:"";var _607=(_5fa.overdraftInterestRateDefaultValue&&_5fa.overdraftInterestRateDefaultValue["default"])?_5fa.overdraftInterestRateDefaultValue["default"]:"";var _608=(_5fa.overdraftInterestRateMinValue&&_5fa.overdraftInterestRateMinValue["default"])?_5fa.overdraftInterestRateMinValue["default"]:"";var _609=(_5fa.overdraftInterestRateMaxValue&&_5fa.overdraftInterestRateMaxValue["default"])?_5fa.overdraftInterestRateMaxValue["default"]:"";var _60a=(_5fa.overdraftInterestRateDecimalPlaces&&_5fa.overdraftInterestRateDecimalPlaces["default"])?_5fa.overdraftInterestRateDecimalPlaces["default"]:"";var _60b=(_5fa.overdraftInterestRateIsMandatory&&_5fa.overdraftInterestRateIsMandatory["default"])?_5fa.overdraftInterestRateIsMandatory["default"]:"";_60b=(_60b==="Y")?true:false;var _60c=(_5fa.overdraftInterestRateDiscreteValue&&_5fa.overdraftInterestRateDiscreteValue["default"])?_5fa.overdraftInterestRateDiscreteValue["default"]:"";var _60d=(_5fa.overdraftDaysType&&_5fa.overdraftDaysType["default"])?_5fa.overdraftDaysType["default"]:"";var _60e=(_5fa.overdraftDaysPrefix&&_5fa.overdraftDaysPrefix["default"])?_5fa.overdraftDaysPrefix["default"]:"";var _60f=(_5fa.overdraftDaysSuffix&&_5fa.overdraftDaysSuffix["default"])?_5fa.overdraftDaysSuffix["default"]:"";var _610=(_5fa.overdraftDaysDefaultValue&&_5fa.overdraftDaysDefaultValue["default"])?_5fa.overdraftDaysDefaultValue["default"]:"";var _611=(_5fa.overdraftDaysMinValue&&_5fa.overdraftDaysMinValue["default"])?_5fa.overdraftDaysMinValue["default"]:"";var _612=(_5fa.overdraftDaysMaxValue&&_5fa.overdraftDaysMaxValue["default"])?_5fa.overdraftDaysMaxValue["default"]:"";var _613=(_5fa.overdraftDaysDecimalPlaces&&_5fa.overdraftDaysDecimalPlaces["default"])?_5fa.overdraftDaysDecimalPlaces["default"]:"";var _614=(_5fa.overdraftDaysIsMandatory&&_5fa.overdraftDaysIsMandatory["default"])?_5fa.overdraftDaysIsMandatory["default"]:"";_614=(_614==="Y")?true:false;var _615=(_5fa.overdraftDaysDiscreteValue&&_5fa.overdraftDaysDiscreteValue["default"])?_5fa.overdraftDaysDiscreteValue["default"]:"";this.overdraftAmountTextBox=new _5e9({type:_5fb,labeltext:i18n.overdraftAmountTextbox,prefixText:_5fc,suffixText:_5fd,maxAmount:_600,minAmount:_5ff,defaultAmount:_5fe,decimalPlaces:_601,validateMandatory:_602,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_overdraftAmountInvalid,invalidMsgDecimalPlaces:i18n.errMsg_overdraftAmountDecimalPlace,invalidMsgAmountTooLarge:_5ef.replaceValidationErrMessage(i18n.errMsg_overdraftAmountTooLarge,_5ff,_600,_601),invalidMsgAmountTooSmall:_5ef.replaceValidationErrMessage(i18n.errMsg_overdraftAmountTooSmall,_5ff,_600,_601),invalidMsgEmpty:_5ef.replaceValidationErrMessage(i18n.errMsg_overdraftAmountEmpty,_5ff,_600,_601),updateInvalidValueWhenBlur:false});this.overdraftAmountTextBox.placeAt(this.overdraftAmount);this.overdraftAmountSliderBar=new _5ea({placeLocation:this.overdraftAmountSlider,inputHandler:this.overdraftAmountTextBox.textbox,minValue:parseFloat(_5ff),maxValue:parseFloat(_600),decimalPlaces:_601,value:parseFloat(_5fe),name:"overdraftAmountSlider"+this.id,sliderButtons:false,currency:true,currencyLabel:i18n.currency,currencyLabelSuffix:(i18n.dollar)?(i18n.dollar):"",discreteValues:_603,labelText:i18n.overdraftAmountSlider});this.overdraftDaysTextBox=new _5e9({type:_60d,labeltext:i18n.overdraftDaysSlider,prefixText:_60e,suffixText:_60f,maxAmount:_612,minAmount:_611,defaultAmount:_610,decimalPlaces:_613,validateMandatory:_614,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_overdraftDaysInvalid,invalidMsgAmountTooLarge:_5ef.replaceValidationErrMessage(i18n.errMsg_overdraftDaysTooLarge,_611,_612,_613),invalidMsgAmountTooSmall:_5ef.replaceValidationErrMessage(i18n.errMsg_overdraftDaysTooSmall,_611,_612,_613),invalidMsgEmpty:_5ef.replaceValidationErrMessage(i18n.errMsg_overdraftDaysEmpty,_611,_612,_613),updateInvalidValueWhenBlur:false});this.overdraftDaysTextBox.placeAt(this.overdraftDays);this.overdraftDaysSliderBar=new _5ea({placeLocation:this.overdraftDaysSlider,inputHandler:this.overdraftDaysTextBox.textbox,minValue:parseFloat(_611),maxValue:parseFloat(_612),decimalPlaces:_613,value:parseFloat(_610),name:"overdraftDaysSlider"+this.id,sliderButtons:false,currency:false,discreteValues:_615,labelText:i18n.overdraftDaysSlider});this.overdraftInterestRateTextBox=new _5e9({type:_604,labeltext:i18n.interestRateTextbox,prefixText:_605,suffixText:_606,maxAmount:_609,minAmount:_608,defaultAmount:_607,decimalPlaces:_60a,validateMandatory:_60b,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_overdraftInterestRateInvalid,invalidMsgDecimalPlaces:i18n.errMsg_overdraftInterestDecimalPlace,invalidMsgAmountTooLarge:_5ef.replaceValidationErrMessage(i18n.errMsg_overdraftInterestRateTooLarge,_608,_609,_60a),invalidMsgAmountTooSmall:_5ef.replaceValidationErrMessage(i18n.errMsg_overdraftInterestRateTooSmall,_608,_609,_60a),invalidMsgEmpty:_5ef.replaceValidationErrMessage(i18n.errMsg_overdraftInterestRateEmpty,_608,_609,_60a),updateInvalidValueWhenBlur:false});this.overdraftInterestRateTextBox.placeAt(this.overdraftInterestRate);this.overdraftInterestRateSliderBar=new _5ea({placeLocation:this.overdraftInterestRateSlider,inputHandler:this.overdraftInterestRateTextBox.textbox,minValue:parseFloat(_608),maxValue:parseFloat(_609),decimalPlaces:_60a,value:parseFloat(_607),name:"overdraftInterestRateSlider"+this.id,sliderButtons:false,currency:false,interest:true,discreteValues:_60c,labelText:i18n.overdraftInterestRateSlider});_5e7.set(this.overdraftAmountTextBox,"aria-required","true");_5e7.set(this.overdraftDaysTextBox,"aria-required","true");_5e7.set(this.overdraftInterestRateTextBox,"aria-required","true");this.overdraftAmountSliderSrt.innerHTML=this.overdraftAmountTextBox.textbox.value;_5e7.set(_5e6.byId(this.overdraftAmountSliderBar.name),"aria-describedby","overdraftAmountSlider");this.overdraftRateSliderSrt.innerHTML=this.overdraftInterestRateTextBox.textbox.value;_5e7.set(_5e6.byId(this.overdraftInterestRateSliderBar.name),"aria-describedby","overdraftRateSlider");},bindEvents:function(){var _616=this;var _617=false;var _618=0;var _619=false;var _61a=0;var _61b=function(_61c){_61c.preventDefault();var _61d=_5ef.getTextBoxValue(this.overdraftAmountTextBox);_61d=_5ec.parse(_61d);if(this.overdraftAmountTextBox.isValid()){var _61e=_5ec.parse(_61d);if(!isNaN(_61e)){_616.sliderEflag="Typed";if(_61c.keyCode>=48&&_61c.keyCode<=57||_61c.keyCode>=96&&_61c.keyCode<=105||_61c.keyCode===8){if(_618===_61e){this.overdraftAmountSliderSrt.innerHTML=this.overdraftAmountTextBox.textbox.value;this.updateCalculationResult();}}_5e6.byId(this.overdraftAmountSliderBar.name).set("value",_61e);}_618=_5ec.parse(_61d);}else{_616.clearCalculationResult();}this.showDetailSearch();};var _61f=function(){if(this.overdraftAmountTextBox.isValid()){var _620=_5ef.getTextBoxValue(this.overdraftAmountTextBox);this.overdraftAmountTextBox.textbox.value=_5ef.removeFormat(_620,this.overdraftAmountTextBox.decimalPlaces);}};var _621=function(){var _622=_5ef.getTextBoxValue(this.overdraftAmountTextBox);_622=_5ec.parse(_622);if(this.overdraftAmountTextBox.isValid()){var _623=_5ec.parse(_622);if(!isNaN(_623)){this.overdraftAmountTextBox.textbox.value=_5ef.decimalFormat(_622,this.overdraftAmountTextBox.decimalPlaces);this.overdraftAmountTextBox.setSuffix();var _624=this._createTrackingEvent("click","Update");_624["event_content"]="Changed | credit amount | input";_5ef.submitTealium(_624);}}this.showDetailSearch();};var _625=function(){updateDaysFlag=false;var days=_5ef.getTextBoxValue(this.overdraftDaysTextBox);days=_5ec.parse(days);if(this.overdraftDaysTextBox.isValid()){var _626=_5ec.parse(days);if(!isNaN(_626)){_616.sliderEflag="Typed";if(updateDaysFlag===false){this.updateCalculationResult();}_5e6.byId(this.overdraftAmountSliderBar.name).set("value",_626);}}else{_616.clearCalculationResult();}this.showDetailSearch();updateDaysFlag=this.overdraftDaysTextBox.isValid();};var _627=function(){if(this.overdraftDaysTextBox.isValid()){var days=_5ef.getTextBoxValue(this.overdraftDaysTextBox);days=_5ec.parse(days);this.overdraftDaysTextBox.textbox.value=days;}};var _628=function(){var days=_5ef.getTextBoxValue(this.overdraftDaysTextBox);days=_5ec.parse(days);if(this.overdraftDaysTextBox.isValid()){var _629=_5ec.parse(days);if(!isNaN(_629)){this.overdraftDaysTextBox.textbox.value=_629;}}this.showDetailSearch();};var _62a=function(_62b){_62b.preventDefault();var rate=_5ef.getTextBoxValue(this.overdraftInterestRateTextBox);rate=_5ec.parse(rate);if(this.overdraftInterestRateTextBox.isValid()){var _62c=_5ec.parse(rate);if(!isNaN(_62c)){_616.sliderEflag="Typed";if(_62b.keyCode>=48&&_62b.keyCode<=57||_62b.keyCode>=96&&_62b.keyCode<=105||_62b.keyCode===8){if(_61a===_62c){this.overdraftRateSliderSrt.innerHTML=this.overdraftInterestRateTextBox.textbox.value;this.updateCalculationResult();}}_5e6.byId(this.overdraftInterestRateSliderBar.name).set("value",_62c);}_61a=_5ec.parse(rate);}else{_616.clearCalculationResult();}this.showDetailSearch();};var _62d=function(_62e){if(this.overdraftInterestRateTextBox.isValid()){}};var _62f=function(){var rate=_5ef.getTextBoxValue(this.overdraftInterestRateTextBox);rate=_5ec.parse(rate);if(this.overdraftInterestRateTextBox.isValid()){var _630=_5ec.parse(rate);if(!isNaN(_630)){this.overdraftInterestRateTextBox.textbox.value=_5ef.decimalFormat(rate,this.overdraftInterestRateTextBox.decimalPlaces);var _631=this._createTrackingEvent("click","Update");_631["event_content"]="Changed | interest rate | input";_5ef.submitTealium(_631);}}this.showDetailSearch();};on(this.overdraftAmountTextBox.textbox,"focus",lang.hitch(this,_61f));on(this.overdraftAmountTextBox.textbox,"keyup",lang.hitch(this,_61b));on(this.overdraftAmountTextBox.textbox,"blur",lang.hitch(this,_621));on(this.overdraftDaysTextBox.textbox,"focus",lang.hitch(this,_627));on(this.overdraftDaysTextBox.textbox,"keyup",lang.hitch(this,_625));on(this.overdraftDaysTextBox.textbox,"blur",lang.hitch(this,_628));on(this.overdraftInterestRateTextBox.textbox,"focus",lang.hitch(this,_62d));on(this.overdraftInterestRateTextBox.textbox,"keyup",lang.hitch(this,_62a));on(this.overdraftInterestRateTextBox.textbox,"blur",lang.hitch(this,_62f));on(_5e6.byId(this.overdraftAmountSliderBar.name),"change",function(_632){_617=true;_616.overdraftAmountSliderBar.value=_632;if(_616.sliderEflag!=="Typed"){_616.overdraftAmountTextBox.textbox.value=_5ef.roundNumber(_632,2,_616.overdraftAmountSliderBar.decimalPlaces,_616.overdraftAmountSliderBar.minValue,_616.overdraftAmountSliderBar.maxValue);_5ef.removeValidationError(_616.overdraftAmountTextBox);}_616.overdraftAmountTextBox.setSuffix();if(_617){_616.overdraftAmountSliderSrt.innerHTML=_616.overdraftAmountTextBox.textbox.value;_616.updateCalculationResult();}else{_617=false;}_616.showDetailSearch();_616.sliderEflag="";});on(_5e6.byId(this.overdraftAmountSliderBar.name),"mouseup",function(_633){_616.updateCalculationResult();var _634=_616._createTrackingEvent("click","Update");_634["event_content"]="Changed | credit amount | Slider";_5ef.submitTealium(_634);});on(_5e6.byId(this.overdraftDaysSliderBar.name),"change",function(_635){if(_616.sliderEflag!=="Typed"){_616.overdraftDaysTextBox.textbox.value=Math.round(_635);_5ef.removeValidationError(_616.overdraftDaysTextBox);}_616.overdraftDaysSliderBar.value=_635;_616.updateCalculationResult();_616.showDetailSearch();_616.sliderEflag="";});on(_5e6.byId(this.overdraftDaysSliderBar.name),"mouseup",function(_636){_616.updateCalculationResult();});on(_5e6.byId(this.overdraftInterestRateSliderBar.name),"change",function(_637){_619=true;if(_616.sliderEflag!=="Typed"){_616.overdraftInterestRateTextBox.textbox.value=_5ef.decimalFormat(_637,_616.overdraftInterestRateSliderBar.decimalPlaces);_5ef.removeValidationError(_616.overdraftInterestRateTextBox);}_616.overdraftInterestRateTextBox.setSuffix();_616.overdraftInterestRateSliderBar.value=_637;if(_619){_616.overdraftRateSliderSrt.innerHTML=_616.overdraftInterestRateTextBox.textbox.value;_616.updateCalculationResult();}else{_619=false;}_616.showDetailSearch();_616.sliderEflag="";});on(_5e6.byId(this.overdraftInterestRateSliderBar.name),"mouseup",function(_638){_616.updateCalculationResult();var _639=_616._createTrackingEvent("click","Update");_639["event_content"]="Changed | interest rate | Slider";_5ef.submitTealium(_639);});},updateCalculationResult:function(){if(!this.overdraftAmountTextBox.isValid()||!this.overdraftDaysTextBox.isValid()||!this.overdraftInterestRateTextBox.isValid()){this.clearCalculationResult();return;}var _63a=_5ef.getTextBoxValue(this.overdraftAmountTextBox);var days=_5ef.getTextBoxValue(this.overdraftDaysTextBox);var rate=_5ef.getTextBoxValue(this.overdraftInterestRateTextBox);if(i18n.result1){this.collapsedResult.innerHTML=i18n.result1.replace("{0}",_63a).replace("{1}",rate);}_63a=_5ec.parse(_63a);days=_5ec.parse(days);rate=_5ec.parse(rate);var _63b=0;if(this.toolType==="A"){_63b=rate;}else{if(this.toolType==="B"){_63b=_5ec.parse(this.defaultAnnualInterestRate);}}var _63c=(i18n.dollar)?(i18n.dollar):"";var _63d=_63a*(_63b/100/365);var _63e=2;var _63f=_5ef.decimalFormat(_63d,_63e)+_63c;this.dailyInterest.innerHTML=_63f;this.dailyInterest1.innerHTML=_63f;var _640=_63a+(_63d*days);this.totalRepayment.innerHTML=_5ef.decimalFormat(_640,_63e)+_63c;this.trackingCountryCode="HKD";this.trackingTransactionTotal=_63a;},clearCalculationResult:function(){this.collapsedResult.innerHTML="";this.dailyInterest.innerHTML="";this.dailyInterest1.innerHTML="";this.totalRepayment.innerHTML="";},_createTrackingEvent:function(type,_641){var _642={"tool_name":"overdraftsintCal","event_type":type,"event_action":"Overdraft Interest Calculator | "+_641};lang.mixin(_642,{"country_code":this.trackingCountryCode,"transaction_total":this.trackingTransactionTotal});return _642;},showDetailSearch:function(_643){_5e0.add(this.domNode,"tools-expanded");_5e0.remove(this.domNode,"tools-collapsed");if(this.toolType=="A"){_5e0.remove(this.overdraftInterestRateSec,"hide");_5e0.add(this.repaymentSec,"hide");}else{if(this.toolType=="B"){_5e0.remove(this.overdraftDaysSec,"hide");}}_5e0.add(this.calcContent,"arrowright");if(window.size==="large"){_5e0.remove(this.discDesktop,"hide");}else{if(window.size==="medium"){_5e0.remove(this.discTablet,"hide");}else{if(window.size==="small"){_5e0.add(this.calcContent,"arrowdown");_5e0.remove(this.calcContent,"arrowright");_5e0.remove(this.discMobile,"hide");}}}if(_643){_5ed.focus(this.hideDetail);_5ed.focus(this.showDetail);}},hideDetailSearch:function(_644){_5e0.add(this.domNode,"tools-collapsed");_5e0.remove(this.domNode,"tools-expanded");_5e0.add(this.overdraftDaysSec,"hide");_5e0.add(this.overdraftInterestRateSec,"hide");var _645=win.global.innerWidth;if(window.size==="medium"){_5e0.add(this.discTablet,"hide");}else{if(window.size==="small"){_5e0.add(this.discMobile,"hide");}}_5ed.focus(this.showDetail);if(_644){_5ed.focus(this.hideDetail);_5ed.focus(this.showDetail);}},clickShowDetail:function(_646){this.showDetailSearch();_5ed.focus(this.hideDetail);},clickHideDetail:function(_647){this.hideDetailSearch();_5ed.focus(this.showDetail);},showToolTip:function(_648){var _649=_648.currentTarget;var _64a=_5e7.get(_649,"data-for-tooltip");var _64b=_5e7.get(_649,"data-selected");var _64c=_5e5(".reusable-int-calc.overdraftdetails .fhe-tooltip",this.domNode);var _64d;if(_64b=="false"){for(var i=0;i<_64c.length;i++){var _64d=_5e7.get(_64c[i],"data-is-tooltip");if(_64d===_64a){_5e0.remove(_64c[i],"hide");_5e7.set(_649,"data-selected","true");_5e7.set(_649,"aria-expanded","true");_5e0.toggle(_5e5(".expandedSpan",_649)[0],"hide");_5e0.toggle(_5e5(".collapsedSpan",_649)[0],"hide");break;}}}else{if(_64b=="true"){for(i=0;i<_64c.length;i++){_64d=_5e7.get(_64c[i],"data-is-tooltip");if(_64d===_64a){_5e0.add(_64c[i],"hide");_5e7.set(_649,"data-selected","false");_5e7.set(_649,"aria-expanded","false");_5e0.toggle(_5e5(".expandedSpan",_649)[0],"hide");_5e0.toggle(_5e5(".collapsedSpan",_649)[0],"hide");break;}}}}}});});},"hdx/dijits/reusableComponents/DateInput":function(){require({cache:{"url:hdx/dijits/reusableComponents/templates/DateInput.html":"<div class=\"dijit dijitReset dijitInline dijitLeft dijitDateInput\" id=\"widget_${id}\" role=\"presentation\" data-dojo-attach-point=\"mainValidatorInputDiv\" >\n    <div class=\"dijitReset dijitInputField dijitInputContainer\" style=\"position: relative\" >\n        <!--<span data-dojo-attach-point=\"prefix\" ></span >-->\n\n        <div data-dojo-attach-point=\"textBox\" class=\"textBoxDiv\" >\n            <input data-dojo-attach-point='textbox' type=\"hidden\"/><span class=\"accessibleHidden\" id=\"${id}_dayAccessibleLabel\"\n            >${dayAccessibleLabel}</span><input \n                   class=\"dayInput focusable dijitReset dijitInputInner\"\n                   data-dojo-attach-point='dayTextbox,focusNode' autocomplete=\"off\" ${!nameAttrSetting}\n                   type=\"text\" maxlength=\"2\" placeholder=\"${dayPlaceholder}\" id=\"${id}_dayTextbox\" aria-labelledby=\"${id}_dayAccessibleLabel\"/><label class=\"accessibleHidden\" for=\"${id}_monthTextbox\" id=\"${id}_monthAccessibleLabel\"\n            >${monthAccessibleLabel}</label><input \n                   class=\"monthInput focusable dijitReset dijitInputInner\"\n                   data-dojo-attach-point='monthTextbox' autocomplete=\"off\" ${!nameAttrSetting}\n                   type=\"text\" maxlength=\"2\" placeholder=\"${monthPlaceholder}\" id=\"${id}_monthTextbox\" aria-labelledby=\"${id}_monthAccessibleLabel\"/><label class=\"accessibleHidden\" for=\"${id}_yearTextbox\" id=\"${id}_yearAccessibleLabel\"\n            >${yearAccessibleLabel}</label><input \n                   class=\"yearInput focusable dijitReset dijitInputInner\"\n                   data-dojo-attach-point='yearTextbox' autocomplete=\"off\" ${!nameAttrSetting}\n                   type=\"text\" maxlength=\"4\" placeholder=\"${yearPlaceholder}\" id=\"${id}_yearTextbox\" aria-labelledby=\"${id}_yearAccessibleLabel\"/>\n        </div >\n        <div style=\"display:none; \" data-dojo-attach-point=\"textValue\" ></div>\n        <!--<span data-dojo-attach-point=\"suffix\" style=\"position: absolute\"></span>-->\n    </div >\n    ${!errorMessageTemplate}\n</div>"}});define("hdx/dijits/reusableComponents/DateInput",["dojo/_base/declare","hdx/dijits/reusableComponents/CustomizedTextBox","hdx/dijits/reusableComponents/_ErrorMessageMixin","dojo/text!./templates/DateInput.html","dojo/_base/lang","dojo/date/locale","dojo/query","dojo/number","dojo/on","dojo/dom-attr"],function(_64e,_64f,_650,_651,lang,_652,_653,_654,on,_655){return _64e("hdx.dijits.reusableComponents.DateInput",[_64f,_650],{templateString:_651,dayAccessibleLabel:"",monthAccessibleLabel:"",yearAccessibleLabel:"",dayPlaceholder:"",monthPlaceholder:"",yearPlaceholder:"",buildRendering:function(){this.inherited(arguments);this.own(on(this.dayTextbox,"blur",lang.hitch(this,function(){var date=_652.parse(this.dayTextbox.value,{selector:"date",datePattern:"dd"});if(date){var day=date.getDate();this.set("day",day);this.dayTextbox.value=_654.format(day,{pattern:"00"});}else{this._refreshState();}})),on(this.monthTextbox,"blur",lang.hitch(this,function(){var date=_652.parse(this.monthTextbox.value,{selector:"date",datePattern:"MM"});if(date){var _656=date.getMonth()+1;this.set("month",_656);this.monthTextbox.value=_654.format(_656,{pattern:"00"});}else{this._refreshState();}})),on(this.yearTextbox,"blur",lang.hitch(this,function(){var date=_652.parse(this.yearTextbox.value,{selector:"date",datePattern:"yyyy"});if(date){var year=date.getFullYear();this.set("year",year);this.yearTextbox.value=_654.format(year,{pattern:"0000"});}else{this._refreshState();}})));},postCreate:function(){this.inherited(arguments);var _657=_655.get(this.focusNode,"aria-required");_655.set(this.dayTextbox,"aria-required",_657);_655.set(this.monthTextbox,"aria-required",_657);_655.set(this.yearTextbox,"aria-required",_657);},_createLabel:function(){},reset:function(){this.inherited(arguments);this.dayTextbox.value="";this.monthTextbox.value="";this.yearTextbox.value="";},focus:function(){this.set("focused",true);if(_653(".focusable:focus",this.domNode).length==0){this.inherited(arguments);}},_getValueAttr:function(){var _658=this.yearTextbox.value+"-"+this.monthTextbox.value+"-"+this.dayTextbox.value;_658=_652.parse(_658,{selector:"date",datePattern:"yyyy-MM-dd"})||(this._isEmpty(_658)?null:undefined);return (_658 instanceof Date)?_652.format(_658,{selector:"date",datePattern:"yyyy-MM-dd"}):"";},_isValidSubset:function(){return this.textbox.value.search(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)==0;},displayMessage:function(_659){if(!this._hasBeenBlurred){return;}if(!this.focused){_659=this.getErrorMessage();}if(!this.isValid()){if(_659){var _65a=this;_65a.errorText.innerHTML=_659;_65a.error.style.fontSize="0.75em";_65a.error.style.color="#83000A";_65a.error.style.display="block";setTimeout(function(){_65a.error.style.display="inline-block";},0);}}else{this.errorText.innerHTML="";this.error.style.display="none";this.errorIcon.style.display="none";}if(_659){this.errorIcon.style.display="inline";this.errorIcon.style.color="#83000A";}else{this.errorText.innerHTML="";this.errorIcon.style.display="none";}on.emit(this.textbox,"errorState",{bubbles:true,cancelable:true,errState:!this.isValid()});}});});},"url:hdx/bijits/tools/overdraft/template/OverdraftCalculator.html":"<div custom_id=\"interestCalculator\" class=\"tools w-tol-cnt-2 overdraft-calculator intresetcalculator-resources l-twelve m-eight s-four columns nopad\">\n    <div class=\"reusable-int-calc overdraftdetails\">\n\n        <!-- Expand / Collapse  -->\n        <div class=\"l-twelve m-eight s-four columns mobile-pad-l mobile-pad-r\">\n            <!-- Mobile view heading -->\n            <p class=\"cal-heading showonmobile\" id=\"intrestCalculator-focus\">${i18n.toolHeader}</p>\n            <span class=\"collapse-control\" data-dojo-attach-point=\"collapseControl\">\n                <button class=\"expand\" type=\"button\" data-dojo-attach-event=\"click:clickShowDetail\" data-dojo-attach-point=\"showDetail\">\n                    <span class=\"hideonmobile\">${i18n.showLabel}</span><em class=\"icon-chevron-down\"></em>\n                    <span class=\"accessibleHidden expandedSpan\">${i18n.accessShowDetail}</span>\n                </button>\n                <button class=\"collapse\" type=\"button\" data-dojo-attach-event=\"click:clickHideDetail\" data-dojo-attach-point=\"hideDetail\">\n                    <span class=\"hideonmobile\">${i18n.hideLabel}</span><em class=\"icon-chevron-up\"></em>\n                    <span class=\"accessibleHidden expandedSpan\">${i18n.accessHideDetail}</span>\n                </button>\n            </span>\n        </div>\n\n        <!-- Column 1 -->\n        <!-- Heading, paragraph and disclaimer of desktop  -->\n        <div class=\"l-four m-five s-four columns tab-first-col desktop-pad-l tablet-pad-l mobile-pad-l mobile-pad-r\">\n            <h3 class=\"t28b cal-heading hideonmobile\" id=\"intrestCalculator-focus\">${i18n.toolHeader}</h3>\n            <p>${i18n.toolDescription}</p>\n            <div class=\"cal-disclaimer pewter hidetablet-mobile\" data-dojo-attach-point=\"discDesktop\">${i18n.disclaimer}</div>\n        </div>\n\n        <!-- Column 2 -->\n        <!-- form elements and disclaimer  -->\n        <div class=\"l-four m-five s-four columns tablet-pad-l mobile-pad-l mobile-pad-r collapsed-hidden\" data-dojo-attach-point=\"calcContent\">\n            <h4 class=\"heading t22l\">${i18n.column1Heading}</h4>\n            <div class=\"cal-form\">\n                <form action=\"\" name=\"OverdraftDetails-form\" >\n                    <a id=\"amountInfoIcon\" href=\"javascript:void(0);\" aria-expanded=\"false\" data-selected=\"false\" class=\"set-focus\" data-for-tooltip=\"amountToolTip\" data-dojo-attach-event=\"click:showToolTip\">\n                    <label for=\"overdraftAmount\" class=\"cal-od-amt\" ><h5 >${i18n.overdraftAmountLabel}</h5 >\n\t                     <span class=\"accessibleHidden expandedSpan\">Click here to Expand</span>\n\t        \t\t\t <span class=\"accessibleHidden collapsedSpan hide\">Click here to Collapse</span>\n                    <em class=\"icon-circle-info\" ></em ></label >\n                    </a>\n                    <div class=\"fhe-tooltip hide\" data-dojo-attach-point=\"amountremark\" data-is-tooltip=\"amountToolTip\" style=\"width:88%;\">\n                    </div>\n                    <div>\n                        <input class=\"cal-enter-amount\" id=\"overdraftAmount\" style=\"display: none\" />\n                        <div class=\"cal-enter-amount\" data-dojo-attach-point=\"overdraftAmount\"></div>\n                    </div>\n                    <div class = \"sliderLabelOverdraftCalculator\" data-dojo-attach-point=\"overdraftAmountSlider\"><span class=\"accessibleHidden\" id=\"overdraftAmountSlider\" data-dojo-attach-point=\"overdraftAmountSliderSrt\" aria-live=\"polite\"></span></div>\n                    <div class=\"hide\" data-dojo-attach-point=\"overdraftDaysSec\">\n                        <a id=\"daysInfoIcon\" aria-expanded=\"false\" data-selected=\"false\"  href=\"javascript:void(0);\" class=\"set-focus\" data-dojo-attach-event=\"click:showToolTip\" data-for-tooltip=\"daysToolTip\">\n                        <label for=\"overdraftDays\" class=\"cal-od-days\" ><span >${i18n.daysLabel}</span >\n\t                         <span class=\"accessibleHidden expandedSpan\">Click here to Expand</span>\n\t        \t\t\t\t <span class=\"accessibleHidden collapsedSpan hide\">Click here to Collapse</span>\n                        <em class=\"icon-circle-info\" ></em ></label >\n                        </a>\n                        <div class=\"fhe-tooltip hide\" data-is-tooltip=\"daysToolTip\" style=\"width:88%;\">\n                            <p>${i18n.daysRemarks}</p>\n                        </div>\n                        <div class=\"daystext\" >\n                            <input id=\"overdraftDays\" style=\"display:none\" />\n                            <div>\n                                <div data-dojo-attach-point=\"overdraftDays\" ></div>\n                            </div>\n                            <div data-dojo-attach-point=\"overdraftDaysSlider\" ></div>\n                        </div>\n                    </div>\n                    <div class=\"hide sliderLabelOverdraftCalculator\" data-dojo-attach-point=\"overdraftInterestRateSec\">\n                        <a id=\"rateInfoIcon\" aria-expanded=\"false\" data-selected=\"false\"  href=\"javascript:void(0);\" class=\"set-focus\" data-dojo-attach-event=\"click:showToolTip\" data-for-tooltip=\"rateToolTip\">\n                        <label for=\"overdraftInterestRate\" class=\"cal-od-days\" ><span >${i18n.interestRateLabel}</span >\n\t                         <span class=\"accessibleHidden expandedSpan\">Click here to Expand</span>\n\t        \t\t\t\t <span class=\"accessibleHidden collapsedSpan hide\">Click here to Collapse</span>\n                        <em class=\"icon-circle-info\" ></em ></label >\n                        </a>\n                        <div class=\"fhe-tooltip hide\" data-dojo-attach-point=\"interestremark\" data-is-tooltip=\"rateToolTip\" style=\"width:88%;\">\n                        </div>\n                        <div>\n                            <input class=\"cal-enter-days\" id=\"overdraftInterestRate\" style=\"display:none\" />\n                            <div class=\"percent-box\" data-dojo-attach-point=\"overdraftInterestRate\"></div>\n                        </div>\n                        <!-- <label for=\"overdraftInterestRateSlider\" class=\"hide\">${i18n.interestRateLabel}</label> -->\n                        <div data-dojo-attach-point=\"overdraftInterestRateSlider\" id=\"overdraftInterestRateSlider\"><span class=\"accessibleHidden\" id=\"overdraftRateSlider\" data-dojo-attach-point=\"overdraftRateSliderSrt\" aria-live=\"polite\"></span></div>\n                    </div>\n                </form>\n            </div>\n            <div class=\"showontablet\">\n                <div class=\"cal-disclaimer pewter\" data-dojo-attach-point=\"discTablet\">${i18n.disclaimer}</div>\n            </div>\n        </div>\n\n        <!-- Column 3 -->\n        <div class=\"l-four m-three s-four columns mobile-pad-l mobile-pad-r\">\n            <div class=\"expanded-display\">\n                <h4 class=\"heading t22l\">${i18n.column2Heading}</h4>\n                <div class=\"column2-spacing\"></div>\n                <div class=\"cal-int-col col3-first-val\" data-dojo-attach-point=\"interestSec\">\n                    <p class=\"col3-text\">${i18n.dailyInterestLabel}</p>\n                    <span class=\"cal-int-currency\">${i18n.currency}</span>\n                    <span class=\"cal-int-val\" data-dojo-attach-point=\"dailyInterest\"></span>\n                </div>\n                <div class=\"cal-int-col\" data-dojo-attach-point=\"repaymentSec\">\n                    <p class=\"col3-text\">${i18n.totalRepaymentLabel}</p>\n                    <span class=\"cal-int-currency\">${i18n.currency}</span>\n                    <span class=\"cal-int-val remove-margin-b\" data-dojo-attach-point=\"totalRepayment\"></span>\n                </div>\n            </div>\n            <div class=\"showonmobile\">\n                <div class=\"cal-disclaimer pewter\" data-dojo-attach-point=\"discMobile\">${i18n.disclaimer}</div>\n            </div>\n        </div>\n\n        <!-- Collapsed Display -->\n        <div class=\"l-eight m-five s-four columns mobile-pad-l mobile-pad-r tablet-pad-l tablet-pad-r collapsed-display\">\n            <div class=\"loan-info2\" >\n                <div class=\"col1\" >\n                    <p class=\"col-int\" >${i18n.dailyInterestLabel}</p >\n                    <div class=\"hkd-container\" >\n                        <span class=\"hkd\" >${i18n.currency}</span >\n                        <span class=\"hkd-amount\" data-dojo-attach-point=\"dailyInterest1\" > </span >\n                    </div >\n                </div >\n                <p ><span data-dojo-attach-point=\"collapsedResult\"></span></p >\n                <div class=\"cal-disclaimer pewter hidedesktop\" >${i18n.disclaimer}\n                </div >\n            </div >\n        </div >\n    </div>\n</div>\n","hdx/bijits/tools/serviceFinder/ServiceFinderListing":function(){require({cache:{"url:hdx/bijits/tools/serviceFinder/templates/ServiceFinderListing.html":"<div class=\"resultlist-absl\">\n   <div class=\"branch-line-height\">\n      <div class=\"${shadowClass} branchicon\" style=\"background-color:${colorCode}\">${resultNumber}</div>\n      <span class=\"small-size t12r\">${facility}</span>\n      <a class=\"chvicon listings-anchor\" href=\"javascript:void(0);\">\n      <span class=\"t14b\">${name}</span>\n      <em class=\"chv primaryred\"></em>\n      </a>\n      <span class=\"small-size-distance t12r\">${distance}</span>\n      <p class=\"hideonmobile\">${address}</p>\n      <span class=\"hideondesktop t12r openToday\" data-dojo-attach-point=\"openTodayListings\"></span> \n      <span class=\"notOpenToday\" data-dojo-attach-point=\"notOpenTodayListings\"></span>\n   </div>\n   <hr class=\"branch-result-separator\">\n</div>"}});define("hdx/bijits/tools/serviceFinder/ServiceFinderListing",["dojo/_base/declare","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_WidgetBase","dojo/text!./templates/ServiceFinderListing.html"],function(_65b,_65c,_65d,_65e,_65f){return _65b("hdx.bijits.tools.serviceFinder.ServiceFinderListing",[_65e,_65c,_65d],{templateString:_65f,postCreate:function(){this.inherited(arguments);}});});},"hdx/bijits/tools/serviceFinder/disclaimerOverlay":function(){require({cache:{"url:hdx/bijits/tools/serviceFinder/templates/disclaimerOverlay.html":"<div>\n   <div class=\"od-disclaimer\" data-dojo-type=\"dijit/Dialog\"\n      data-dojo-attach-point=\"openDisclaimer\" data-dojo-id=\"myDialog\">\n      <div class=\"closeButton\" role=\"button\">\n         <a href=\"javascript:void(0);\" data-dojo-attach-point=\"deleteIcon\"> \n         <span class=\"icon-delete od-close-border\"></span>\n         </a>\n      </div>\n      <h2 class=\"od-disclaimer-heading\">${i18n.disclaimerTitle}</h2>\n      <div class=\"od-disclaimer-content\">\n         ${i18n.disclaimerText}\n         <a class=\"secondaryaction\" href=\"#\" data-dojo-attach-point=\"closeButtondiv\">${i18n.close}</a>\n      </div>\n   </div>\n</div>\n"}});define("hdx/bijits/tools/serviceFinder/disclaimerOverlay",["dojo/_base/declare","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_WidgetBase","dojo/_base/lang","dojo/on","dojo/dom-style","dojo/_base/window","dojo/query","dojo/text!./templates/disclaimerOverlay.html","hsbc/eca!dojo/i18n!pws/Components/client/serviceFinder/nls/servicefinder_nls"],function(_660,_661,_662,_663,lang,on,_664,win,_665,_666,i18n){return _660("hdx.bijits.tools.serviceFinder.disclaimerOverlay",[_663,_661,_662],{templateString:_666,i18n:i18n,postCreate:function(){_665(".dijitDialogTitle").remove();on(this.deleteIcon,"click",lang.hitch(this,function(_667){this.openDisclaimer.hide();_664.set(win.body(),{overflowY:"auto"});_667.preventDefault();}));on(this.closeButtondiv,"click",lang.hitch(this,function(_668){this.openDisclaimer.hide();}));on(this.openDisclaimer,"blur",lang.hitch(this,function(_669){this.openDisclaimer.hide();}));}});});},"url:hdx/bijits/tools/loanInterestCalculator/template/loanInterestCalculator.html":"<div class=\"tools w-tol-cnt-2 tools-expanded loan-calculator loan-calc\">\n\n        <!-- Expand / Collapse  -->\n        <div class=\"l-twelve m-eight s-four columns mobile-pad-l mobile-pad-r\">\n            <!-- Mobile view heading -->\n            <p class=\"t28b cal-heading showonmobile\" id=\"intrestCalculator-focus\">${i18n.toolHeader}</p>\n            <span class=\"collapse-control\" data-dojo-attach-point=\"collapseControl\">\n                <button class=\"expand\" type=\"button\" data-dojo-attach-event=\"click:clickShowDetail\" data-dojo-attach-point=\"showDetail\">\n                    <span class=\"hideonmobile\">${i18n.showLabel}</span><em class=\"icon-chevron-down\"></em>\n                    <span class=\"accessibleHidden expandedSpan\">${i18n.accessShowDetail}</span>\n                </button>\n                <button class=\"collapse\" type=\"button\" data-dojo-attach-event=\"click:clickHideDetail\" data-dojo-attach-point=\"hideDetail\">\n                    <span class=\"hideonmobile\">${i18n.hideLabel}</span><em class=\"icon-chevron-up\"></em>\n                    <span class=\"accessibleHidden expandedSpan\">${i18n.accessHideDetail}</span>\n                </button>\n            </span>\n        </div>\n\n        <div class=\"row\">\n            <!-- Column 1 -->\n            <div class=\"l-four m-five s-four columns desktop-pad-l tablet-pad-l mobile-pad-l mobile-pad-r\">\n                <h3 class=\"t28b hideonmobile\">${i18n.toolHeader}</h3>\n                <p class=\"t16r\">${i18n.toolDescription}</p>\n\t\t\t\t<div class=\"expanded-display\">\n\t\t\t\t\t<div class=\"apply-online showondesktop\">\n\t\t\t\t\t\t<h4 class=\"heading t22l\">${i18n.applyOnlineLabel}</h4>\n\t\t\t\t\t\t<a class=\"secondaryaction t14r hsbc-user\" target=\"\" href=\"javascript:void(0)\" data-dojo-attach-event=\"click:applyOnlineHSBCUsers\"><span>${i18n.applyOnlineHsbcUsersLabel}</span></a>\n\t\t\t\t\t\t<a class=\"secondaryaction t14r other-user\" target=\"\" href=\"javascript:void(0)\" data-dojo-attach-event=\"click:applyOnlineOtherUsers\"><span>${i18n.applyOnlineOtherUsersLabel}</span></a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n            </div>\n\n            <!-- Column 2 -->\n            <div class=\"collapsed-hidden\">\n                <form action=\"\">\n                <div class=\"l-four m-five s-four columns tablet-pad-l mobile-pad-l mobile-pad-r\">\n                    <h4 class=\"heading t22l\">${i18n.column1Heading}</h4>\n                    <a href=\"javascript: void(0);\" aria-expanded=\"false\"\n                      data-for-tooltip=\"amountToolTip\"\n                      data-dojo-attach-event=\"click:showToolTip\" data-selected=\"false\">\n                    <span class=\"t16r lbl-loan-amount\">${i18n.loanAmountLabel} </span>\n                    <span class=\"accessibleHidden expandedSpan\">Click here to Expand</span>\n                    <span class=\"accessibleHidden collapsedSpan hide\">Click here to Collapse</span>\n                    <em class=\"icon-circle-info fheicon\" aria-hidden=\"true\"></em>\n                    </a>\n                    <div class=\"fhe-tooltip hide borrowtextbox\" data-is-tooltip=\"amountToolTip\">\n                        <p>${i18n.loanAmountRemarks}</p>\n                    </div>\n                    <div class=\"amount-container\">\n                        <div class=\"loantxtbox\" data-dojo-attach-point=\"loanAmount\" aria-required=\"true\"></div>\n                    </div>\n                    <div data-dojo-attach-point=\"loanAmountSlider\"><span class=\"mobile-accessibleHidden\" id=\"loanAmountSlider\" data-dojo-attach-point=\"loanAmountSliderSrt\" aria-live=\"polite\" aria-hidden=\"true\"></span></div>\n                    <div class=\"detail-search-section expanded-display\">\n                        <div class=\"row\">\n                            <div class=\"l-six m-four s-four columns no-left-pad mobile-pad-l mobile-pad-r\">\n                                <div class=\"loan-period-label\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript: void(0);\" aria-expanded=\"false\" data-for-tooltip=\"periodToolTip\"\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-event=\"click:showToolTip\"\n\t\t\t\t\t\t\t\t\t\tdata-selected=\"false\"> \n\t\t\t\t\t\t\t\t\t<span class=\"t16r lbl-loan-amount\">${i18n.loanPeriodLabel}</span>\n\t\t\t\t\t\t\t\t\t<span class=\"mobile-accessibleHidden expandedSpan\">Click here to Expand</span>\n\t\t\t\t\t\t\t\t\t<span class=\"mobile-accessibleHidden collapsedSpan hide\">Click here to Collapse</span>\n\t\t\t\t\t\t\t\t\t<em class=\"icon-circle-info fheicon\" aria-hidden=\"true\"></em>\n\t\t\t\t\t\t\t\t\t</a>\n                                </div>\n                                <div class=\"fhe-tooltip hide\" data-is-tooltip=\"periodToolTip\">\n                                    <p>${i18n.loanPeriodRemarks}</p>\n                                </div>\n                                <div class=\"loan-period\">\n\t\t\t\t\t\t\t\t\t<select data-dojo-attach-point=\"loanPeriodSelect\" data-dojo-props=\"maxHeight:185\"\n\t\t\t\t\t\t\t\t\t\tdata-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\">\n\t\t\t\t\t\t\t\t\t</select>\n                                </div>\n                            </div>\n                            <div class=\"l-six m-four s-four columns no-right-pad\">\n                                <div class=\"promo-code-label\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript: void(0);\" aria-expanded=\"false\" data-for-tooltip=\"promoCodeTip\"\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-event=\"click:showToolTip\"\n\t\t\t\t\t\t\t\t\t\tdata-selected=\"false\"> \n\t\t\t\t\t\t\t\t\t<span class=\"t16r lbl-loan-amount lbl-promo-code\">${i18n.promoCodeLabel}</span>\n\t\t\t\t\t\t\t\t\t<span class=\"mobile-accessibleHidden expandedSpan\">Click here to Expand</span>\n\t\t\t\t\t\t\t\t\t<span class=\"mobile-accessibleHidden collapsedSpan hide\">Click here to Collapse</span>\n\t\t\t\t\t\t\t\t\t<em class=\"icon-circle-info fheicon\" aria-hidden=\"true\"></em>\n\t\t\t\t\t\t\t\t\t</a>\n                                </div>\n                                <div class=\"fhe-tooltip hide\" data-is-tooltip=\"promoCodeTip\">\n                                    <p>${i18n.promoCodeRefers}</p>\n                                </div>\n                                <div class=\"promo-code\" data-dojo-attach-point=\"promoCode\"></div>\n                                <div class=\"promo-code-refers\">\n\t                                <p><a href=\"${i18n.viewInterestRateLink}\" target=\"_blank\" class=\"chvicon el-block\">\n\t                                    <span>${i18n.viewInterestRateTable}</span>\n\t                                    <em class=\"icon-chevron-right primaryred\"></em></a>\n\t                                </p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Column 3 -->\n            <div class=\"l-four m-three s-four columns\">\n                <div class=\"loan-info expanded-display\">\n                    <h4 class=\"heading t22l\">${i18n.column2Heading}</h4>\n                    <div class=\"column2-spacing\">\n\t\t\t\t\t\t <p class=\"t14r\">${i18n.monthlyFlatRate}\n\t\t\t\t\t\t\t<a href=\"javascript: void(0);\" aria-expanded=\"false\" data-for-tooltip=\"definitionAPRTip\"\n\t\t\t\t\t\t\t\tdata-dojo-attach-event=\"click:showToolTip\" data-selected=\"false\"> \n\t\t\t\t\t\t\t\t<span class=\"t14r lbl-loan-amount\">${i18n.definitionAPR}</span>\n\t\t\t\t\t\t\t\t<span class=\"mobile-accessibleHidden expandedSpan\">Click here to Expand</span>\n\t\t\t\t\t\t\t\t<span class=\"mobile-accessibleHidden collapsedSpan hide\">Click here to Collapse</span>\n\t\t\t\t\t\t\t\t<em class=\"icon-circle-info fheicon\" aria-hidden=\"true\"></em>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t </p>\n\t\t\t\t\t\t<div class=\"fhe-tooltip hide borrowtextbox\" data-is-tooltip=\"definitionAPRTip\">\n\t\t\t\t\t\t\t<p>${i18n.definitionAPRRemarks}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t <p class=\"t20r\"><span data-dojo-attach-point=\"rate\"></span> / <span data-dojo-attach-point=\"APR\"></span></p>\n\t\t\t\t\t</div>\n                    <div class=\"right-arrow\"></div>\n                    <div data-dojo-attach-point=\"Monthlyrepay\">\n                        <p class=\"t14r\">${i18n.monthlyRepaymentLabel}</p>\n                        <div class=\"hkd-container\">\n                            <span class=\"hkd\">${i18n.currency}</span>\n                            <span class=\"hkd-amount t28r\" data-dojo-attach-point=\"monthlyRepayment\"></span>\n                        </div>\n                    </div>\n                    <div data-dojo-attach-point=\"repay\">\n                        <p class=\"t14r\">${i18n.totalAmountLabel}</p>\n                        <div class=\"hkd-container\">\n                            <span class=\"hkd\">${i18n.currency}</span>\n                            <span class=\"hkd-amount t28r\" data-dojo-attach-point=\"totalRepayment\"></span>\n                        </div>\n                    </div>\n                    <span class=\"t12r pewter el-block .od-cal-disclaimer repay-notes collpased-display\">\n                    <strong>${i18n.disclaimerLabel}</strong> ${i18n.disclaimerContent}</span>\n\t\t\t\t\t<div class=\"apply-online hideondesktop\">\n\t\t\t\t\t\t<h4 class=\"heading t22l\">${i18n.applyOnlineLabel}</h4>\n\t\t\t\t\t\t<a class=\"secondaryaction t14r hsbc-user\" target=\"\" href=\"javascript:void(0)\" data-dojo-attach-event=\"click:applyOnlineHSBCUsers\"><span>${i18n.applyOnlineHsbcUsersLabel}</span></a>\n\t\t\t\t\t\t<a class=\"secondaryaction t14r other-user\" target=\"\" href=\"javascript:void(0)\" data-dojo-attach-event=\"click:applyOnlineOtherUsers\"><span>${i18n.applyOnlineOtherUsersLabel}</span></a>\n\t\t\t\t\t</div>\n                </div>\n            </div>\n\n            <!-- Collapsed Display -->\n            <div class=\"l-eight  m-five s-four columns tablet-pad-l mobile-pad-l mobile-pad-r collapsed-display\">\n                <div class=\"loan-info2\">\n                    <div class=\"col1\">\n                        <p class=\"t16r\">${i18n.monthlyRepaymentLabel}</p>\n                        <div class=\"hkd-container\">\n                        <span class=\"hkd\">${i18n.currency}</span> <span\n                            class=\"hkd-amount t28r\"\n                            data-dojo-attach-point=\"monthlyRepayment1\"> </span>\n                        </div>\n                    </div>\n                    <div class=\"col2\">\n                        <p class=\"t16r\">${i18n.totalAmountLabel}</p>\n                        <div class=\"hkd-container\">\n                            <span class=\"hkd\">${i18n.currency}</span> <span\n                              class=\"hkd-amount t28r\" data-dojo-attach-point=\"totalRepayment1\">\n                            </span>\n                        </div>\n                        <span class=\"t12r pewter\"> <strong>${i18n.disclaimerLabel}</strong>\n                        ${i18n.disclaimerContent} </span>\n                    </div>\n                </div>\n            </div>\n        </div>\n</div>\n","hsbc/_PWSEndpointMixin":function(){define("hsbc/_PWSEndpointMixin",["dojo/_base/declare","dojo/_base/lang","hsbc/ServiceConfig","hsbc/BuildPackServiceConfig"],function(_66a,lang,_66b,_66c){return _66a([],{configServiceRootSection:"serviceList",useStubForData:useStubData,getEndPoint:function(_66d,_66e,_66f){var endp=null;if(this.useStubForData){if(!_66f){endp=lang.getObject(_66e,false,_66c[_66d]);}else{endp=_66c[_66d][_66e][_66f];}if(!endp){console.error("could not find endpoint at ",arguments);}}else{if(!_66f){endp=lang.getObject(_66e,false,_66b[_66d]);}else{endp=_66b[_66d][_66e][_66f];}if(!endp){console.error("could not find endpoint at ",arguments);}}return endp;},buildRendering:function(){this.inherited(arguments);dataHsbcProperties=dojo.fromJson(this["data-ext-props"]);if(!dataHsbcProperties){return;}if(dataHsbcProperties.endPoints){for(endPointName in dataHsbcProperties.endPoints){this.set(endPointName,this.getEndPoint(this.configServiceRootSection,dataHsbcProperties.endPoints[endPointName]));}}}});});},"hdx/bijits/tools/propertyvaluation/propertyvaluationtool":function(){require({cache:{"url:hdx/bijits/tools/propertyvaluation/template/propertyvaluationtool.html":"<div class=\"content\" data-dojo-attach-point=\"abslContainerContent\">\n    <div class=\"top propertyvaluation\">\n        <form>\n            <div class=\"row d-mar-b\">\n                <p class=\"t14b\">${i18n.headingfortool}</p>\n                <div class=\"l-six m-five s-four columns tabletview arrow-right arrowdown desktop-pad-l\" data-dojo-attach-point=\"desktopOnlyView\">\n                    <h3 class=\"heading t22l\">${i18n.column1Heading}</h3>\n                    <div class=\"zone first\">\n                        <span class=\"labelclass\">${i18n.zone}</span><span id=\"zonevalue\" class=\"mobile-accessibleHidden\" style=\"visibility: hidden;\">${i18n.zone} ${i18n.dropdown}</span>\n                        <select aria-labelledby=\"zonevalue\" data-dojo-props=\"maxHeight:260\" data-dojo-type=\"hdx/dijits/form/Select\" aria-atomic=\"true\" aria-required=\"true\" data-dojo-attach-point=\"zone\" data-dojo-attach-event=\"onChange:selectZone,onBlur:zoneDropDownBlur\">\n                        </select>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"zoneError\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                            <span data-dojo-attach-point=\"zoneErrorText\" role=\"alert\"></span>\n                        </div>\n                    </div>\n                    <div class=\"district first\">\n\t\t\t\t\t\t<span class=\"labelclass\" >${i18n.district}</span><span id=\"districtvalue\" class=\"mobile-accessibleHidden\" style=\"visibility: hidden;\">${i18n.district} ${i18n.dropdown}</span>\n                        <select disabled aria-labelledby=\"districtvalue\" data-dojo-props=\"maxHeight:260\" data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" class=\"district\" data-dojo-attach-point=\"district\" data-dojo-attach-event=\"onChange:selectDistrict,onBlur:districtDropDownBlur\">\n                        </select>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"districtError\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                            <span data-dojo-attach-point=\"districtErrorText\" role=\"alert\"></span>\n                        </div>\n                    </div>\n                    <div class=\"estate-name first\">\n                        <span class=\"labelclass\" >${i18n.estate}</span><span id=\"estatevalue\" class=\"mobile-accessibleHidden\" style=\"visibility: hidden;\">${i18n.estate} ${i18n.dropdown}</span>\n                        <select disabled aria-labelledby=\"estatevalue\" data-dojo-props=\"maxHeight:260\" data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" data-dojo-attach-point=\"estate\" class=\"estateName\" data-dojo-attach-event=\"onChange:selectEstate,onBlur:estateDropDownBlur\">\n                        </select>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"estateError\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                            <span data-dojo-attach-point=\"estateErrorText\" role=\"alert\"></span>\n                        </div>\n                    </div>\n                    <div class=\"block first\">\n                        <span class=\"labelclass\" >${i18n.block}</span><span id=\"blockvalue\" class=\"mobile-accessibleHidden\" style=\"visibility: hidden;\">${i18n.block} ${i18n.dropdown}</span>\n                        <select disabled aria-labelledby=\"blockvalue\" data-dojo-props=\"maxHeight:260\" data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" data-dojo-attach-point=\"block\" class=\"block\" data-dojo-attach-event=\"onChange:selectBlock,onBlur:blockDropDownBlur\">\n                        </select>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"blockError\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                            <span data-dojo-attach-point=\"blockErrorText\" role=\"alert\"></span>\n                        </div>\n                    </div>\n                    <div class=\"floor first floorCombobox\">\n                        <span class=\"labelclass\" >${i18n.floor}</span><span id=\"floorvalue\" class=\"mobile-accessibleHidden\" style=\"visibility: hidden;\">${i18n.floor} ${i18n.dropdown}</span>\n                        <select disabled aria-labelledby=\"floorvalue\" data-dojo-props=\"maxHeight:260\" data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" data-dojo-attach-point=\"floor\" class=\"floor\" data-dojo-attach-event=\"onChange:selectFloor,onBlur:floorDropDownBlur\">\n                        </select>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"floorError\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                            <span data-dojo-attach-point=\"floorErrorText\" role=\"alert\"></span>\n                        </div>\n                    </div>\n                    <div class=\"flat first flatCombobox\">\n                        <span id=\"flatvalue\" class=\"labelclass\" >${i18n.flat}</span>\n                        <select disabled aria-labelledby=\"flatvalue\" data-dojo-props=\"maxHeight:260\" data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" data-dojo-attach-point=\"flat\" data-dojo-attach-event=\"onChange:selectFlat,onBlur:flatDropDownBlur\">\n                        </select>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"flatError\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                            <span data-dojo-attach-point=\"flatErrorText\" role=\"alert\"></span>\n                        </div>\n                    </div>\n                    <div class=\"first propertyEvaluation\">\n                        <label class=\"labelclass\" for=\"btnPropertyEvaluation\" style=\"display: none\">${i18n.valuation_button}</label>\n                        <input disabled type=\"button\" id=\"btnPropertyEvaluation\" data-dojo-attach-point=\"propertyButton\" data-dojo-attach-event=\"click:getPropertyEvaluation\" class=\"primaryaction primaryround\" value=\"${i18n.valuation_button}\" >\n                    </div>\n                </div>\n                <div class=\"answerDivCl\">\n                    <div class=\"mortgap showontablet\"></div>\n                    <div class=\"l-six m-eight s-four columns marginTop14x\" data-dojo-attach-point=\"answerList\">\n                        <h3 class=\"heading t22l\">${i18n.column2Heading}</h3>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"propValError\" style=\"display: none\"></div>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"answerDiv\">\n\t\t\t\t\t\t\t<h3 class=\"headingresult showondesktop\" tabindex = \"0\" data-dojo-attach-point = \"propertyValueResultsHeading\">${i18n.subtitle_first}</h3>\n\t\t\t\t\t\t\t<p class=\"hideondesktop headingline\" tabindex = \"0\" data-dojo-attach-point = \"propertyValueResultsPara\">${i18n.subtitle_second}</p>\n\t\t\t\t\t\t\t<hr class=\"showontablet\"/>\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"l-twelve m-eight s-four columns nopad\">\n\t\t\t\t\t\t\t\t\t<ul class=\"propvaluationresult\">\n\t\t\t\t\t\t\t\t\t\t<li class=\"liBorderLine greybar\"><span class=\"listAnsValLeftAddress\">${i18n.address}</span> <span data-dojo-attach-point=\"propertyAddress\" class=\"listAnsValRightAddress\"></span></li>\n\t\t\t\t\t\t\t\t\t\t<li class=\"liBorderLine\"><span class=\"listAnsValLeft\">${i18n.valuation}</span> <span data-dojo-attach-point=\"valuation\" class=\"listAnsValRight\"></span></li>\n\t\t\t\t\t\t\t\t\t\t<li class=\"liBorderLine\"><span class=\"listAnsFlAreaLeft\" >${i18n.grossFloorArea} ${i18n.squareFt}</span> <span data-dojo-attach-point=\"grossFloorArea\" class=\"listAnsFlAreaRight\" ></span></li>\n\t\t\t\t\t\t\t\t\t\t<li class=\"liBorderLine\"><span class=\"listAnsSalAreaLeft\">${i18n.saleableArea} ${i18n.squareFt}</span> <span data-dojo-attach-point=\"saleableArea\" class=\"listAnsSalAreaRight\"></span></li>\n\t\t\t\t\t\t\t\t\t\t<li class=\"liBorderLine\"><span class=\"listAnsPropAgeLeft\">${i18n.propertyAge} ${i18n.years}</span> <span data-dojo-attach-point=\"propertyAge\" class=\"listAnsPropAgeRight\" ></span></li>\n\t\t\t\t\t\t\t\t\t\t<li class=\"liBorderLine\"><span class=\"listAnsDateLeft\">${i18n.valuationDate}</span> <span data-dojo-attach-point=\"valuationDate\" class=\"listAnsDateRight\"></span></li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n                    </div>\n                </div>\n            </div>\n        </form>\n    </div>\n    <div class=\"row\">\n      <div class=\"l-twelve m-eight s-four columns propEvalInfo\" >\n\n            <p class=\"t14r\" data-dojo-attch-point=\"propEvalInfoDesc\" >\n                <span class=\"t14r pewter\">${i18n.disclaimerDescription}</span>\n            </p>\n        </div >\n        <hr class=\"\" />\n        </div>\n</div>"}});define("hdx/bijits/tools/propertyvaluation/propertyvaluationtool",["dojo/_base/declare","dijit/_WidgetBase","dijit/_WidgetsInTemplateMixin","dijit/_TemplatedMixin","hsbc/_ECAMixin","dojo/text!./template/propertyvaluationtool.html","dojo/query","dojo/dom-attr","dojo/json","hsbc/eca!dojo/i18n!pws/Components/client/propertyvaluation/nls/propertyvaluationtool_nls","dojo/_base/connect","dojo/_base/lang","dojo/request","dojo/number","hsbc/_PWSEndpointMixin","dojo/dom-class","dijit/focus","hsbc/utilities/CommonUtil","dojo/has","dojo/domReady!"],function(_670,_671,_672,_673,_674,_675,_676,_677,json,i18n,_678,lang,_679,_67a,_67b,_67c,_67d,_67e,has){return _670("hdx.bijits.tools.propertyvaluation.propertyvaluationtool",[_671,_673,_672,_674,_67b],{templateString:_675,i18n:i18n,_preparePropertyValuationEndPoint:null,_enquirePropertyValuationEndPoint:null,zoneLabel:"",districtLabel:"",estateLabel:"",blockLabel:"",floorLabel:"",flatLabel:"",constructor:function(){},startup:function(){this.inherited(arguments);},postCreate:function(){this.getPropertyflag=false;this.propertyChangeflag="";this.initializeDisplay();this.disablePropValButton();this.disablePropValPanel();this.callPrepPropValToolSvc("zone");this.subSearchByEstTab();},initializeDisplay:function(){if(this.isMobile()){this.answerList.style.display="none";}else{this.answerList.style.display="block";}this.propertyAddress.innerHTML="";this.valuation.innerHTML="";this.grossFloorArea.innerHTML="";this.saleableArea.innerHTML="";this.propertyAge.innerHTML="";this.valuationDate.innerHTML="";this.zoneLabel=i18n.selectZone;this.districtLabel=i18n.selectDistrict;this.estateLabel=i18n.selectEstate;this.blockLabel=i18n.selectBlock;this.floorLabel=i18n.selectFloor;this.flatLabel=i18n.selectFlat;if(window.size==="large"||window.size==="medium"){this.zoneLabel=i18n.select;this.districtLabel=i18n.select;this.estateLabel=i18n.select;this.blockLabel=i18n.select;this.floorLabel=i18n.select;this.flatLabel=i18n.select;}this.prePopulateZoneDropDown();this.prePopulateDistrictDropDown();this.prePopulateEstateDropDown();this.prePopulateBlockDropDown();this.prePopulateFloorDropDown();this.prePopulateFlatDropDown();},_setPreparePropertyValuationEndPointAttr:function(_67f){this._preparePropertyValuationEndPoint=_67f;},_setEnquirePropertyValuationEndPointAttr:function(_680){this._enquirePropertyValuationEndPoint=_680;},subSearchByEstTab:function(){var _681=this;_678.subscribe("propertyvaluation/selectzone",function(_682){var _683=_682.callFrom;var _684=_682.zoneId;var _685=_682.districtId;var _686=_682.estateId;if(_683==="Search by Estate keyword"){if(_684&&_685&&_686){_681.callPrepPropValToolSvcFromPropSearch(_684,_685,_686);_681.resetPropValPanel();}}});},disablePropValButton:function(){_67c.add(this.propertyButton,"displablesClass");_677.set(this.propertyButton,"disabled","true");},enablePropValButton:function(){_67c.remove(this.propertyButton,"displablesClass");_677.remove(this.propertyButton,"disabled");},disablePropValPanel:function(){this.answerDiv.style.opacity="0.3";},enablePropValPanel:function(){this.answerDiv.style.opacity="1";},enableZoneSelect:function(){this.zone._setDisabledAttr(0);_677.remove(this.zone.focusNode,"disabled");},enableDistrictSelect:function(){this.district._setDisabledAttr(0);_677.remove(this.district.focusNode,"disabled");},enableEstateSelect:function(){this.estate._setDisabledAttr(0);_677.remove(this.estate.focusNode,"disabled");},enableBlockSelect:function(){this.block._setDisabledAttr(0);_677.remove(this.block.focusNode,"disabled");},enableFloorSelect:function(){this.floor._setDisabledAttr(0);_677.remove(this.floor.focusNode,"disabled");},enableFlatSelect:function(){this.flat._setDisabledAttr(0);_677.remove(this.flat.focusNode,"disabled");},disableZoneSelect:function(){_677.set(this.zone,"disabled","true");},disableDistrictSelect:function(){_677.set(this.district,"disabled","true");},disableEstateSelect:function(){_677.set(this.estate,"disabled","true");},disableBlockSelect:function(){_677.set(this.block,"disabled","true");},disableFloorSelect:function(){_677.set(this.floor,"disabled","true");},disableFlatSelect:function(){_677.set(this.flat,"disabled","true");},prePrepPropValTooSvc:function(_687){var _688=this.getLocale();var _689=null;var _68a=null;var _68b=null;var _68c=null;var _68d=null;var _68e=null;if(_687==="district"){_689="zone";_68a=this.getSelectedZoneId();}else{if(_687==="estate"){_689="district";_68a=this.getSelectedZoneId();_68b=this.getSelectedDistrictId();}else{if(_687==="block"){_689="estate";_68a=this.getSelectedZoneId();_68b=this.getSelectedDistrictId();_68c=this.getSelectedEstateId();}else{if(_687==="floor"){_689="block";_68a=this.getSelectedZoneId();_68b=this.getSelectedDistrictId();_68c=this.getSelectedEstateId();_68d=this.getSelectedBlockId();}else{if(_687==="flat"){_689="floor";_68a=this.getSelectedZoneId();_68b=this.getSelectedDistrictId();_68c=this.getSelectedEstateId();_68d=this.getSelectedBlockId();_68e=this.getSelectedFloor();}else{}}}}}var req={locale:_688,locate:_689,zoneId:_68a,districtId:_68b,estateId:_68c,blockId:_68d,floor:_68e};return req;},callPrepPropValToolSvc:function(_68f,_690){var req=this.prePrepPropValTooSvc(_68f);var url=this._preparePropertyValuationEndPoint.url;var _691=this._preparePropertyValuationEndPoint.retry;_679.post(url,{data:json.stringify(req),headers:{"Content-Type":"application/json"}}).then(lang.hitch(this,function(_692){var data=json.parse(_692);this.postPrepPropValToolSvc(data,_68f);}),lang.hitch(this,function(_693){if(_691&&!_690){this.callPrepPropValToolSvc(_68f,true);}else{this.handleDropDownError(_68f,_693);}}));},callPrepPropValToolSvcFromPropSearch:function(_694,_695,_696,_697){var req={locale:this.getLocale(),locate:"estate",zoneId:_694,districtId:_695,estateId:_696,blockId:null,floor:null};var url=this._preparePropertyValuationEndPoint.url;var _698=this._preparePropertyValuationEndPoint.retry;_679.post(url,{data:json.stringify(req),headers:{"Content-Type":"application/json"}}).then(lang.hitch(this,function(_699){var data=json.parse(_699);this.populateZoneDropDown(data,_694);this.populateDistrictDropDown(data,_695);this.populateEstateDropDown(data,_696);this.populateBlockDropDown(data);}),lang.hitch(this,function(_69a){if(_698&&!_697){this.callPrepPropValToolSvcFromPropSearch(_694,_695,_696,true);}else{this.handleDropDownError("block",_69a);}}));},postPrepPropValToolSvc:function(data,_69b){if(_69b==="zone"){this.populateZoneDropDown(data);}else{if(_69b==="district"){this.populateDistrictDropDown(data);}else{if(_69b==="estate"){this.populateEstateDropDown(data);}else{if(_69b==="block"){this.populateBlockDropDown(data);}else{if(_69b==="floor"){this.populateFloorDropDown(data);}else{if(_69b==="flat"){this.populateFlatDropDown(data);}}}}}}},prePopulateZoneDropDown:function(){var _69c=i18n.selectZone;if(window.size==="large"||window.size==="medium"){_69c=i18n.select;}var _69d={value:_69c,label:_69c,disabled:"disabled"};this.zone.addOption(_69d);},prePopulateDistrictDropDown:function(){var _69e=i18n.selectDistrict;if(window.size==="large"||window.size==="medium"){_69e=i18n.select;}var _69f={value:_69e,label:_69e,disabled:"disabled"};this.district.addOption(_69f);},prePopulateEstateDropDown:function(){var _6a0=i18n.selectEstate;if(window.size==="large"||window.size==="medium"){_6a0=i18n.select;}var _6a1={value:_6a0,label:_6a0,disabled:"disabled"};this.estate.addOption(_6a1);},prePopulateBlockDropDown:function(){var _6a2=i18n.selectBlock;if(window.size==="large"||window.size==="medium"){_6a2=i18n.select;}var _6a3={value:_6a2,label:_6a2,disabled:"disabled"};this.block.addOption(_6a3);},prePopulateFloorDropDown:function(){var _6a4=i18n.selectFloor;if(window.size==="large"||window.size==="medium"){_6a4=i18n.select;}var _6a5={value:_6a4,label:_6a4,disabled:"disabled"};this.floor.addOption(_6a5);},prePopulateFlatDropDown:function(){var _6a6=i18n.selectFlat;if(window.size==="large"||window.size==="medium"){_6a6=i18n.select;}var _6a7={value:_6a6,label:_6a6,disabled:"disabled"};this.flat.addOption(_6a7);},populateZoneDropDown:function(data,id){this.removeZoneDropDown();this.removeDistrictDropDown();this.removeEstateDropDown();this.removeBlockDropDown();this.removeFloorDropDown();this.removeFlatDropDown();this.prePopulateZoneDropDown();this.prePopulateDistrictDropDown();this.prePopulateEstateDropDown();this.prePopulateBlockDropDown();this.prePopulateFloorDropDown();this.prePopulateFlatDropDown();this.enableZoneSelect();if(data&&data.zoneList&&data.zoneList.length>0){var _6a8=[];for(var i=0;i<data.zoneList.length;i++){var zone=data.zoneList[i];var _6a9={value:zone.id,label:zone.name};_6a8.push(_6a9);}this.zone.addOption(_6a8);if(id){this.zone.set("value",id,false);}this.removeDropDownError("zone");}else{this.handleDropDownError("zone",data);}},populateDistrictDropDown:function(data,id){this.removeDistrictDropDown();this.removeEstateDropDown();this.removeBlockDropDown();this.removeFloorDropDown();this.removeFlatDropDown();this.prePopulateDistrictDropDown();this.prePopulateEstateDropDown();this.prePopulateBlockDropDown();this.prePopulateFloorDropDown();this.prePopulateFlatDropDown();this.enableDistrictSelect();if(data&&data.districtList&&data.districtList.length>0){var _6aa=[];for(var i=0;i<data.districtList.length;i++){var _6ab=data.districtList[i];var _6ac={value:_6ab.id,label:_6ab.name};_6aa.push(_6ac);}this.district.addOption(_6aa);if(id){this.district.set("value",id,false);}this.removeDropDownError("district");}else{this.handleDropDownError("district",data);}},populateEstateDropDown:function(data,id){this.removeEstateDropDown();this.removeBlockDropDown();this.removeFloorDropDown();this.removeFlatDropDown();this.prePopulateEstateDropDown();this.prePopulateBlockDropDown();this.prePopulateFloorDropDown();this.prePopulateFlatDropDown();this.enableEstateSelect();if(data&&data.estateList&&data.estateList.length>0){var _6ad=[];for(var i=0;i<data.estateList.length;i++){var _6ae=data.estateList[i];var _6af={value:_6ae.id,label:_6ae.name};_6ad.push(_6af);}this.estate.addOption(_6ad);if(id){this.estate.set("value",id,false);}this.removeDropDownError("estate");}else{this.handleDropDownError("estate",data);}},populateBlockDropDown:function(data,id){this.removeBlockDropDown();this.removeFloorDropDown();this.removeFlatDropDown();this.prePopulateBlockDropDown();this.prePopulateFloorDropDown();this.prePopulateFlatDropDown();this.enableBlockSelect();if(data&&data.blockList&&data.blockList.length>0){var _6b0=[];for(var i=0;i<data.blockList.length;i++){var _6b1=data.blockList[i];var _6b2={value:_6b1.id,label:_6b1.name};_6b0.push(_6b2);}this.block.addOption(_6b0);if(id){this.block.set("value",id,false);}this.removeDropDownError("block");}else{this.handleDropDownError("block",data);}},populateFloorDropDown:function(data,id){this.removeFloorDropDown();this.removeFlatDropDown();this.prePopulateFloorDropDown();this.prePopulateFlatDropDown();this.enableFloorSelect();if(data&&data.floorList&&data.floorList.length>0){var _6b3=[];var _6b4=false;for(var i=0;i<data.floorList.length;i++){var _6b5=data.floorList[i];var _6b6={value:_6b5.id,label:_6b5.name};_6b3.push(_6b6);if(i===0&&_6b5.id==="N/A"){_6b4=true;}}this.floor.addOption(_6b3);if(id){this.floor.set("value",id,false);}else{if(_6b4){this.floor.set("value","N/A",false);this.selectFloor();}}this.removeDropDownError("floor");}else{this.handleDropDownError("floor",data);}},populateFlatDropDown:function(data,id){this.removeFlatDropDown();this.prePopulateFlatDropDown();this.enableFlatSelect();if(data&&data.flatList&&data.flatList.length>0){var _6b7=[];var _6b8=false;for(var i=0;i<data.flatList.length;i++){var flat=data.flatList[i];var _6b9={value:flat.id,label:flat.name};_6b7.push(_6b9);if(i===0&&flat.id==="N/A"){_6b8=true;}}this.flat.addOption(_6b7);if(id){this.flat.set("value",id,false);}else{if(_6b8){this.flat.set("value","N/A",false);this.selectFlat();}}this.removeDropDownError("flat");}else{this.handleDropDownError("flat",data);}},removeZoneDropDown:function(){this.zone.removeOption(this.zone.getOptions());_676(".propertyvaluation .zone .dijitSelectLabel").innerHTML(" ");this.disableZoneSelect();this.removeDropDownError("zone");},removeDistrictDropDown:function(){this.district.removeOption(this.district.getOptions());_676(".propertyvaluation .district .dijitSelectLabel").innerHTML(" ");this.disableDistrictSelect();this.removeDropDownError("district");},removeEstateDropDown:function(){this.estate.removeOption(this.estate.getOptions());_676(".propertyvaluation .estate-name .dijitSelectLabel").innerHTML(" ");this.disableEstateSelect();this.removeDropDownError("estate");},removeBlockDropDown:function(){this.block.removeOption(this.block.getOptions());_676(".propertyvaluation .block .dijitSelectLabel").innerHTML(" ");this.disableBlockSelect();this.removeDropDownError("block");},removeFloorDropDown:function(){this.floor.removeOption(this.floor.getOptions());_676(".propertyvaluation .floor .dijitSelectLabel").innerHTML(" ");this.disableFloorSelect();this.removeDropDownError("floor");},removeFlatDropDown:function(){this.flat.removeOption(this.flat.getOptions());_676(".propertyvaluation .flat .dijitSelectLabel").innerHTML(" ");this.disableFlatSelect();this.removeDropDownError("flat");},getSelectedZoneId:function(){return this.zone.value;},getSelectedDistrictId:function(){return this.district.value;},getSelectedEstateId:function(){return this.estate.value;},getSelectedBlockId:function(){return this.block.value;},getSelectedFlat:function(){return this.flat.value;},getSelectedFloor:function(){return this.floor.value;},selectZone:function(){this.resetPropValPanel();if(this.zone.value!==""&&this.zone.value!==i18n.select&&this.zone.value!==i18n.selectZone){this.callPrepPropValToolSvc("district");this.propertyChangeflag=this.propertyChangeflag+"zone;";this.zoneError.style.display="none";this.zoneErrorText.innerHTML="";}},selectDistrict:function(){this.resetPropValPanel();if(this.district.value!==""&&this.district.value!==i18n.select&&this.district.value!==i18n.selectDistrict){this.callPrepPropValToolSvc("estate");this.propertyChangeflag=this.propertyChangeflag+"district;";this.districtError.style.display="none";this.districtErrorText.innerHTML="";}},selectEstate:function(){this.resetPropValPanel();if(this.estate.value!==""&&this.estate.value!==i18n.select&&this.estate.value!==i18n.selectEstate){this.callPrepPropValToolSvc("block");this.propertyChangeflag=this.propertyChangeflag+"estate;";this.estateError.style.display="none";this.estateErrorText.innerHTML="";}},selectBlock:function(){this.resetPropValPanel();if(this.block.value!==""&&this.block.value!==i18n.select&&this.block.value!==i18n.selectBlock){this.callPrepPropValToolSvc("floor");this.propertyChangeflag=this.propertyChangeflag+"block;";this.blockError.style.display="none";this.blockErrorText.innerHTML="";}},selectFloor:function(){this.resetPropValPanel();if(this.floor.value!==""&&this.floor.value!==i18n.select&&this.floor.value!==i18n.selectFloor){this.callPrepPropValToolSvc("flat");this.propertyChangeflag=this.propertyChangeflag+"floor;";this.floorError.style.display="none";this.floorErrorText.innerHTML="";}},selectFlat:function(){this.resetPropValPanel();if(this.flat.value!=""&&this.flat.value!==i18n.select&&this.flat.value!==i18n.selectFlat){this.enablePropValButton();this.propertyChangeflag=this.propertyChangeflag+"flat;";this.flatError.style.display="none";this.flatErrorText.innerHTML="";}},getPropertyEvaluation:function(){if(this.isMobile()){this.answerList.style.display="block";_676(".propertyvaluation .tabletview",this.domNode).removeClass("arrowright");_676(".propertyvaluation .tabletview",this.domNode).addClass("arrowdown");}if(window.size==="small"){_67d.focus(this.propertyValueResultsPara);}else{_67d.focus(this.propertyValueResultsHeading);}this.callEnqPropValSvc();},callEnqPropValSvc:function(_6ba){var _6bb=this.getSelectedZoneId();var _6bc=this.getSelectedDistrictId();var _6bd=this.getSelectedEstateId();var _6be=this.getSelectedBlockId();var _6bf=this.getSelectedFloor();var flat=this.getSelectedFlat();if(_6bb&&_6bb!==i18n.select&&_6bb!==i18n.selectZone&&_6bc&&_6bc!==i18n.select&&_6bc!==i18n.selectDistrict&&_6bd&&_6bd!==i18n.select&&_6bd!==i18n.selectEstate&&_6be&&_6be!==i18n.select&&_6be!==i18n.selectBlock&&_6bf&&_6bf!==i18n.select&&_6bf!==i18n.selectFloor&&flat&&flat!==i18n.select&&flat!==i18n.selectFlat){var req={locale:this.getLocale(),zoneId:_6bb,districtId:_6bc,estateId:_6bd,blockId:_6be,floor:_6bf,flat:flat};var url=this._enquirePropertyValuationEndPoint.url;var _6c0=this._enquirePropertyValuationEndPoint.retry;_679.post(url,{data:json.stringify(req),headers:{"Content-Type":"application/json"}}).then(lang.hitch(this,function(_6c1){var data=json.parse(_6c1);if(!data||data.responseInfo&&data.responseInfo.reasons&&data.responseInfo.reasons.length>0){if(_6c0&&!_6ba){this.callEnqPropValSvc(true);}else{this.displayServiceError(data);}}else{this.populatePropValResult(data);var _6c2=this._createTrackingEvent("click","Get Value");_6c2["event_content"]=_6bb+" | "+_6bc+" | "+_6bd;_67e.submitTealium(_6c2);}}),lang.hitch(this,function(_6c3){if(_6c0&&!_6ba){this.callEnqPropValSvc(true);}else{this.displayServiceError(_6c3);}}));}else{this.displayServiceError();}},_createTrackingEvent:function(type,_6c4){var _6c5={"tool_name":"PropertyValuation","event_type":type,"event_action":"Property Valuation | "+_6c4};return _6c5;},populatePropValResult:function(data){var _6c6=data.propAddr;if(!_6c6){_6c6="";}var _6c7=data.valn;if(_6c7&&_6c7!="0"){_6c7=_67a.format(_6c7);}else{_6c7=i18n.notAvailable+"<br />"+i18n.specialRemarks;}var _6c8=data.grossFloorArea;if(_6c8&&_6c8!="0"){_6c8=_67a.format(_6c8);}else{_6c8=i18n.notAvailable;}var _6c9=data.saleableArea;if(_6c9&&_6c9!="0"){_6c9=_67a.format(_6c9);}else{_6c9=i18n.notAvailable;}var _6ca=data.propAge;if(!_6ca){_6ca=i18n.notAvailable;}var _6cb=data.valnDt;if(!_6cb){_6cb=i18n.notAvailable;}else{if(has("ie")<=8){_6cb=_6cb.replace(/-/g,"/");}var _6cc=_67e.convertStringToDate(_6cb,"");_6cb=_67e.formatDate(_6cc,i18n.year,i18n.month,i18n.day);}this.propertyAddress.innerHTML=_6c6;this.valuation.innerHTML=_6c7;this.grossFloorArea.innerHTML=_6c8;this.saleableArea.innerHTML=_6c9;this.propertyAge.innerHTML=_6ca;this.valuationDate.innerHTML=_6cb;this.enablePropValPanel();this.hideServiceError();this.propertyChangeflag="";this.getPropertyflag=true;},getLocale:function(){if(dojoConfig.locale){return dojoConfig.locale;}else{return "en";}},isMobile:function(){if(window.size==="small"){return true;}return false;},zoneDropDownBlur:function(_6cd){if(this.zone.disabled!=="true"&&(!this.getSelectedZoneId()||this.getSelectedZoneId()===i18n.select||this.getSelectedZoneId()===i18n.selectZone)){this.zoneError.style.display="block";this.zoneErrorText.innerHTML=i18n.zoneInputError;}else{this.zoneError.style.display="none";this.zoneErrorText.innerHTML="";}},districtDropDownBlur:function(_6ce){if(this.district.disabled!=="true"&&(!this.getSelectedDistrictId()||this.getSelectedDistrictId()===i18n.select||this.getSelectedDistrictId()===i18n.selectDistrict)){this.districtError.style.display="block";this.districtErrorText.innerHTML=i18n.districtInputError;}else{this.districtError.style.display="none";this.districtErrorText.innerHTML="";}},estateDropDownBlur:function(_6cf){if(this.estate.disabled!=="true"&&(!this.getSelectedEstateId()||this.getSelectedEstateId()===i18n.select||this.getSelectedEstateId()===i18n.selectEstate)){this.estateError.style.display="block";this.estateErrorText.innerHTML=i18n.estateInputError;}else{this.estateError.style.display="none";this.estateErrorText.innerHTML="";}},blockDropDownBlur:function(_6d0){if(this.block.disabled!=="true"&&(!this.getSelectedBlockId()||this.getSelectedBlockId()===i18n.select||this.getSelectedBlockId()===i18n.selectBlock)){this.blockError.style.display="block";this.blockErrorText.innerHTML=i18n.blockInputError;}else{this.blockError.style.display="none";this.blockErrorText.innerHTML="";}},floorDropDownBlur:function(_6d1){if(this.floor.disabled!=="true"&&(!this.getSelectedFloor()||this.getSelectedFloor()===i18n.select||this.getSelectedFloor()===i18n.selectFloor)){this.floorError.style.display="block";this.floorErrorText.innerHTML=i18n.floorInputError;}else{this.floorError.style.display="none";this.floorErrorText.innerHTML="";}},flatDropDownBlur:function(_6d2){if(this.flat.disabled!=="true"&&(!this.getSelectedFlat()||this.getSelectedFlat()===i18n.select||this.getSelectedFlat()===i18n.selectFlat)){this.flatError.style.display="block";this.flatErrorText.innerHTML=i18n.flatInputError;}else{this.flatError.style.display="none";this.flatErrorText.innerHTML="";}},handleDropDownError:function(_6d3,_6d4){if(_6d3==="zone"){this.zoneError.style.display="block";this.zoneErrorText.innerHTML=_67e.replaceValidationErrCode(i18n.zoneListError,_6d4);}else{if(_6d3==="district"){this.districtError.style.display="block";this.districtErrorText.innerHTML=_67e.replaceValidationErrCode(i18n.districtListError,_6d4);}else{if(_6d3==="estate"){this.estateError.style.display="block";this.estateErrorText.innerHTML=_67e.replaceValidationErrCode(i18n.estateListError,_6d4);}else{if(_6d3==="block"){this.blockError.style.display="block";this.blockErrorText.innerHTML=_67e.replaceValidationErrCode(i18n.blockListError,_6d4);}else{if(_6d3==="floor"){this.floorError.style.display="block";this.floorErrorText.innerHTML=_67e.replaceValidationErrCode(i18n.floorListError,_6d4);}else{if(_6d3==="flat"){this.flatError.style.display="block";this.flatErrorText.innerHTML=_67e.replaceValidationErrCode(i18n.flatListError,_6d4);}}}}}}},removeDropDownError:function(_6d5){if(_6d5==="zone"){this.zoneError.style.display="none";this.zoneErrorText.innerHTML="";}else{if(_6d5==="district"){this.districtError.style.display="none";this.districtErrorText.innerHTML="";}else{if(_6d5==="estate"){this.estateError.style.display="none";this.estateErrorText.innerHTML="";}else{if(_6d5==="block"){this.blockError.style.display="none";this.blockErrorText.innerHTML="";}else{if(_6d5==="floor"){this.floorError.style.display="none";this.floorErrorText.innerHTML="";}else{if(_6d5==="flat"){this.flatError.style.display="none";this.flatErrorText.innerHTML="";}}}}}}},displayServiceError:function(_6d6){var _6d7=_67e.replaceValidationErrCode(i18n.propValError,_6d6);var _6d8="<div class=\"pearl-bg postn\">"+"<i class=\"icon-information display info-ioc span-pos\"></i>"+"<span class=\"display margin\">"+_6d7+"</span>"+"<div class=\"clear\"></div>"+"</div>";this.propValError.innerHTML=_6d8;this.propValError.style.display="block";},hideServiceError:function(){this.propValError.innerHTML="";this.propValError.style.display="none";},resetPropValPanel:function(){this.disablePropValButton();this.disablePropValPanel();this.hideServiceError();this.propertyAddress.innerHTML="";this.valuation.innerHTML="";this.grossFloorArea.innerHTML="";this.saleableArea.innerHTML="";this.propertyAge.innerHTML="";this.valuationDate.innerHTML="";}});});},"url:hdx/bijits/tools/serviceFinder/templates/ServiceFinder.html":"<div class=\"find-branch\">\n   <div class=\"service-finder-content\">\n      <div class=\"mobile-mar-b page-title hide-on-mobile\">\n         <h1>${i18n.serviceFinder}</h1>\n      </div>\n      <div class=\"l-twelve m-eight s-four columns pearl-bg dropdown-checkboxes\">\n         <div class=\"l-five m-eight s-four columns location-drop-down nopad\">\n            <div class=\"row\">\n               <div class=\"l-six m-three s-four columns\">\n                  <!-- Location Drop Down Starts Here -->\n                  <span id=\"locationId\" class=\"accessibleHidden\" style=\"visibility: hidden;\">${i18n.selectTerritory} ${i18n.dropdown}</span>\n                  <select name=\"location\" aria-labelledby=\"locationId\" data-dojo-type=\"hdx/dijits/form/Select\" data-dojo-attach-point=\"location\" data-dojo-props=\"maxHeight:'260',scrollOnFocus :true,forceWidth:true\"></select>\n                  <!-- Location Drop Down Ends Here -->\n               </div>\n               <div class=\"l-six m-three s-four columns\">\n                  <!-- Sub-Location Drop Down Starts Here -->\n                  <span id=\"subLocationId\" class=\"accessibleHidden\" style=\"visibility: hidden;\">${i18n.selectDistrict} ${i18n.dropdown}</span>\n                  <select name=\"subLocation\" aria-labelledby=\"subLocationId\" data-dojo-type=\"hdx/dijits/form/Select\" data-dojo-attach-point=\"subLocation\" data-dojo-props=\"maxHeight:'260',scrollOnFocus :true,forceWidth:true\"></select>\n                  <!-- Sub-Location Drop Down Ends Here -->\n               </div>\n            </div>\n            <div class=\"row\">\n               <div class=\"l-twelve m-six s-four columns hide\">\n                  <!-- Services Drop Down Starts Here -->\n                  <span id=\"serviceTypeId\" class=\"accessibleHidden\" style=\"visibility: hidden;\">${i18n.all} ${i18n.dropdown}</span>\n                  <select name=\"serviceType\" aria-labelledby=\"serviceTypeId\" data-dojo-type=\"hdx/dijits/form/Select\" data-dojo-attach-point=\"serviceType\" data-dojo-props=\"maxHeight:'260',scrollOnFocus :true,forceWidth:true\"></select>\n                  <!-- Services Drop Down Ends Here -->\n               </div>\n            </div>\n         </div>\n         <!-- Location Types checkboxes starts here -->\n         <div class=\"l-six m-eight s-four columns location-check-boxes hide tablet-pad-l\" data-dojo-attach-point=\"locationType\">\n            <div data-dojo-attach-point=\"checkBoxType\" >\n               <div class=\"l-six m-four s-four columns\" data-dojo-attach-point=\"leftLocationTypes\">\n               </div>\n               <div class=\"l-six m-four s-four columns\" data-dojo-attach-point=\"rightLocationTypes\">\n               </div>\n            </div>\n         </div>\n      </div>\n      <!-- Close/Filter by services button starts here -->\n      <div class=\"hideonmobile search-position\">\n         <a href=\"javascript:void(0)\" class=\"filter-by-services-button\" data-dojo-attach-point=\"filterByServices\">\n         <span class=\"close-button\">\n         ${i18n.filterbyServices}\n         </span>\n         <span\n           class=\"accessibleHidden expandedSpan\"> ${i18n.expandDisclaimer}</span><span\n           class=\"accessibleHidden collapsedSpan hide\"> ${i18n.collapseDiscalimer}</span>\n         <em class=\"icon-chevron-down\">\n         </em>\n         </a>\n      </div>\n      <!-- Close/Filter by services button ends here -->\n      <div class=\"l-twelve m-eight s-four columns bottom mobile-pad-l mobile-pad-r nopad\">\n         <!-- <div class=\"s-four columns mobile-mar-b page-title show-on-mobile\" data-dojo-attach-point=\"toolTitle\"> -->\n         <div class=\"s-four columns mobile-mar-b page-title show-on-mobile\" data-dojo-attach-point=\"toolTitle\" custom_id=\"toolTitle\">\n            <p class=\"mobileheader\">\n               ${i18n.serviceFinder}\n            </p>\n            <a custom_id=\"filterSearchMobile\" class=\"chvicon\" href=\"javascript: void(0)\"><em class=\"icon-search\"></em><span class=\"accessibleHidden\">${i18n.accessibleRefineSearch}</span><span class=\"accessibleHidden\">${i18n.accessibleLinkOverlay}</span></a>\n         </div>\n         <div class=\"l-eight m-five s-four columns rightsection nopad\">\n            <div class=\"findme\">\n               <a href=\"#\" onclick=\"return false;\" class=\"findme-link\"  data-dojo-attach-point=\"findMyLocation\">\n                  <div class=\"findmetext findme-content\">\n                     <em class=\"icon-location icon-location-find-text\"></em>\n                     <span class=\"button-findme\">${i18n.findMe}</span>\n                  </div>\n               </a>\n            </div>\n            <div id=\"map_canvas\" style=\"width: 100%; height: 100%\" data-dojo-attach-point=\"mapCanvas\"></div>\n            <div class=\"disclaimer-icon\" custom_id=\"disclaimer_overlay\">\n               <p class=\"singleicon clearfix\">\n                  <a class=\"chvicon t16r\" href=\"javascript:void(0);\">\n                  <i class=\"icon-information\"></i>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n                  </a>\n               </p>\n            </div>\n         </div>\n         <div class=\"l-four m-three s-four columns leftsection\" data-dojo-attach-point=\"resultScrollList\">\n            <div class=\"padding-mmap\" data-dojo-attach-point=\"listing\"></div>\n            <img src=\"/clientapp/hdx/images/loaders/Spinner64Dark.gif\" data-dojo-attach-point=\"loadingIcon\" />\n            <div data-dojo-attach-point=\"serviceFinderDetails\"></div>\n         </div>\n         <div class=\"l-twelve columns\">\n         \t<div class=\"legend-down\">\n            <span data-dojo-attach-point=\"legendBar\"></span>\n            </div>\n         </div>\n      </div>\n      <!-- Disclamier begins here -->\n      <div data-dojo-type=\"hdx/dijits/Disclaimer\"\n\t\t\t\tdata-collapsable-header=\"disclaimer\">\n\t\t\t\t<div class=\"discwrapper discmargin\">\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"l-twelve m-eight s-four columns\">\n\t\t\t\t\t\t\t<div role=\"region\" aria-labelledby=\"disclaimer-heading\" class=\"content page-disclaimer disclaimer-container\">\n\t\t\t\t\t\t\t\t<h2 class=\"disclaimer\" data-disclaimer-click-target=\"val\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" class=\"disclaimer-heading\" aria-controls=\"disclaimer_content\" aria-expanded=\"true\" id=\"disclaimer-heading\"\n\t\t\t\t\t\t\t\t\t\tcustom_id=\"disclaimer-heading\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"title bold icon-disc-chevron-down\">${i18n.disclaimerTitle}</span>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclass=\"accessibleHidden expandedSpan hide\"> ${i18n.expandDisclaimer}</span><span\n\t\t\t\t\t\t\t\t\t\tclass=\"accessibleHidden collapsedSpan\"> ${i18n.collapseDiscalimer}</span>\n\t\t\t\t\t\t\t\t\t\t<em class=\"collapsed icon-chevron-down hide\">\n\t\t\t\t\t\t\t\t\t\t</em>\n\t\t\t\t\t\t\t\t\t\t<em class=\"expanded icon-chevron-up\">\n\t\t\t\t\t\t\t\t\t\t</em>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t<div id=\"disclaimer_content\" data-disclaimer-click-module=\"val\"\n\t\t\t\t\t\t\t\t\tclass=\"row disclaimer-content\">\n\t\t\t\t\t\t\t        <div id=\"disclaimer_page\" class=\"content t14r\">\n\t\t\t\t\t\t\t            \t${i18n.disclaimerText}\n\t\t\t\t\t\t\t        </div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n      <!-- Disclamier ends here -->\t\n   </div>\n</div>","url:hdx/bijits/tools/propertyvaluation/template/propertyvaluationtool.html":"<div class=\"content\" data-dojo-attach-point=\"abslContainerContent\">\n    <div class=\"top propertyvaluation\">\n        <form>\n            <div class=\"row d-mar-b\">\n                <p class=\"t14b\">${i18n.headingfortool}</p>\n                <div class=\"l-six m-five s-four columns tabletview arrow-right arrowdown desktop-pad-l\" data-dojo-attach-point=\"desktopOnlyView\">\n                    <h3 class=\"heading t22l\">${i18n.column1Heading}</h3>\n                    <div class=\"zone first\">\n                        <span class=\"labelclass\">${i18n.zone}</span><span id=\"zonevalue\" class=\"mobile-accessibleHidden\" style=\"visibility: hidden;\">${i18n.zone} ${i18n.dropdown}</span>\n                        <select aria-labelledby=\"zonevalue\" data-dojo-props=\"maxHeight:260\" data-dojo-type=\"hdx/dijits/form/Select\" aria-atomic=\"true\" aria-required=\"true\" data-dojo-attach-point=\"zone\" data-dojo-attach-event=\"onChange:selectZone,onBlur:zoneDropDownBlur\">\n                        </select>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"zoneError\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                            <span data-dojo-attach-point=\"zoneErrorText\" role=\"alert\"></span>\n                        </div>\n                    </div>\n                    <div class=\"district first\">\n\t\t\t\t\t\t<span class=\"labelclass\" >${i18n.district}</span><span id=\"districtvalue\" class=\"mobile-accessibleHidden\" style=\"visibility: hidden;\">${i18n.district} ${i18n.dropdown}</span>\n                        <select disabled aria-labelledby=\"districtvalue\" data-dojo-props=\"maxHeight:260\" data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" class=\"district\" data-dojo-attach-point=\"district\" data-dojo-attach-event=\"onChange:selectDistrict,onBlur:districtDropDownBlur\">\n                        </select>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"districtError\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                            <span data-dojo-attach-point=\"districtErrorText\" role=\"alert\"></span>\n                        </div>\n                    </div>\n                    <div class=\"estate-name first\">\n                        <span class=\"labelclass\" >${i18n.estate}</span><span id=\"estatevalue\" class=\"mobile-accessibleHidden\" style=\"visibility: hidden;\">${i18n.estate} ${i18n.dropdown}</span>\n                        <select disabled aria-labelledby=\"estatevalue\" data-dojo-props=\"maxHeight:260\" data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" data-dojo-attach-point=\"estate\" class=\"estateName\" data-dojo-attach-event=\"onChange:selectEstate,onBlur:estateDropDownBlur\">\n                        </select>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"estateError\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                            <span data-dojo-attach-point=\"estateErrorText\" role=\"alert\"></span>\n                        </div>\n                    </div>\n                    <div class=\"block first\">\n                        <span class=\"labelclass\" >${i18n.block}</span><span id=\"blockvalue\" class=\"mobile-accessibleHidden\" style=\"visibility: hidden;\">${i18n.block} ${i18n.dropdown}</span>\n                        <select disabled aria-labelledby=\"blockvalue\" data-dojo-props=\"maxHeight:260\" data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" data-dojo-attach-point=\"block\" class=\"block\" data-dojo-attach-event=\"onChange:selectBlock,onBlur:blockDropDownBlur\">\n                        </select>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"blockError\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                            <span data-dojo-attach-point=\"blockErrorText\" role=\"alert\"></span>\n                        </div>\n                    </div>\n                    <div class=\"floor first floorCombobox\">\n                        <span class=\"labelclass\" >${i18n.floor}</span><span id=\"floorvalue\" class=\"mobile-accessibleHidden\" style=\"visibility: hidden;\">${i18n.floor} ${i18n.dropdown}</span>\n                        <select disabled aria-labelledby=\"floorvalue\" data-dojo-props=\"maxHeight:260\" data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" data-dojo-attach-point=\"floor\" class=\"floor\" data-dojo-attach-event=\"onChange:selectFloor,onBlur:floorDropDownBlur\">\n                        </select>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"floorError\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                            <span data-dojo-attach-point=\"floorErrorText\" role=\"alert\"></span>\n                        </div>\n                    </div>\n                    <div class=\"flat first flatCombobox\">\n                        <span id=\"flatvalue\" class=\"labelclass\" >${i18n.flat}</span>\n                        <select disabled aria-labelledby=\"flatvalue\" data-dojo-props=\"maxHeight:260\" data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" data-dojo-attach-point=\"flat\" data-dojo-attach-event=\"onChange:selectFlat,onBlur:flatDropDownBlur\">\n                        </select>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"flatError\" class=\"error-message t12r\" style=\"display:none;\"> <span data-dojo-attach-point=\"errorIcon\" class=\"icon-circle-error\"></span>\n                            <span data-dojo-attach-point=\"flatErrorText\" role=\"alert\"></span>\n                        </div>\n                    </div>\n                    <div class=\"first propertyEvaluation\">\n                        <label class=\"labelclass\" for=\"btnPropertyEvaluation\" style=\"display: none\">${i18n.valuation_button}</label>\n                        <input disabled type=\"button\" id=\"btnPropertyEvaluation\" data-dojo-attach-point=\"propertyButton\" data-dojo-attach-event=\"click:getPropertyEvaluation\" class=\"primaryaction primaryround\" value=\"${i18n.valuation_button}\" >\n                    </div>\n                </div>\n                <div class=\"answerDivCl\">\n                    <div class=\"mortgap showontablet\"></div>\n                    <div class=\"l-six m-eight s-four columns marginTop14x\" data-dojo-attach-point=\"answerList\">\n                        <h3 class=\"heading t22l\">${i18n.column2Heading}</h3>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"propValError\" style=\"display: none\"></div>\n\t\t\t\t\t\t<div data-dojo-attach-point=\"answerDiv\">\n\t\t\t\t\t\t\t<h3 class=\"headingresult showondesktop\" tabindex = \"0\" data-dojo-attach-point = \"propertyValueResultsHeading\">${i18n.subtitle_first}</h3>\n\t\t\t\t\t\t\t<p class=\"hideondesktop headingline\" tabindex = \"0\" data-dojo-attach-point = \"propertyValueResultsPara\">${i18n.subtitle_second}</p>\n\t\t\t\t\t\t\t<hr class=\"showontablet\"/>\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"l-twelve m-eight s-four columns nopad\">\n\t\t\t\t\t\t\t\t\t<ul class=\"propvaluationresult\">\n\t\t\t\t\t\t\t\t\t\t<li class=\"liBorderLine greybar\"><span class=\"listAnsValLeftAddress\">${i18n.address}</span> <span data-dojo-attach-point=\"propertyAddress\" class=\"listAnsValRightAddress\"></span></li>\n\t\t\t\t\t\t\t\t\t\t<li class=\"liBorderLine\"><span class=\"listAnsValLeft\">${i18n.valuation}</span> <span data-dojo-attach-point=\"valuation\" class=\"listAnsValRight\"></span></li>\n\t\t\t\t\t\t\t\t\t\t<li class=\"liBorderLine\"><span class=\"listAnsFlAreaLeft\" >${i18n.grossFloorArea} ${i18n.squareFt}</span> <span data-dojo-attach-point=\"grossFloorArea\" class=\"listAnsFlAreaRight\" ></span></li>\n\t\t\t\t\t\t\t\t\t\t<li class=\"liBorderLine\"><span class=\"listAnsSalAreaLeft\">${i18n.saleableArea} ${i18n.squareFt}</span> <span data-dojo-attach-point=\"saleableArea\" class=\"listAnsSalAreaRight\"></span></li>\n\t\t\t\t\t\t\t\t\t\t<li class=\"liBorderLine\"><span class=\"listAnsPropAgeLeft\">${i18n.propertyAge} ${i18n.years}</span> <span data-dojo-attach-point=\"propertyAge\" class=\"listAnsPropAgeRight\" ></span></li>\n\t\t\t\t\t\t\t\t\t\t<li class=\"liBorderLine\"><span class=\"listAnsDateLeft\">${i18n.valuationDate}</span> <span data-dojo-attach-point=\"valuationDate\" class=\"listAnsDateRight\"></span></li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n                    </div>\n                </div>\n            </div>\n        </form>\n    </div>\n    <div class=\"row\">\n      <div class=\"l-twelve m-eight s-four columns propEvalInfo\" >\n\n            <p class=\"t14r\" data-dojo-attch-point=\"propEvalInfoDesc\" >\n                <span class=\"t14r pewter\">${i18n.disclaimerDescription}</span>\n            </p>\n        </div >\n        <hr class=\"\" />\n        </div>\n</div>","hdx/bijits/tools/eForm/_FormValidationMixin":function(){define("hdx/bijits/tools/eForm/_FormValidationMixin",["dojo/_base/declare","dojo/query","dojo/_base/array","dojo/dom","dijit/form/ValidationTextBox","dijit/form/Select","dijit/form/_FormSelectWidget","dojo/number","dojo/date/locale","dojo/date","dojo/_base/lang","dijit/layout/StackContainer","dijit/layout/ContentPane","dijit/form/Form","dijit/form/RadioButton"],function(_6d9,_6da,_6db,dom,_6dc,_6dd,_6de,_6df,_6e0,date,lang){return _6d9([],{postCreate:function(){var self=this;_6d9.safeMixin(this._stack,{selectChild:function(page,_6e1){var _6e2=this.getChildren();var _6e3=_6db.indexOf(_6e2,this.selectedChildWidget);var _6e4=_6db.indexOf(_6e2,page);self._formScope=this.selectedChildWidget;if(_6e4<=_6e3){this.inherited(arguments);}else{var _6e5=self.validate();_6e5&=self.validateInputFields();if(_6e5){this.inherited(arguments);}}self._formScope=null;}});},isValid:function(){},_getDescendantFormWidgets:function(_6e6){_6e6=_6e6||(this._formScope||this).getChildren();return this.inherited(arguments,[_6e6]);},updateFieldValidation:function(_6e7){var self=this;if(_6e7.isInstanceOf(_6dc)){_6e7.set("validator",function(_6e8){return self._validateField(_6e7,_6e8);});}else{if(_6e7.isInstanceOf(_6dd)||_6e7.isInstanceOf(_6de)){self._validateField(_6e7);}else{if(_6e7.validate){console.error(_6e7+" has validate() but not handled by eForm");}}}},_getDescendantFormValidationFields:function(){var _6e9=[];var self=this;var _6ea=_6db.map(_6db.filter(this._getDescendantFormWidgets(),function(_6eb){return (_6eb.validate&&_6eb.name);}),function(_6ec){return _6ec.name;});_6db.forEach(_6da("input,select",(this._formScope||this.formNode).containerNode),function(_6ed){if(_6ed.name&&_6db.indexOf(_6e9,_6ed.name)==-1&&(!_6ed.type||_6ed.type!="hidden")&&(self._fieldDisplayedInShowif(_6ed))){_6e9.push(_6ed.name);}});_6e9=_6db.filter(_6e9,function(_6ee){return (_6db.indexOf(_6ea,_6ee)==-1);});return _6e9;},_fieldDisplayedInShowif:function(_6ef){var _6f0=true;_6db.some(_6da("div[data-dojo-attach-point^='showif'].dijitHidden",(this._formScope||this.formNode).containerNode),function(_6f1){if(dom.isDescendant(_6ef,_6f1)){_6f0=false;return true;}});return _6f0;},validateInputFields:function(){var _6f2=[];this._updateFormValues();var self=this;_6db.forEach(this._getDescendantFormValidationFields(),function(_6f3){_6db.forEach(self._validateField(_6f3,self._formValues[_6f3]),function(_6f4){_6f2.push(_6f4);});});if(_6f2.length){var _6f5=_6da("[data-dojo-attach-point='validationErrorMessage']",this._stack.selectedChildWidget.containerNode)[0];if(_6f5){_6f5.innerHTML=_6f2.join("<br>");}return false;}return true;},_getFieldValidations:function(_6f6){var _6f7=[];var _6f8=[];var self=this;_6db.forEach(this._validation[_6f6],function(rule){switch(rule["validate"][0]){case "mandatory":_6f7.push({conditionList:rule["if"],error:rule["desckey"]});break;case "pattern":var _6f9="^.*$";switch(rule["validate"][1]){case "Address":_6f9="^[\\w\\-\\.\\/\\,' ]*$";break;case "Name":_6f9="^[\\w ']*$";break;case "AlphaNumeric":_6f9="^\\w+$";break;case "AlphaNumeric_space":_6f9="^[\\w ]*$";break;case "Phone_no":_6f9="^[0-9\\-\\.,\\(\\)#+ ]*[0-9][\\-\\.,\\(\\)#+ ]*$";break;case "Valid_phone_no":_6f9="^((?!\\s*2\\s*2\\s*3\\s*3\\s*3\\s*0\\s*0\\s*0\\s*).+)*$";break;case "Country_code":_6f9="^(\\+)?[0-9 ]*[0-9][ ]*$";break;case "Email":_6f9="^([\\w_\\-\\.])+@([\\w_\\-])+(\\.[\\w_\\-]+)+$";break;case "Symbols":_6f9="^[!-~ ]*$";break;case "Alphabet":_6f9="^[a-zA-Z]*$";break;case "Alphabet_space":_6f9="^[a-zA-Z ]*$";break;case "Numeric":_6f9="^\\d+$";break;case "Postal_code":_6f9="^\\d{5}-\\d{4}|\\d{5}|[A-Z]\\d[A-Z] \\d[A-Z]\\d$";break;default:undefined;}_6f8.push({validator:function(_6fa,_6fb,_6fc){return ((new RegExp("^(?:"+_6f9+")"+(_6fc?"":"?")+"$")).test(_6fb));},error:rule["desckey"]});break;case "numericFormat":_6f8.push({validator:function(_6fd,_6fe,_6ff){return self.validateNumericFormat(rule["validate"][1],_6fe);},error:rule["desckey"]});break;case "decimalPlace":var _700;_6db.forEach(self._validation[_6f6],function(_701){if(_701["validate"][0]=="numericFormat"){_700=_701["validate"][1];}});_6f8.push({validator:function(_702,_703,_704){return self.validateNumericDecimalPlace(_700,_703,rule["validate"][1]);},error:rule["desckey"]});break;case "lowRange":var _705=_6df.parse(rule["validate"][1]);_6f8.push({validator:function(_706,_707,_708){var _709=_6df.parse(_707);if(isNaN(_709)||isNaN(_705)){return false;}return (_709>=_705);},error:rule["desckey"]});break;case "highRange":var _70a=_6df.parse(rule["validate"][1]);_6f8.push({validator:function(_70b,_70c,_70d){var _70e=_6df.parse(_70c);if(isNaN(_70e)||isNaN(_70a)){return false;}return (_70e<=_70a);},error:rule["desckey"]});break;case "maxLength":var _70f=parseInt(rule["validate"][1]);_6f8.push({validator:function(_710,_711,_712){return (_711.length<=_70f);},error:rule["desckey"]});break;case "minLength":var _713=parseInt(rule["validate"][1]);_6f8.push({validator:function(_714,_715,_716){return (_715.length>=_713);},error:rule["desckey"]});break;case "account":_6f8.push({validator:function(_717,_718,_719){return self.checkAccount(_718);},error:rule["desckey"]});break;case "dateFormat":_6f8.push({validator:function(_71a,_71b,_71c){return self.validateDateFormat(_71b,rule["validate"][1]);},error:rule["desckey"]});break;case "age":var _705=parseInt(rule["validate"][1]);var _70a=parseInt(rule["validate"][2]);var _71d;_6db.forEach(self._validation[_6f6],function(_71e){if(_71e["validate"][0]=="dateFormat"){_71d=_71e["validate"][1];}});_6f8.push({validator:function(_71f,_720,_721){return self.checkAge(_720,_705,_70a,_71d);},error:rule["desckey"]});break;case "hkid":_6f8.push({validator:function(_722,_723,_724){return self.checkHKID(_723);},error:rule["desckey"]});break;default:undefined;}});return {requireValidator:_6f7,validator:_6f8};},_validateField:function(_725,_726){var _727=false;var _728=true;var _729="";var _72a=[];var self=this;var _72b=(typeof _725!="string");_726=_726||"";var _72c=this._getFieldValidations(_72b?_725.name:_725);_6db.some(_72c.requireValidator,function(_72d){_727=self.evaluateConditionList(_72d.conditionList);if(_727){_729=self.errorNls[_72d.error];return true;}});var _72e=_6da("[name='"+(_72b?_725.name:_725)+"']",(this._formScope||this.formNode).containerNode);var _72f=false;if(_72e.length>0){var _730=0;_6db.some(_72e,function(_731){if(_731&&self._fieldDisplayedInShowif(_731)){_730++;return true;}});if(_730==0){_72f=true;}}if(_72f){return true;}if(!_72b){if(_727&&_726==""){_72a.push(_729);}if(_726!=""){_6db.forEach(_72c.validator,function(_732){if(!_732.validator(_725,_726,_727)){_728=false;_72a.push(self.errorNls[_732.error]);}});}return _72a;}else{if(_725.isInstanceOf){if(_725.isInstanceOf(_6dc)){_725.required=_727;_725.missingMessage=_729;if(_727&&_726==""){_728=false;}if(_726!=""){_6db.forEach(_72c.validator,function(_733){if(_728&&!_733.validator(_725,_726,_727)){_728=false;_725.invalidMessage=self.errorNls[_733.error];}});}}else{if(_725.isInstanceOf(_6dd)||_725.isInstanceOf(_6de)){_725.required=_727;_725._missingMsg=_729;if(_727&&_726==""){_728=false;}}else{console.error("eForm didn't handle "+_725+" validation of digit type"+(typeof _725));}}if(_728&&self._crossfieldValidation[_725.name]){_6db.forEach(self._crossfieldValidation[_725.name],function(_734){var _735=self._validateField(self[_734],self.getFieldValue(_734));_728&=(_735===true);});}return _728;}else{_6db.forEach(_72c.validator,function(_736){if(_728&&!_736.validator(_725,_726,_727)){_728=false;_72a.push(self.errorNls[_736.error]);}});if(_72a.length){var _737=_6da("[data-dojo-attach-point='validationErrorMessage']",self._stack.selectedChildWidget.containerNode)[0];if(_737){_737.innerHTML=_72a.join("<br>");}}return _728;}}},validateNumericFormat:function(_738,_739){var _73a="^.*$";var _73b="-";var _73c="";var _73d=".";switch(_738){case "US_with_group":_73c=",";_73d=".";break;case "US_with_no_group":_73c="";_73d=".";break;case "IT_with_group":_73c=".";_73d=",";break;case "IT_with_no_group":_73c="";_73d=",";break;default:undefined;}if(_73c!=""){_73a="^\\"+_73b+"?([1-9]{1}[0-9]?[0-9]?(\\"+_73c+"[0-9]{3})*(\\"+_73d+"[0-9]+)?|[1-9]{1}[0-9]*(\\"+_73d+"[0-9]+)?|0(\\"+_73d+"[0-9]+)?|(\\"+_73d+"[0-9]+)?)$";}else{_73a="^\\"+_73b+"?([1-9]{1}[0-9]*(\\"+_73d+"[0-9]+)?|0(\\"+_73d+"[0-9]+)?|(\\"+_73d+"[0-9]+)?)$";}return ((new RegExp(_73a)).test(_739));},validateNumericDecimalPlace:function(_73e,_73f,_740){var _741="^.*$";var _742="-";var _743="";var _744=".";switch(_73e){case "US_with_group":_743=",";_744=".";break;case "US_with_no_group":_743="";_744=".";break;case "IT_with_group":_743=".";_744=",";break;case "IT_with_no_group":_743="";_744=",";break;default:undefined;}if(_743!=""){_741="^\\"+_742+"?([1-9]{1}[0-9]?[0-9]?(\\"+_743+"[0-9]{3})*(\\"+_744+"[0-9]{"+_740+"})?|[1-9]{1}[0-9]*(\\"+_744+"[0-9]{"+_740+"})?|0(\\"+_744+"[0-9]{"+_740+"})?|(\\"+_744+"[0-9]{"+_740+"})?)$";}else{_741="^\\"+_742+"?([1-9]{1}[0-9]*(\\"+_744+"[0-9]{"+_740+"})?|0(\\"+_744+"[0-9]{"+_740+"})?|(\\"+_744+"[0-9]{"+_740+"})?)$";}return ((new RegExp(_741)).test(_73f));},checkAccount:function(s){var _745=s.indexOf("-",0);while(_745!=-1){s=s.substring(0,_745)+s.substring(_745+1,s.length);_745=s.indexOf("-",0);}if(s.length==12){s=s.substring(0,9);}var _746=0;var _747=10;for(var i=s.length;i>0;i--){var _748=s.charAt(i-1);if(_747%2==0){_746+=parseInt(_748)*1;}else{var tmp=(parseInt(_748)*2).toString();for(var j=0;j<tmp.length;j++){_746+=parseInt(tmp.charAt(j));}}_747--;}if(_746%10!=0){return false;}return true;},validateDateFormat:function(_749,_74a){var _74b=_6e0.parse(lang.trim(_749),{datePattern:_74a,selector:"date"});if(!_74b){return false;}else{return true;}},checkAge:function(_74c,_74d,_74e,_74f){_74f=_74f||"ddMMyyyy";var _750=_6e0.parse(lang.trim(_74c),{datePattern:_74f,selector:"date"});if(!_750||(!_74d&&!_74e)){return false;}var _751=true;var _752=true;if(_74e){var _753=date.add(_754,"year",(-1*_74e)-1);if(_750.getTime()<_753.getTime()){_751=false;}}var _754=new Date();if(_74d){var _755=date.add(_754,"year",(-1*_74d));if(_750.getTime()>_755.getTime()){_752=false;}}var _756=true;if(_74d&&_74e){if(_74e>=_74d){_756=_751&&_752;}else{_756=_751||_752;}}else{if(_74e){_756=_751;}else{_756=_752;}}return _756;},checkHKID:function(_757){var pos=_757.indexOf("(");var pos1=_757.indexOf(")");var len=_757.length;var x;var _758="";if(pos<7||pos>8||pos!=(pos1-2)||len!=(pos1+1)){return false;}else{var id=" "+_757.toLowerCase();_757=id.substring(pos-7,len);var num=0;for(var i=0;i<8;i++){x=_757.charCodeAt(i);if(x==32){num+=36*(9-i);}else{if(x>32&&x<58){num+=(x-48)*(9-i);}else{num+=(x-87)*(9-i);}}}x=num%11;if(x!=0){x=11-x;}if(x==10){_758="a";}else{_758=x.toString();}if(_757.charAt(9)==_758){return true;}else{return false;}}}});});},"url:hdx/bijits/tools/mortgageCalculator/template/DepositLinkedMortgage.html":"<div class=\"third-tab deposit-calc\">\n\t<div class=\"row\">\n\t\t<div class=\"l-twelve m-eight s-four columns mobile-pad-l mobile-pad-r\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<form action=\"\"\n\t\t\t\t\tname=\"mortgageCalculator\" class=\"deposit-linked-tab\">\n\t\t\t\t\t<div class=\"l-three m-four s-four columns arrowright\">\n\t\t\t\t\t\t<h2 class=\"t22l\">${i18n.currentDetails}</h2>\n\t\t\t\t\t\t<fieldset>\n\t\t\t\t\t\t\t<legend>${i18n.currentRepaymentFrequency}</legend>\n\t\t\t\t\t\t\t<span class=\"floatLradio\"> <span class=\"backurlradio\">\n\t\t\t\t\t\t\t\t\t<input id=\"repayment\"\n\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"fortnightlyButton\"\n\t\t\t\t\t\t\t\t\tclass=\"fortnightly-button opacityclassradio \" type=\"radio\"\n\t\t\t\t\t\t\t\t\tdata-dojo-type=\"dijit/form/RadioButton\" name=\"repay\" value=\"0\" />\n\t\t\t\t\t\t\t</span> <label for=\"repayment\" class=\"labradio\">${i18n.fortnightly}</label>\n\t\t\t\t\t\t\t</span> <span class=\"floatLradio marl32\"> <span\n\t\t\t\t\t\t\t\tclass=\"backurlradiomonthely\"> <input id=\"labradio\"\n\t\t\t\t\t\t\t\t\tclass=\"monthly-button  opacityclassradiomontly\" type=\"radio\"\n\t\t\t\t\t\t\t\t\tdata-dojo-type=\"dijit/form/RadioButton\" aria-required=\"true\"\n\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"monthlyRadioButton\" type=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"repay\" checked=\"checked\" value=\"0\" /></span> <label\n\t\t\t\t\t\t\t\tfor=\"labradio\" class=\"labradio\">${i18n.monthly}</label>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t<div id=\"loanAmount\" class=\"labelClass labelmargin\">${i18n.loanAmount}</div>\n\t\t\t\t\t\t<div style=\"position: relative\"\n\t\t\t\t\t\t\tclass=\"clearfix-position amountHKD\">\n\t\t\t\t\t\t\t<div class=\"loantxtbox\" data-dojo-attach-point=\"loanAmount\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=\"loanTerm\" class=\"labelClass labelmargin\">${i18n.loanTerm}</div>\n\t\t\t\t\t\t<div style=\"position: relative\"\n\t\t\t\t\t\t\tclass=\"clearfix-position amountHKD\">\n\t\t\t\t\t\t\t<div class=\"loantxtbox\" data-dojo-attach-point=\"loanPeriod\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"labelClass\">${i18n.lumpDeposit}</div>\n\t\t\t\t\t\t<div style=\"position: relative\"\n\t\t\t\t\t\t\tclass=\"clearfix-position amountHKD\">\n\t\t\t\t\t\t\t<div class=\"loantxtbox\"\n\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"lumpSumDepositAmount\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"labelClass\">${i18n.monthlySavings}</div>\n\t\t\t\t\t\t<div style=\"position: relative\"\n\t\t\t\t\t\t\tclass=\"clearfix-position monthly-savings-textbox amountHKD\">\n\t\t\t\t\t\t\t<div class=\"loantxtbox\" data-dojo-attach-point=\"monthlySavings\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"l-four m-four s-four columns arrowdown showonmobile postn\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"l-three m-four s-four columns arrowright d-arrow\">\n\t\t\t\t\t\t<h2 class=\"t22l\">${i18n.mortgageLoanInterestRate}</h2>\n\t\t\t\t\t\t<div class=\"labelClass\">${i18n.savingsDepoRate}</div>\n\t\t\t\t\t\t<div style=\"position: relative\"\n\t\t\t\t\t\t\tclass=\"clearfix-position rate-textbox\">\n\t\t\t\t\t\t\t<div id=\"loanperiod4\" data-target=\"saving-target\"\n\t\t\t\t\t\t\t\tclass=\"firstTextBox rate-textbox-sibling\"\n\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"savingsDepositRate\" role=\"alert\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"labelClass\">${i18n.stdMortgageRate}</div>\n\t\t\t\t\t\t<div style=\"position: relative\"\n\t\t\t\t\t\t\tclass=\"clearfix-position rate-textbox\">\n\t\t\t\t\t\t\t<div data-target=\"standard-target\" class=\"firstTextBox\"\n\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"stdMortgageRate\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"labelClass\">${i18n.depositMortgageRate}</div>\n\t\t\t\t\t\t<div style=\"position: relative\"\n\t\t\t\t\t\t\tclass=\"clearfix-position rate-textbox\">\n\t\t\t\t\t\t\t<div data-target=\"deposit-target\" class=\"firstTextBox\"\n\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"dlmRate\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type=\"button\" value=\"${i18n.calculateBtn}\"\n\t\t\t\t\t\t\tid=\"calculate\"\n\t\t\t\t\t\t\tclass=\"primaryaction primarysquare disabled\"\n\t\t\t\t\t\t\tdata-dojo-attach-point=\"calculateButton\">\n\t\t\t\t\t\t<div class=\"resetBtn\">\n\t\t\t\t\t\t\t<input type=\"button\" value=\"${i18n.resetBtn}\"\n\t\t\t\t\t\t\t\tid=\"Reset Calculator\"\n\t\t\t\t\t\t\t\tclass=\"secondaryaction primarysquare hideprimaryaction\"\n\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"ResetcalculateButton\"> <span\n\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"refreshIcon\" class=\"icon-refresh hide\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t<div class=\"l-five m-eight s-four columns mobile-pad-l mobile-pad-r\">\n\t\t\t\t\t<hr class=\"hideondesktop\"/>\n\t\t\t\t\t<form>\n\t\t\t\t\t\t<div class=\"resultdep\">\n\t\t\t\t\t\t\t<div data-dojo-attach-point=\"serviceError\"></div>\n\t\t\t\t\t\t\t<div class=\"resultdepOpacity\"\n\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"resultdepOpacity\">\n\t\t\t\t\t\t\t\t<h2 data-dojo-attach-point = \"toolResults\" tabindex =\"0\" class=\"t16b\">${i18n.yourResults}</h2>\n\t\t\t\t\t\t\t\t<table cellspacing=\"0\" class=\"cc-table\"\n\t\t\t\t\t\t\t\t\tsummary=\"${i18n.yourResults}\">\n\t\t\t\t\t\t\t\t\t<caption class=\"hide\">${i18n.yourResults}</caption>\n\t\t\t\t\t\t\t\t\t<thead class=\"t14b\">\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row1\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" scope=\"col\"></th>\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column2\" scope=\"col\" id=\"header01\">${i18n.depositMortgage}</th>\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column3\" scope=\"col\" id=\"header02\">${i18n.stdMortgage}</th>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t<tbody class=\"t14r\">\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row2\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" id=\"header03\">${i18n.numMortgageInstalments}</th>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column2\" data-dojo-attach-point=\"r2c2\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers01 headers03\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialValue}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"dlmNumOfInstalment\"></span></td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column3\" data-dojo-attach-point=\"r2c3\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers02 headers03\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialValue}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"stdNumOfInstalment\"></span></td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row3\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" id=\"header04\">${i18n.mortgageInterestRate}</th>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column2\" data-dojo-attach-point=\"r3c2\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers01 headers04\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialRate}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\" data-dojo-attach-point=\"dlmLoanRate\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column3\" data-dojo-attach-point=\"r3c3\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers02 headers04\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialRate}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\" data-dojo-attach-point=\"stdLoanRate\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row4\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" id=\"header05\">${i18n.savingsInterestRate}</th>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column2\" data-dojo-attach-point=\"r4c2\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers01 headers05\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialRate}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"dlmSavingsDepositRate\"></span></td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column3\" data-dojo-attach-point=\"r4c3\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers02 headers05\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialRate}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"stdSavingsDepositRate\"></span></td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row5\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" id=\"header06\">${i18n.mortgageInstalment}</th>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column2\" data-dojo-attach-point=\"r5c2\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers01 headers06\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\" data-dojo-attach-point=\"dlmInstalment\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column3\" data-dojo-attach-point=\"r5c3\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers02 headers06\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\" data-dojo-attach-point=\"stdInstalment\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row6\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" id=\"header07\">${i18n.mortgageInterest}</th>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column2\" data-dojo-attach-point=\"r6c2\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers01 headers07\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"dlmInterestRepayment\"></span></td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column3\" data-dojo-attach-point=\"r6c3\"\n\t\t\t\t\t\t\t\t\t\t\t\theaders=\"headers02 headers07\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"stdInterestRepayment\"></span></td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row7\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" id=\"header08\">${i18n.savingsInterest}</th>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column2\" headers=\"headers01 headers08\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"dlmInterestReturn\"></span></td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column3\" headers=\"headers02 headers08\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"stdInterestReturn\"></span></td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr class=\"row8\">\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"column1\" id=\"header09\">${i18n.netInterestExpenses}</th>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column2\" headers=\"headers01 headers09\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\" data-dojo-attach-point=\"dlmNetInterest\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"column3\" headers=\"headers02 headers09\"><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"initialValues\">${i18n.initialCurrencyAmt}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"finalValues\" data-dojo-attach-point=\"stdNetInterest\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t<div class=\"finalresult\">\n\t\t\t\t\t\t\t\t\t<p class=\"finalresult-text t22l\">\n\t\t\t\t\t\t\t\t\t\t${i18n.savingsOn}<br /> <span\n\t\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point=\"netInterestExpenseResult\">${i18n.initialSavingsOn}</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"borrowdisclaim\">\n\t\t\t\t<div class=\"rows\">\n\t\t\t\t\t<div class=\"l-twelve m-eight s-four columns\">\n\t\t\t\t\t\t\t<div class=\"t14r\">\n\t\t\t\t\t\t\t<!-- <span class=\"t14b\">${i18n.disclaimerTitle1}</span> -->\n\t\t\t\t\t\t\t <h2 class=\"heading-margin\">${i18n.disclaimerTitle1}</h2>\n\t\t\t\t\t\t\t <span class=\"dis-desc-color t14r\">${i18n.disclaimerDesc1}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p class=\"t14r\">\n\t\t\t\t\t\t\t<h2 class=\"heading-margin\">${i18n.disclaimerTitle2}</h2>\n\t\t\t\t\t\t<ol class=\"numlist t14r\">\n\t\t\t\t\t\t\t<li>${i18n.notesDesc1}\n\t\t\t\t\t\t\t\t<ul class=\"bulletlist\">\n\t\t\t\t\t\t\t\t\t<li>${i18n.notesDescTermsnConditions1}</li>\n\t\t\t\t\t\t\t\t\t<li>${i18n.notesDescTermsnConditions2}</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>${i18n.notesDesc2}</li>\n\t\t\t\t\t\t\t<li>${i18n.notesDesc3}</li>\n\t\t\t\t\t\t\t<li>${i18n.notesDesc4}</li>\n\t\t\t\t\t\t\t<li>${i18n.notesDesc5}</li>\n\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"propertyval\">\n\t\t\t\t<div class=\"rows\">\n\t\t\t\t\t<div class=\"l-twelve m-eight s-four columns\">\n\t\t\t\t\t\t<p class=\"ptext t16r\">${i18n.currentPriceFlat}</p>\n\t\t\t\t\t\t<a href=\"${i18n.propertyValUrl}\" \n\t\t\t\t\t\t\tid=\"Get Property Valuation\" class=\"secondaryaction primaryround\"><span>${i18n.getPropVal}</span></a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>","hdx/bijits/tools/overdraft/OverdraftListingCalculator":function(){require({cache:{"url:hdx/bijits/tools/overdraft/template/OverdraftListingCalculator.html":"<div class=\"reusable-int-calc l-twelve m-eight s-four columns  mobile-pad-l mobile-pad-r overdraftListing\" >\n\n\t<div class=\"l-twelve m-eight s-four columns hideonmobile cal-toggle\" >\n        <a href=\"javascript:void(0);\" class=\"t14r\"  data-dojo-attach-event=\"click:clickShowDetail\" data-dojo-attach-point=\"detailsSeaarchMore\" id=\"detailsSeaarchMore\" aria-expanded=\"false\">\n        <span>${i18n.showdetails}<em class=\"icon-chevron-down\" ></em ></span><span class=\"accessibleHidden expandedSpan\">${i18n.accessShowDetail}</span>\n        </a>\n        <a href=\"javascript:void(0);\"  class=\"cal-collapse t14r\" data-dojo-attach-event=\"click:clickHideDetail\" data-dojo-attach-point=\"detailsSeaarchLess\" id=\"detailsSeaarchLess\" aria-expanded=\"true\">\n        <span>${i18n.hidedetails}<em class=\"icon-chevron-up\" ></em ></span><span class=\"accessibleHidden expandedSpan\">${i18n.accessHideDetail}</span>\n        </a>\n    </div >\n\n    <div class=\"l-twelve m-eight s-four columns showonmobile mobile-pad-l mobile-pad-r\" >\n        <p class=\"t28b cal-heading\" id=\"intrestCalculator-focus\" >${i18n.interestCalculator}</p >\n        <span class=\"showonmobile\" >\n        <button class=\"collapse icon-chevron-down\" type=\"button\" data-dojo-attach-event=\"click:clickShowDetail\" data-dojo-attach-point=\"detailsSeaarchMoreMob\" >\n        <span class=\"icon-chevron-down-overdraft\" ></span ><span class=\"accessibleHidden expandedSpan\">${i18n.accessShowDetail}</span>\n        </button >\n        <button class=\"expand icon-chevron-up \" type=\"button\" data-dojo-attach-event=\"click:clickHideDetail\" data-dojo-attach-point=\"detailsSeaarchLessMob\">\n        <span class=\"icon-chevron-up-overdraft\" ></span ><span class=\"accessibleHidden expandedSpan\">${i18n.accessHideDetail}</span>\n        </button >\n        </span >\n    </div >\n    <div class=\"l-eight m-four s-four columns tab-first-col desktop-pad-l tablet-pad-l mobile-pad-l mobile-pad-r\" >\n        <h4 class=\"t28b cal-heading hideonmobile\" id=\"intrestCalculator-focus\" >${i18n.interestCalculator}</h4 >\n        <p >${i18n.description}</p >\n        <div class=\"cal-disclaimer t12r hideonmobile\" >\n            <span >${i18n.disclaimer}</span >\n            <a href=\"#disclaimer_page\" data-dojo-attach-event=\"click:showDisclaimer\" >\n            <span class=\"pewter\" >${i18n.importantNotes}</span ><em class=\"icon-back pewter rotate\" ></em ></a >\n        </div >\n    </div >\n    <div class=\"l-four m-four s-four columns tablet-pad-l mobile-pad-l mobile-pad-r\" >\n        <div class=\"cal-form\" >\n            <form action=\"\" >\n                <a id=\"amountInfoIcon\" href=\"javascript:void(0);\" class=\"set-focus el-block\" data-dojo-attach-event=\"click:showToolTip\" data-selected=\"false\" data-for-tooltip=\"amountToolTip\" aria-expanded=\"false\">\n                <span class=\"t16r cal-od-amt\" >${i18n.overdraftAmount}</span ><em class=\"icon-circle-info\" ></em >\n                <span class=\"accessibleHidden expandedSpan hide\">${i18n.hideNotes}</span>\n\t\t\t\t<span class=\"accessibleHidden collapsedSpan\">${i18n.showNotes}</span>\n                </a >\n                <div class=\"fhe-tooltip hide\" data-is-tooltip=\"amountToolTip\" >\n                    <p >${i18n.overdraftAmountRemarks}</p >\n                </div >\n                <div class=\"l-twelve m-eight s-four columns nopad\" >\n                    <div data-dojo-attach-point=\"overdraftAmount\"></div >\n                </div >\n                <div class=\"l-twelve m-eight s-four columns nopad\" >\n                    <div data-dojo-attach-point=\"overdraftAmountSlider\" ><span class=\"accessibleHidden\" id=\"overdraftAmountSlider\" data-dojo-attach-point=\"overdraftAmountSliderSrt\" aria-live=\"polite\"></span></div >\n                </div >\n                <div class=\"detail-search-section\" data-dojo-attach-point=\"detailSearchSection\" >\n                    <a id=\"amountInfoIcon\" href=\"javascript:void(0);\" class=\"set-focus\" data-dojo-attach-event=\"click:showToolTip\" data-selected=\"false\" data-for-tooltip=\"daysToolTip\" aria-expanded=\"false\">\n                    <span class=\"t16r cal-od-amt\" >${i18n.days}</span ><em class=\"icon-circle-info\" ></em >\n                    <span class=\"accessibleHidden expandedSpan hide\">${i18n.hideNotes}</span>\n\t\t\t\t<span class=\"accessibleHidden collapsedSpan\">${i18n.showNotes}</span>\n                    </a >\n                    <div class=\"fhe-tooltip hide\" data-is-tooltip=\"daysToolTip\" >\n                        <p >${i18n.daysRemarks}</p >\n                    </div >\n                    <div class=\"l-twelve m-eight s-four columns nopad\" >\n                        <div data-dojo-attach-point=\"overdraftDays\"></div >\n                    </div >\n                    <div class=\"l-twelve  m-eight s-four columns nopad\" >\n                        <div data-dojo-attach-point=\"overdraftDaysSlider\" ><span class=\"accessibleHidden\" id=\"overdraftDaysSlider\" data-dojo-attach-point=\"overdraftDaysSliderSrt\" aria-live=\"polite\"></span></div >\n                    </div >\n                    <div class=\"set-label-margin\" >\n                        <div >\n                            <label for=\"accountListId\" class=\"lable-padding-dropdown\" >${i18n.account}\n                            <span style=\"left: -1500px; position: absolute;\" id=\"accountListId_hdnSelectedValue\" ></span ></label >\n                            <input id=\"accountListId\" class=\"hide\" />\n                        </div >\n                    </div >\n                    <div >\n                        <div class=\"commonDijitcss\" >\n                            <div data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" data-dojo-attach-point=\"accountList\" data-dojo-props=\"maxHeight:'260'\" data-dojo-custom-class=\"amountdropdown\" >\n                                <span value=\"${i18n.allAccounts}\" selected=\"selected\" aria-hidden=\"false\" >\n                                <span class=\"initialOpt\" ><span class=\"contactOption\" >${i18n.allAccounts}</span ></span >\n                                </span >\n                                <span value=\"${i18n.premieraccount}\" aria-hidden=\"false\" >\n                                <span class=\"\" ><span class=\"contactOption\" >${i18n.premieraccount}</span ></span >\n                                </span >\n                                <span value=\"${i18n.advanceaccount}\" aria-hidden=\"false\" >\n                                <span class=\"\" ><span class=\"contactOption\" >${i18n.advanceaccount}</span ></span >\n                                </span >\n                                <span value=\"${i18n.personalaccounts}\" aria-hidden=\"false\" >\n                                <span class=\"\" ><span class=\"contactOption\" >${i18n.personalaccounts} </span ></span >\n                                </span >\n                                <span value=\"${i18n.other}\" aria-hidden=\"false\" >\n                                <span class=\"\" ><span class=\"contactOption\" >${i18n.other}</span ></span >\n                                </span >\n                            </div >\n                        </div >\n                    </div >\n                </div >\n            </form >\n        </div >        \n    </div >\n    <div class=\"showonmobile\" >\n        <p class=\"cal-disclaimer t12r cont-hide\" data-dojo-attach-point=\"discDesktop\" >\n            <span >${i18n.disclaimer}</span >\n            <a href=\"javascript:void(0)\" data-dojo-attach-event=\"click:showDisclaimer\" >\n            <span class=\"pewter\" >${i18n.importantNotes} </span ><em class=\"icon-back pewter rotate\" ></em ></a >\n        </p >\n    </div >\n</div >\n"}});define("hdx/bijits/tools/overdraft/OverdraftListingCalculator",["dojo/_base/declare","dojo/dom-class","dijit/_TemplatedMixin","hsbc/_ECAMixin","dijit/_WidgetsInTemplateMixin","dijit/_WidgetBase","dojo/dom","dojo/on","dojo/_base/lang","dojo/query","dijit/registry","dijit/form/Select","dojo/text!./template/OverdraftListingCalculator.html","hsbc/eca!dojo/i18n!pws/Components/client/overdraft/nls/OverdraftListingCalculator_nls","hdx/dijits/reusableComponents/CustomizedHorizontalRangeSlider","dijit/form/HorizontalSlider","dijit/form/HorizontalRule","dijit/form/HorizontalRuleLabels","dojo/_base/connect","dojo/ready","dojo/dom-construct","dojo/dom-style","dojo/_base/array","dojo/dom-attr","dijit/focus","dojo/topic","dojo/number","dojo/domReady!","dojo/NodeList-dom","hdx/dijits/reusableComponents/CustomizedTextBox","hsbc/eca!pws/Components/client/overdraft/config/OverdraftCalculatorConfig","hsbc/utilities/CommonUtil"],function(_759,_75a,_75b,_75c,_75d,_75e,dom,on,lang,_75f,_760,_761,_762,i18n,_763,_764,_765,_766,_767,_768,_769,_76a,_76b,_76c,_76d,_76e,_76f,_770,_771,_772,_773,_774){return _759("hdx.bijits.overdraftDetails.InterestCalculator",[_75e,_75b,_75d,_75c],{templateString:_762,i18n:i18n,overdraftAmountSlider:null,overdraftDaysSlider:null,overdraftAmountValue:i18n.overdraftAmountDefaultValue,overdraftAmountSliderMinValue:i18n.overdraftAmountMinValue,overdraftAmountSliderMaxValue:i18n.overdraftAmountMaxValue,overdraftAmountSliderDiscreteValues:i18n.overdraftAmountSliderDiscreteValues,overdraftDaysValue:i18n.overdraftDaysDefaultValue,overdraftDaysSliderMinValue:i18n.overdraftDaysMinValue,overdraftDaysSliderMaxValue:i18n.overdraftDaysMaxValue,overdraftDaysSliderDiscreteValues:i18n.overdraftDaysSliderDiscreteValues,postCreate:function(){var _775=this;_775.sliderEflag="";this.repaymentCalflag=false;_775.createUIElement(_773);_775.bindEvents();},createUIElement:function(_776){var _777=_774.getConfiguration(_776.OverdraftCalculatorConfig);var _778=(_777.overdraftAmountType&&_777.overdraftAmountType["default"])?_777.overdraftAmountType["default"]:"";var _779=(_777.overdraftAmountPrefix&&_777.overdraftAmountPrefix["default"])?_777.overdraftAmountPrefix["default"]:"";_779=(_779&&i18n[_779])?i18n[_779]:_779;var _77a=(_777.overdraftAmountSuffix&&_777.overdraftAmountSuffix["default"])?_777.overdraftAmountSuffix["default"]:"";_77a=(_77a&&i18n[_77a])?i18n[_77a]:_77a;var _77b=(_777.overdraftAmountDefaultValue&&_777.overdraftAmountDefaultValue["default"])?_777.overdraftAmountDefaultValue["default"]:"";var _77c=(_777.overdraftAmountMinValue&&_777.overdraftAmountMinValue["default"])?_777.overdraftAmountMinValue["default"]:"";var _77d=(_777.overdraftAmountMaxValue&&_777.overdraftAmountMaxValue["default"])?_777.overdraftAmountMaxValue["default"]:"";var _77e=(_777.overdraftAmountDecimalPlaces&&_777.overdraftAmountDecimalPlaces["default"])?_777.overdraftAmountDecimalPlaces["default"]:"";var _77f=(_777.overdraftAmountIsMandatory&&_777.overdraftAmountIsMandatory["default"])?_777.overdraftAmountIsMandatory["default"]:"";_77f=(_77f==="Y")?true:false;var _780=(_777.overdraftAmountDiscreteValue&&_777.overdraftAmountDiscreteValue["default"])?_777.overdraftAmountDiscreteValue["default"]:"";var _781=(_777.overdraftDaysType&&_777.overdraftDaysType["default"])?_777.overdraftDaysType["default"]:"";var _782=(_777.overdraftDaysPrefix&&_777.overdraftDaysPrefix["default"])?_777.overdraftDaysPrefix["default"]:"";var _783=(_777.overdraftDaysSuffix&&_777.overdraftDaysSuffix["default"])?_777.overdraftDaysSuffix["default"]:"";var _784=(_777.overdraftDaysDefaultValue&&_777.overdraftDaysDefaultValue["default"])?_777.overdraftDaysDefaultValue["default"]:"";var _785=(_777.overdraftDaysMinValue&&_777.overdraftDaysMinValue["default"])?_777.overdraftDaysMinValue["default"]:"";var _786=(_777.overdraftDaysMaxValue&&_777.overdraftDaysMaxValue["default"])?_777.overdraftDaysMaxValue["default"]:"";var _787=(_777.overdraftDaysDecimalPlaces&&_777.overdraftDaysDecimalPlaces["default"])?_777.overdraftDaysDecimalPlaces["default"]:"";var _788=(_777.overdraftDaysIsMandatory&&_777.overdraftDaysIsMandatory["default"])?_777.overdraftDaysIsMandatory["default"]:"";_788=(_788==="Y")?true:false;var _789=(_777.overdraftDaysDiscreteValue&&_777.overdraftDaysDiscreteValue["default"])?_777.overdraftDaysDiscreteValue["default"]:"";this.overdraftAmountTextBox=new _772({type:_778,labeltext:i18n.overdraftAmountTextbox,prefixText:_779,suffixText:_77a,maxAmount:_77d,minAmount:_77c,defaultAmount:_77b,decimalPlaces:_77e,validateMandatory:_77f,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_overdraftAmountInvalid,invalidMsgDecimalPlaces:i18n.errMsg_overdraftAmountDecimalPlace,invalidMsgAmountTooLarge:_774.replaceValidationErrMessage(i18n.errMsg_overdraftAmountTooLarge,_77c,_77d,_77e),invalidMsgAmountTooSmall:_774.replaceValidationErrMessage(i18n.errMsg_overdraftAmountTooSmall,_77c,_77d,_77e),invalidMsgEmpty:_774.replaceValidationErrMessage(i18n.errMsg_overdraftAmountEmpty,_77c,_77d,_77e),updateInvalidValueWhenBlur:false});this.overdraftAmountTextBox.placeAt(this.overdraftAmount);this.overdraftAmountSliderBar=new _763({placeLocation:this.overdraftAmountSlider,inputHandler:this.overdraftAmountTextBox.textbox,minValue:parseFloat(_77c),maxValue:parseFloat(_77d),decimalPlaces:_77e,value:parseFloat(_77b),name:"overdraftAmountSlider"+this.id,sliderButtons:false,currency:true,currencyLabel:i18n.currency,currencyLabelSuffix:(i18n.dollar)?i18n.dollar:"",discreteValues:_780,labelText:i18n.overdraftamountSlider});this.overdraftDaysTextBox=new _772({type:_781,labeltext:i18n.days,prefixText:_782,suffixText:_783,maxAmount:_786,minAmount:_785,defaultAmount:_784,decimalPlaces:_787,validateMandatory:_788,validateLowRange:true,validateHighRange:true,invalidMessage:i18n.errMsg_overdraftDaysInvalid,invalidMsgNumericFormat:i18n.errMsg_overdraftDaysNumericFormat,invalidMsgAmountTooLarge:_774.replaceValidationErrMessage(i18n.errMsg_overdraftDaysTooLarge,_785,_786,_787),invalidMsgAmountTooSmall:_774.replaceValidationErrMessage(i18n.errMsg_overdraftDaysTooSmall,_785,_786,_787),invalidMsgEmpty:_774.replaceValidationErrMessage(i18n.errMsg_overdraftDaysEmpty,_785,_786,_787),updateInvalidValueWhenBlur:false});this.overdraftDaysTextBox.placeAt(this.overdraftDays);this.overdraftDaysSliderBar=new _763({placeLocation:this.overdraftDaysSlider,inputHandler:this.overdraftDaysTextBox.textbox,minValue:parseFloat(_785),maxValue:parseFloat(_786),value:parseFloat(_784),name:"overdraftDaysSlider"+this.id,sliderButtons:false,currency:false,discreteValues:_789,labelText:i18n.overdraftdaysSlider});this.overdraftAmountSliderSrt.innerHTML=this.overdraftAmountTextBox.textbox.value;_76c.set(_760.byId(this.overdraftAmountSliderBar.name),"aria-describedby","overdraftAmountSlider");this.overdraftDaysSliderSrt.innerHTML=this.overdraftDaysTextBox.textbox.value;_76c.set(_760.byId(this.overdraftDaysSliderBar.name),"aria-describedby","overdraftDaysSlider");},bindEvents:function(){var _78a=this;var _78b=0;var _78c=false;var _78d=function(evt){evt.preventDefault();var _78e=_774.getTextBoxValue(this.overdraftAmountTextBox);var _78f=this.getLoggingData();_78e=_76f.parse(_78e);if(this.overdraftAmountTextBox.isValid()){var _790=_76f.parse(_78e);if(!isNaN(_790)){_78a.sliderEflag="Typed";if(evt.keyCode>=48&&evt.keyCode<=57||evt.keyCode>=96&&evt.keyCode<=105||evt.keyCode===8){if(_78b===_790){this.overdraftAmountSliderSrt.innerHTML=this.overdraftAmountTextBox.textbox.value;_78f=this.updateCalculationResult();}}_760.byId(this.overdraftAmountSliderBar.name).set("value",_790);_78a.sendLoggingData(_78f,"Typed","overdraft Amount");}_78b=_76f.parse(_78e);}else{_78a.clearCalculationResult();}this.showDetailSearch();updateAmountFlag=this.overdraftAmountTextBox.isValid();};var _791=function(){if(this.overdraftAmountTextBox.isValid()){var _792=_774.getTextBoxValue(this.overdraftAmountTextBox);this.overdraftAmountTextBox.textbox.value=_774.removeFormat(_792,this.overdraftAmountTextBox.decimalPlaces);}};var _793=function(){var _794=_774.getTextBoxValue(this.overdraftAmountTextBox);if(this.overdraftAmountTextBox.isValid()){var _795=_76f.parse(_794);if(!isNaN(_795)){this.overdraftAmountTextBox.textbox.value=_774.decimalFormat(_794,this.overdraftAmountTextBox.decimalPlaces);}}this.showDetailSearch();};var _796=function(){var _797=false;var days=_774.getTextBoxValue(this.overdraftDaysTextBox);var _798=this.getLoggingData();days=_76f.parse(days);if(this.overdraftDaysTextBox.isValid()){var _799=_76f.parse(days);_78a.sliderEflag="Typed";if(!isNaN(_799)){if(_797===false){this.overdraftDaysSliderSrt.innerHTML=this.overdraftDaysTextBox.textbox.value;}_760.byId(this.overdraftDaysSliderBar.name).set("value",_799);_78a.sendLoggingData(_798,"","overdraft Days");}}else{}this.showDetailSearch();_797=this.overdraftDaysTextBox.isValid();};var _79a=function(){};var _79b=function(){var days=_774.getTextBoxValue(this.overdraftDaysTextBox);days=_76f.parse(days);if(this.overdraftDaysTextBox.isValid()){var _79c=_76f.parse(days);if(!isNaN(_79c)){}}this.showDetailSearch();};on(this.overdraftAmountTextBox.textbox,"focus",lang.hitch(this,_791));on(this.overdraftAmountTextBox.textbox,"keyup",lang.hitch(this,_78d));on(this.overdraftAmountTextBox.textbox,"blur",lang.hitch(this,_793));on(this.overdraftDaysTextBox.textbox,"keyup",lang.hitch(this,_796));on(_760.byId(this.overdraftAmountSliderBar.name),"change",function(_79d){_78c=true;_78a.overdraftAmountSliderBar.value=_79d;if(_78a.sliderEflag!=="Typed"){_78a.overdraftAmountTextBox.textbox.value=_774.roundNumber(_79d,2,_78a.overdraftAmountSliderBar.decimalPlaces,_78a.overdraftAmountSliderBar.minValue,_78a.overdraftAmountSliderBar.maxValue);_774.removeValidationError(_78a.overdraftAmountTextBox);}if(_78c){_78a.overdraftAmountSliderSrt.innerHTML=_78a.overdraftAmountTextBox.textbox.value;_78a.updateCalculationResult();}else{_78c=false;}_78a.showDetailSearch();_78a.sliderEflag="";});on(_760.byId(this.overdraftAmountSliderBar.name),"mouseup",function(_79e){var _79f=_78a.updateCalculationResult();_78a.sendLoggingData(_79f,"Slider","overdraft Amount Slider");});on(_760.byId(this.overdraftDaysSliderBar.name),"change",function(_7a0){_78a.overdraftDaysSliderBar.value=_7a0;if(_78a.sliderEflag!=="Typed"){_78a.overdraftDaysTextBox.textbox.value=Math.round(_7a0);_774.removeValidationError(_78a.overdraftDaysTextBox);}_78a.overdraftDaysSliderSrt.innerHTML=_78a.overdraftDaysTextBox.textbox.value;_78a.showDetailSearch();_78a.sliderEflag="";});on(_760.byId(this.overdraftDaysSliderBar.name),"mouseup",function(_7a1){var _7a2=_78a.updateCalculationResult();_78a.sendLoggingData(_7a2,"","overdraft Days Slider");});var _7a3=this.accountList;_7a3.on("change",function(_7a4){_7a3.attr("aria-valuenow",_7a3.value);var _7a5=_7a4;_767.publish("the Dojo channel",[{productType:_7a5}]);});var _7a6=_774.getTextBoxValue(this.overdraftAmountTextBox);setTimeout(function(){_767.publish("Update Daily Interest",[{sliderAmount:_76f.parse(_7a6)}]);},1000);},showDisclaimer:function(_7a7){var _7a8=_760.byId("overdraftListingdisclaimer");dom.byId("disclaimer_content").style.display="block";_75a.remove(dom.byId("disclaimer_content"),"hide");var _7a9=_75f("a.icon-chevron-up",_7a8.domNode)[0];var _7aa=_75f("a.icon-chevron-down",_7a8.domNode)[0];_7aa.style.display="none";_7a9.style.display="inline-block";if(_76c.has(_7aa,"href")){_76c.remove(_7aa,"href");}if(!(_76c.has(_7a9,"href"))){_76c.set(_7a9,"href","javascript:void(0);");}var _7ab=0;var x=_75f("[custom_id=\"disclaimer-heading\"]",_7a8.domNode)[0]||{};if(x.offsetParent){do{_7ab+=x.offsetTop;}while(x=x.offsetParent);_7ab=_7ab-50;try{window.scroll(0,_7ab);}catch(e){}}_76d.focus(_7a9);_7a7.preventDefault();},updateCalculationResult:function(){if(!this.overdraftAmountTextBox.isValid()||!this.overdraftDaysTextBox.isValid()){this.clearCalculationResult();return;}var _7ac=_774.getTextBoxValue(this.overdraftAmountTextBox);var days=_774.getTextBoxValue(this.overdraftDaysTextBox);var _7ad=this.getLoggingData();_7ac=_76f.parse(_7ac);days=_76f.parse(days);_767.publish("Update Daily Interest",[{sliderAmount:_7ac}]);_7ad["WT.z_inCur"]="HKD";_7ad["WT.z_inVal"]=_7ac;_7ad["WT.cta"]="Calc";return _7ad;},clearCalculationResult:function(){_767.publish("Update Daily Interest",[{sliderAmount:"",sliderDays:""}]);},sendLoggingData:function(_7ae,_7af,cta){_7ae["WT.z_inVal_how"]=_7af;if(!_7ae["WT.cta"]){}this.repaymentCalflag=true;_774.submitWebtrends(_7ae);},getLoggingData:function(){var _7b0={"WT.tool_name":"overdraftsintCal","WT.z_inCur":"","WT.z_inVal":"","WT.z_inVal_how":"","WT.z_err":"","WT.cta":"","WT.dl":"99"};return _7b0;},_createTrackingEvent:function(type,_7b1){var _7b2={"tool_name":"ccRepaymentCalc","event_type":type,"event_action":"Repayment Calculator|"+_7b1};return _7b2;},showDetailSearch:function(_7b3){this.detailSearchSection.style.display="block";this.detailsSeaarchMore.style.display="none";this.detailsSeaarchLess.style.display="block";this.detailsSeaarchMoreMob.style.display="none";this.detailsSeaarchLessMob.style.display="block";if(_7b3){_76d.focus(this.detailsSeaarchLess);_76d.focus(this.detailsSeaarchMore);_76d.focus(this.detailsSeaarchLessMob);_76d.focus(this.detailsSeaarchMoreMob);}},hideDetailSearch:function(_7b4){this.detailSearchSection.style.display="none";this.detailsSeaarchLess.style.display="none";this.detailsSeaarchMore.style.display="block";this.detailsSeaarchLessMob.style.display="none";this.detailsSeaarchMoreMob.style.display="block";if(_7b4){_76d.focus(this.detailsSeaarchLess);_76d.focus(this.detailsSeaarchMore);_76d.focus(this.detailsSeaarchLessMob);_76d.focus(this.detailsSeaarchMoreMob);}},showIntrestCalculator:function(){_75f("#intrestCalculator",this.domNode).style("display","block");},hideIntrestCalculator:function(){_75f("#intrestCalculator",this.domNode).style("display","none");},openDisclaimer:function(){_75f("#disclaimerContent",this.domNode).style("display","block");_75f("#chevronDown",this.domNode).style("display","none");_75f("#chevronUp",this.domNode).style("display","block");},clickShowDetail:function(_7b5){this.showDetailSearch();var _7b6={"WT.dl":99,"WT.cta":"MobSection:Show detail","WT.ti":"Overdrafts Listings Page"};_774.submitWebtrends(_7b6);_76d.focus(this.hideDetail);},clickHideDetail:function(_7b7){this.hideDetailSearch();var _7b8={"WT.dl":99,"WT.cta":"MobSection:Hide detail","WT.ti":"Overdrafts Listings Page"};_774.submitWebtrends(_7b8);_76d.focus(this.showDetail);},showToolTip:function(_7b9){_7b9.preventDefault();var _7ba=_7b9.currentTarget;var _7bb=_76c.get(_7ba,"data-for-tooltip");var _7bc=_76c.get(_7ba,"data-selected");var _7bd=_75f(".fhe-tooltip",this.domNode);var _7be=_75f(_7b9.currentTarget);if(_7bc=="false"){for(var i=0;i<_7bd.length;i++){var _7bf=_76c.get(_7bd[i],"data-is-tooltip");if(_7bf===_7bb){_7be.children(".collapsedSpan").addClass("hide");_7be.children(".expandedSpan").removeClass("hide");_75a.remove(_7bd[i],"hide");_76c.set(_7ba,"data-selected","true");_76c.set(_7ba,"aria-expanded","true");break;}}}else{if(_7bc=="true"){for(var i=0;i<_7bd.length;i++){var _7bf=_76c.get(_7bd[i],"data-is-tooltip");if(_7bf===_7bb){_7be.children(".expandedSpan").addClass("hide");_7be.children(".collapsedSpan").removeClass("hide");_75a.add(_7bd[i],"hide");_76c.set(_7ba,"data-selected","false");_76c.set(_7ba,"aria-expanded","false");break;}}}}}});});},"hdx/bijits/tools/serviceFinder/ServiceFinderDialog":function(){define("hdx/bijits/tools/serviceFinder/ServiceFinderDialog",["dojo/_base/declare","dijit/Dialog"],function(_7c0,_7c1){return _7c0("hdx.bijits.tools.serviceFinder.ServiceFinderDialog",[_7c1],{_position:function(){}});});},"hsbc/utilities/CommonUtil":function(){require({cache:{"url:hdx/js/hsbc/errorCodeMapping.json":"[\n    {\n        \"key\": \"SYSTEM_00001\",\n        \"value\": \"SYS00001\"\n    },\n    {\n        \"key\": \"SYSTEM_00002\",\n        \"value\": \"SYS00002\"\n    },\n    {\n        \"key\": \"SYSTEM_00003\",\n        \"value\": \"SYS00003\"\n    }\n]"}});define("hsbc/utilities/CommonUtil",["dojo/_base/declare","dojo/_base/lang","dojo/number","dojo/date/locale","dojo/dom-class","dojo/dom-attr","dojo/json","dojo/text!hdx/js/hsbc/errorCodeMapping.json","hsbc/eca!pws/Components/client/common/config/CommonConfig"],function(_7c2,lang,_7c3,_7c4,_7c5,_7c6,json,_7c7,_7c8){var _7c9=_7c2("hdx.js.hsbc.CommonUtil",[]);_7c9.replaceValidationErrMessage=function(_7ca,_7cb,_7cc,_7cd){var _7ce="";if(_7ca){_7ce=_7ca;_7ce=_7ce.replace("{0}",_7c3.format(_7cb,{places:_7cd}));_7ce=_7ce.replace("{1}",_7c3.format(_7cc,{places:_7cd}));}return _7ce;};_7c9.replaceValidationErrCode=function(_7cf,_7d0){var _7d1="";if(_7cf){_7d1=_7cf;var _7d2="";if(_7d0&&_7d0.responseInfo&&_7d0.responseInfo.reasons[0]){_7d2=_7d0.responseInfo.reasons[0].code;}var _7d3=false;if(_7d2){var _7d4=json.parse(_7c7);dojo.forEach(_7d4,function(info){if(_7d2===info.key){_7d1=_7d1.replace("{0}","("+info.value+")");_7d3=true;}});if(!_7d3){_7d1=_7d1.replace("{0}","("+_7d2+")");}}else{_7d1=_7d1.replace("{0}","");}}return _7d1;};_7c9.getConfiguration=function(_7d5){var tmp={};if(_7d5){for(var i=0;i<_7d5.length;i++){tmp[_7d5[i].desckey]=_7d5[i];}}return tmp;};_7c9.formatDate=function(date,_7d6,_7d7,_7d8){var _7d9=date;if(dojoConfig.locale&&dojoConfig.locale.substring(0,2)=="en"){_7d9=_7c4.format(date,{selector:"date",datePattern:"dd MMM yyyy"});}else{if(dojoConfig.locale&&dojoConfig.locale.substring(0,2)=="zh"){var year=_7d9.getFullYear();var _7da=_7d9.getMonth()+1;var day=_7d9.getDate();_7d9=year+_7d6+_7da+_7d7+day+_7d8;}else{_7d9=_7c4.format(date,{selector:"date",locale:dojoConfig.locale});}}return _7d9;};_7c9.convertStringToDate=function(str,_7db){var date=null;if(str){if(_7db=="yyyyMMdd"){var year=str.substring(0,4);var _7dc=str.substring(4,6);var day=str.substring(6,8);date=new Date(year,_7dc-1,day);}else{date=new Date(_7c9.convertDateFromISO(str));date=_7c9.convertDateToUTC(date);var _7dd=_7c9.getConfiguration(_7c8.CommonConfig);var _7de=8;if(_7dd&&_7dd.timezone){_7de=_7dd.timezone["default"];date=_7c9.addHours(date,_7de);}}}return date;};_7c9.addHours=function(date,_7df){var _7e0=new Date();_7e0.setTime(date.getTime()+(_7df*60*60*1000));return _7e0;};_7c9.convertDateToUTC=function(date){return new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds());};_7c9.convertDateFromISO=function(s){s=s.split(/\D/);return new Date(Date.UTC(s[0],--s[1]||"",s[2]||"",s[3]||"",s[4]||"",s[5]||"",s[6]||""));};_7c9.submitWebtrends=function(_7e1){if(typeof Webtrends!=="undefined"){}};_7c9.submitTealium=function(_7e2){if(typeof TMS!="undefined"&&typeof TMS.trackEvent=="function"){var _7e3={"page_title":utag_data.page_title,"page_url":utag_data.page_url,"event_category":"pws","event_subcategory":"Tool Usage"};var _7e2=lang.mixin(_7e3,_7e2);TMS.trackEvent(_7e2);}};_7c9.getCurrencyDisplay=function(_7e4,_7e5,_7e6){_7e4=(_7e4)?_7e4:"";_7e5=(_7e5)?_7e5:"";_7e6=(_7e6)?_7e6:"";return _7e4+_7e5+_7e6;};_7c9.roundNumber=function(_7e7,_7e8,_7e9,min,max){if(_7e9){_7e9=_7c3.parse(_7e9);}else{_7e9=0;}_7e7=parseFloat(_7e7).toFixed(_7e9);var _7ea=_7e7.split(".")[0];var _7eb=_7c3.parse(_7e7.substring(0,_7e8));_7e7=_7c3.parse(_7e7);if((!min&&!max)||(_7e7>min&&_7e7<max)){var _7ec=_7ea.length-_7e8;var _7ed=Math.pow(10,_7ec);_7e7=_7eb*_7ed;}_7e7=_7c3.format(_7e7,{places:_7c3.parse(_7e9)});return _7e7;};_7c9.decimalFormat=function(_7ee,_7ef){if(!_7ef){_7ef=0;}_7ef=_7c3.parse(_7ef);_7ee=_7c3.format(_7ee,{places:_7ef});return _7ee;};_7c9.removeFormat=function(_7f0,_7f1){if(_7f0){if(!_7f1){_7f1=0;}_7f1=_7c3.parse(_7f1);_7f0=parseFloat(_7c3.parse(_7f0)).toFixed(_7f1);}return _7f0;};_7c9.htmlEscapeString=function(_7f2){var _7f3=_7f2.replace(/&/g,"&amp;");_7f3=_7f3.replace(/"/g,"&quot;");_7f3=_7f3.replace(/</g,"&lt;").replace(/>/g,"&gt;");_7f3=_7f3.replace(/'/g,"&#39;");_7f3=_7f3.replace(/%/g,"&#37;");_7f3=_7f3.replace(/\(/g,"&#40;").replace(/\)/g,"&#41;");_7f3=_7f3.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;");_7f3=_7f3.replace(/\{/g,"&#123;").replace(/\}/g,"&#125;");return _7f3;};_7c9.removeValidationError=function(wgt){wgt.displayMessage("");_7c5.remove(wgt.mainValidatorInputDiv,"dijitTextBoxError");_7c5.remove(wgt.mainValidatorInputDiv,"dijitValidationTextBoxError");_7c5.remove(wgt.mainValidatorInputDiv,"dijitError");_7c6.set(wgt.textbox,"aria-invalid","false");};_7c9.getTextBoxValue=function(wgt){if(wgt&&wgt.textbox){var _7f4=wgt.textbox.value;if(_7f4&&_7f4.length>1&&_7f4.charAt(_7f4.length-1)==="."){_7f4=_7f4.substr(0,_7f4.length-1);}return _7f4;}};return _7c9;});},"url:hdx/bijits/tools/serviceFinder/templates/disclaimerOverlay.html":"<div>\n   <div class=\"od-disclaimer\" data-dojo-type=\"dijit/Dialog\"\n      data-dojo-attach-point=\"openDisclaimer\" data-dojo-id=\"myDialog\">\n      <div class=\"closeButton\" role=\"button\">\n         <a href=\"javascript:void(0);\" data-dojo-attach-point=\"deleteIcon\"> \n         <span class=\"icon-delete od-close-border\"></span>\n         </a>\n      </div>\n      <h2 class=\"od-disclaimer-heading\">${i18n.disclaimerTitle}</h2>\n      <div class=\"od-disclaimer-content\">\n         ${i18n.disclaimerText}\n         <a class=\"secondaryaction\" href=\"#\" data-dojo-attach-point=\"closeButtondiv\">${i18n.close}</a>\n      </div>\n   </div>\n</div>\n","hdx/dijits/reusableComponents/PlusMinusIncrementer":function(){require({cache:{"url:hdx/dijits/reusableComponents/templates/PlusMinusIncrementer.html":"<div\n\tclass=\"dijit dijitReset dijitInline dijitLeft dijitPlusMinusIncrementer incpm\"\n\tid=\"widget_${id}\" role=\"presentation\">\n\t<label for=\"${id}_minusButton\" class=\"mobile-accessibleHidden\" id=\"${id}_minusButtonAccessibleLabel\" aria-hidden=\"true\">${minusButtonAccessibleLabel}</label>\n\t<div style=\"float: left;\"\n\t\tclass=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer dijitDownSpinnerButtonContainer\">\n\t\t<div role=\"button\"\n\t\t\tclass=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\" tabindex=\"0\" aria-labelledby=\"${id}_minusButtonAccessibleLabel\">\n\t\t\t<div class=\"dijitArrowButtonInner\">\n\t\t\t\t<input class=\"dijitReset dijitInputField\" tabindex=\"-1\" value=\"&#8211;\"\n\t\t\t\t\ttype=\"text\" readonly=\"readonly\" role=\"presentation\" id=\"${id}_minusButton\"\n\t\t\t\t\tdata-dojo-attach-point=\"minusButton\" ${_buttonInputDisabled}\n\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"dijitReset dijitInputField dijitInputContainer\" style=\"position: absolute;width: 72%;left: 52px;\">\n\t\t<label id=\"${id}_labeltext\" for = \"${id}\" style=\"display:none;\" aria-hidden=\"true\">${labeltext}</label>\n\t\t<input class='dijitReset dijitInputInner' \n\t\t\tid=\"${id}_insplusminusinput\" \n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onKeyPress\"\n\t\t\taria-labelledby=\"${id}_labeltext\"\n\t\t\taria-describedby=\"${id}_error\"\n\t\t\tautocomplete=\"off\" ${!nameAttrSetting} />\n\t\t<span class=\"accessibleHidden\" data-dojo-attach-point=\"textBoxValueAccessible\"></span>\n\t\t<span data-dojo-attach-point=\"suffix\" class=\"suffix\" aria-hidden=\"true\"> </span>\n\t\t<div style=\"display: none; visibility: hidden;\" data-dojo-attach-point=\"textValue\"></div>\n\t\t<span class=\"accessibleHidden\" id=\"${id}_upAndDownKeyAccessibleLabel\" aria-hidden=\"true\">${upAndDownKeyAccessibleLabel}</span>\n\t\t<div class=\"accessibleHidden\" data-dojo-attach-point=\"currentValue\" aria-live=\"polite\"></div>\n\t</div>\n\t<label for=\"${id}_plusButton\" class=\"mobile-accessibleHidden\" id=\"${id}_plusButtonAccessibleLabel\" aria-hidden=\"true\">${plusButtonAccessibleLabel}</label>\n\t<div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer dijitUpSpinnerButtonContainer\">\n\t\t<div role=\"button\"\n\t\t\tclass=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\" tabindex=\"0\" aria-labelledby=\"${id}_plusButtonAccessibleLabel\">\n\t\t\t<div class=\"dijitArrowButtonInner\">\n\t\t\t\t<input class=\"dijitReset dijitInputField\" tabindex=\"-1\" value=\"+\" type=\"text\"\n\t\t\t\t\treadonly=\"readonly\" role=\"presentation\" id=\"${id}_plusButton\"\n\t\t\t\t\tdata-dojo-attach-point=\"plusButton\" ${_buttonInputDisabled} />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t${!errorMessageTemplate}\n</div>\n"}});define("hdx/dijits/reusableComponents/PlusMinusIncrementer",["dojo/_base/declare","dijit/form/NumberSpinner","dijit/form/_FormSelectWidget","hdx/dijits/reusableComponents/_ErrorMessageMixin","dojo/text!./templates/PlusMinusIncrementer.html","dojo/_base/array","dojo/_base/event","dojo/_base/lang","dojo/dom","dojo/has","dojo/html","dojo/sniff","dojo/on","dojo/dom-style","dojo/dom-geometry","dojo/dom-attr","dojo/keys","dijit/typematic","dijit/focus"],function(_7f5,_7f6,_7f7,_7f8,_7f9,_7fa,_7fb,lang,dom,has,html,_7fc,on,_7fd,_7fe,_7ff,keys,_800,_801){return _7f5("hdx.dijits.reusableComponents.PlusMinusIncrementer",[_7f7,_7f6,_7f8],{templateString:_7f9,labeltext:"",numberSpinDirection:0,plusButtonAccessibleLabel:"",minusButtonAccessibleLabel:"",upAndDownKeyAccessibleLabel:"",_formatter:function(_802){return _802;},_type:"numeric",_eventValue:"",buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,true);this.textbox.style.textAlign="center";},postCreate:function(){this.inherited(arguments);var _803=this;if(_7fc("ios")){this.own(on(this.textbox,"input",lang.hitch(this,function(evt){this.defer(lang.hitch(this,function(){if(this._eventValue!=this.get("value")){this._onInput(evt);}}));})));}_7ff.set(this,"aria-labelledby",this.id+"_labeltext");on(this.upArrowNode,"keydown",function(evt){if(evt.keyCode==keys.SPACE||evt.keyCode==keys.ENTER){_7fb.stop(evt);_803.numberSpinDirection=1;_803._arrowPressed(_803.upArrowNode,_803.numberSpinDirection,_803.smallDelta);}});on(this.downArrowNode,"keydown",function(evt){if(evt.keyCode==keys.SPACE||evt.keyCode==keys.ENTER){_7fb.stop(evt);_803.numberSpinDirection=-1;_803._arrowPressed(_803.downArrowNode,_803.numberSpinDirection,_803.smallDelta);}});on(this.textbox,"keyup",function(evt){if(evt.keyCode==keys.SPACE||evt.keyCode==keys.ENTER){_803.numberSpinDirection=0;}});this.own(_800.addKeyListener(this.textbox,{charOrCode:keys.ENTER,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));_7ff.set(this.errorText,"id",this.id+"_error");},startup:function(){this.inherited(arguments);this.updateDisplay();},_onInput:function(){if(_7fc("ios")){this._eventValue=this.get("value");}this.inherited(arguments);this.updateDisplay();},_mouseWheeled:function(){},_arrowPressed:function(_804,_805,_806){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),_805*_806),false);},rangeCheck:function(_807,_808){if(this._type=="select"){var _809=""+_807;var _80a=_7fa.indexOf(this.getOptions(),this.getOptions(_809));return _80a!=-1;}return this.inherited(arguments);},adjust:function(val,_80b){var _80c;if(this._type=="select"){var _80d=""+val;var _80e=this.getOptions();var pos=_7fa.indexOf(_80e,this.getOptions(_80d));if(!isNaN(val)){if(pos==-1){for(pos=0;pos<_80e.length;pos++){if(_80e[pos].value>val){pos-=0.5;if(_80b>0){_80b-=0.5;}else{if(_80b<0){_80b+=0.5;}}break;}}}}else{pos=val;}_80c=this.inherited(arguments,[pos,_80b]);_80c=this.getOptions()[_80c].value;}else{_80c=this.inherited(arguments);}return _80c;},_setOptionsAttr:function(_80f){this.inherited(arguments);if(lang.isArray(_80f)&&_80f.length>0){this.updateAsSelect();}},addOption:function(){this.inherited(arguments);this.updateAsSelect();},removeOption:function(){this.inherited(arguments);this.updateAsSelect();},updateOption:function(){this.inherited(arguments);this.updateAsSelect();},updateAsSelect:function(){this._type="select";this.set("constraints",{min:0,max:this.getOptions().length-1});},_setValueAttr:function(_810){this.inherited(arguments);this.updateDisplay();},_setSuffixTextAttr:function(_811){html.set(this.suffix,_811);this.updateDisplay();},resize:function(){this.inherited(arguments);this.updateDisplay();},updateDisplay:function(){html.set(this.textBoxValueAccessible,GlobalEncodeHtml.preventDomXss(this.textbox.value));var _812=15;html.set(this.textValue,GlobalEncodeHtml.preventDomXss(this.textbox.value));var _813=_7fe.getContentBox(this.suffix).w+3;_7fd.set(this.textValue,"display","inline-block");var _814=_7fe.getContentBox(this.textValue).w;_7fd.set(this.textValue,"display","none");if(parseInt(_7fe.getContentBox(this.domNode).w,10)>0){var _815=parseInt(_7fe.getContentBox(this.domNode).w,10)-104;_7fd.set(this.textbox.parentNode,"width",_815+"px");}_7fd.set(this.textbox,"paddingRight",(_812+_813)+"px");var _816=parseInt(_7fd.getComputedStyle(this.textbox).width)||this.textbox.clientWidth;var _817=_816-_7fe.getPadExtents(this.textbox).w-_7fe.getBorderExtents(this.textbox).w;_7fd.set(this.suffix,"right",(_812+Math.max(_817-_814,0)/2)+"px");this.currentValue.innerHTML="";this.currentValue.innerHTML=this.textbox.value+" "+this.suffix.innerHTML;},displayMessage:function(_818){if(!this.focused){_818=this.getErrorMessage();}if(!this.isValid()){if(_818){this.errorText.innerHTML=_818;this.error.style.display="inline-block";this.error.style.fontSize="0.75em";this.error.style.color="#83000A";}}else{this.errorText.innerHTML="";this.error.style.display="none";this.errorIcon.style.display="none";}if(_818){this.errorIcon.style.display="inline";this.errorIcon.style.color="#83000A";}else{this.errorText.innerHTML="";this.errorIcon.style.display="none";}on.emit(this.textbox,"errorState",{bubbles:true,cancelable:true,errState:!this.isValid()});},reset:function(){this.inherited(arguments);this.errorText.innerHTML="";this.error.style.display="none";this.errorIcon.style.display="none";_7ff.set(this.textbox,"aria-invalid","false");this.numberSpinDirection=0;},_typematicCallback:function(_819,node,evt){var inc=this.smallDelta;if(node==this.textbox){var key=evt.charOrCode;inc=(key==keys.PAGE_UP||key==keys.PAGE_DOWN)?this.largeDelta:this.smallDelta;if(key==keys.ENTER){if(this.numberSpinDirection==1){node=this.upArrowNode;}else{if(this.numberSpinDirection==-1){node=this.downArrowNode;}}}else{node=(key==keys.UP_ARROW||key==keys.PAGE_UP)?this.upArrowNode:this.downArrowNode;}}if(_819==-1){this._arrowReleased(node);}else{this._arrowPressed(node,(node==this.upArrowNode)?1:((node==this.downArrowNode)?-1:0),inc);}},getErrorMessage:function(_81a){var _81b=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;var _81c=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_81b:this.missingMessage;return (this.required&&this._isEmpty(this.textbox.value))?_81c:_81b;}});});},"dijit/form/_Spinner":function(){require({cache:{"url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n"}});define("dijit/form/_Spinner",["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/mouse","../typematic","./RangeBoundTextBox","dojo/text!./templates/Spinner.html","./_TextBoxMixin"],function(_81d,_81e,keys,lang,has,_81f,_820,_821,_822,_823){return _81d("dijit.form._Spinner",_821,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:_822,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val){return val;},_arrowPressed:function(_824,_825,_826){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),_825*_826),false);_823.selectInputText(this.textbox,this.textbox.value.length);},_arrowReleased:function(){this._wheelTimer=null;},_typematicCallback:function(_827,node,evt){var inc=this.smallDelta;if(node==this.textbox){var key=evt.charOrCode;inc=(key==keys.PAGE_UP||key==keys.PAGE_DOWN)?this.largeDelta:this.smallDelta;node=(key==keys.UP_ARROW||key==keys.PAGE_UP)?this.upArrowNode:this.downArrowNode;}if(_827==-1){this._arrowReleased(node);}else{this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);}},_wheelTimer:null,_mouseWheeled:function(evt){_81e.stop(evt);var _828=evt.wheelDelta/120;if(Math.floor(_828)!=_828){_828=evt.wheelDelta>0?1:-1;}var _829=evt.detail?(evt.detail*-1):_828;if(_829!==0){var node=this[(_829>0?"upArrowNode":"downArrowNode")];this._arrowPressed(node,_829,this.smallDelta);if(this._wheelTimer){this._wheelTimer.remove();}this._wheelTimer=this.defer(function(){this._arrowReleased(node);},50);}},_setConstraintsAttr:function(_82a){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){this.focusNode.setAttribute("aria-valuemin",this.constraints.min);}else{this.focusNode.removeAttribute("aria-valuemin");}if(this.constraints.max!==undefined){this.focusNode.setAttribute("aria-valuemax",this.constraints.max);}else{this.focusNode.removeAttribute("aria-valuemax");}}},_setValueAttr:function(_82b,_82c){this.focusNode.setAttribute("aria-valuenow",_82b);this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,_81f.wheel,"_mouseWheeled");this.own(_820.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_820.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_820.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_820.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));}});});},"url:hdx/bijits/tools/liveInterestRate/template/liveInterestRateTable.html":"<div class=\"timeDepositeToolContent\" data-dojo-attach-point=\"timeDepositeToolContent\">\n    <div class=\"l-twelve m-eight s-four columns\">\n        <form action=\"\" name=\"frm_depositRateTable\" data-dojo-attach-point=\"frm_depositRateTable\" >\n            <div data-dojo-attach-point=\"columnDetailsMain\">\n                <div class=\"l-twelve m-eight s-four columns nopad theader\">\n                    <div class=\"l-five m-four s-four columns nopad theader_title\">\n                        <h3 class=\"t28l\" data-dojo-attach-point=\"table_title\"></h3>\n                    </div>\n                    <div class=\"l-four m-four s-four columns nopad currencySelectDiv\" data-dojo-attach-point=\"requestCbCountry_div\" >\n                        <span id=\"depositRates\" class=\"accessibleHidden\"  style=\"visibility: hidden;\" data-dojo-attach-point=\"tableTitleDropdown\">${i18n.table_title}</span >\n                        <div data-dojo-attach-point=\"currencyDropDown\">\n                            <select name=\"\" class=\"request_cb_drop_country_select request_callBack_dropdowns\" data-dojo-props=\"maxHeight:'260'\" data-dojo-type=\"hdx/dijits/form/Select\" aria-required=\"true\" aria-labelledby=\"depositRates\" data-dojo-attach-point=\"requestCbCountry_tdt\" data-dojo-select-width=\"custmized\" data-dojo-custom-class=\"timeDepositeToolSelect\" data-dropdown-attach-point=\"request-callBack-dropDown3\" ></select >\n                        </div>\n                    </div >\n                </div>\n\t\t\t\t<div class=\"l-twelve m-eight s-four columns error-msg\" data-dojo-attach-point=\"serviceError\" style=\"display:none\">\n\t\t\t\t</div>\n\t\t\t\t<div data-dojo-attach-point=\"interestRateTable\">\n\t\t\t\t\t<h4 class=\"t22l\">${i18n.savings_table_subheading}</h4>\n\t\t\t\t\t<h5 class=\"t16r\" data-dojo-attach-point=\"savingsLastUpdateDate\"></h5>\n\t\t\t\t\t<div data-dojo-attach-point=\"savingsTableData\"></div>\n\t\t\t\t\t<div class=\"t12r disclimernote\" data-dojo-attach-point=\"savingsRemarks\"></div>\n\t\t\t\t\t<h3 class=\"t22l\">${i18n.deposit_table_subheading}</h3>\n\t\t\t\t\t<h4 class=\"t16r\" data-dojo-attach-point=\"timeDepositLastUpdateDate\"></h4>\n\t\t\t\t\t<div data-dojo-attach-point=\"timeDepositTableData\"></div>\n\t\t\t\t\t<div class='t14r disclimernote'>\n\t\t\t\t\t\t<p data-dojo-attach-point=\"table_footernote_cny\"></p><br/>\n\t\t\t\t\t\t<p data-dojo-attach-point=\"table_footernote_basis\">${i18n.table_disclaimer_basis}</p>\n\t\t\t\t\t\t<p data-dojo-attach-point=\"table_footernote_hkd\">${i18n.table_disclaimer_hkd}</p><br/>\n\t\t\t\t\t\t<p data-dojo-attach-point=\"table_footernote_offer\">${i18n.table_disclaimer_offer}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n            </div>\n        </form>\n    </div>\n</div>","hdx/bijits/tools/serviceFinder/mobileOverlay":function(){require({cache:{"url:hdx/bijits/tools/serviceFinder/templates/mobileOverlay.html":"<div class=\"service-finder-overlay-modal\" data-dojo-attach-point=\"serviceFinderOverlay\">\n   <div class=\"row full-width overlay_marRow\">\n\t   <div class=\"s-four columns overlay_mar page-title show-on-mobile\" data-dojo-attach-point=\"toolTitle\" custom_id=\"toolTitle\">\n\t      <p class=\"mobileheader\">\n\t         ${i18n.serviceFinder}\n\t      </p>\n\t      <a data-dojo-attach-point=\"agreeIcon\" class=\"chvicon\" href=\"javascript: void(0)\"><em class=\"icon-agree-absl\"></em><span class=\"accessibleHidden\">${i18n.accessibleSaveSearchCriteria}</span></a>\n\t   </div>\n   </div>\n   <div>\n      <div class=\"location-mobile-dropdown\">\n         <!-- Location Drop Down Starts Here -->\n          <span id=\"locationMobileId\" class=\"accessibleHidden\" style=\"visibility: hidden;\">${i18n.selectTerritory} ${i18n.dropdown}</span>\n         <select name=\"locationMobile\" data-dojo-type=\"hdx/dijits/form/Select\" aria-labelledby=\"locationMobileId\" data-dojo-attach-point=\"locationMobile\" data-dojo-props=\"maxHeight:'260',scrollOnFocus :true,forceWidth:true\"></select>\n         <!-- Location Drop Down Ends Here -->\n      </div>\n      <div>\n         <!-- Sub-Location Drop Down Starts Here -->\n          <span id=\"subLocationMobileId\" class=\"accessibleHidden\" style=\"visibility: hidden;\">${i18n.selectDistrict} ${i18n.dropdown}</span>\n         <select name=\"subLocationMobile\" data-dojo-type=\"hdx/dijits/form/Select\" aria-labelledby=\"subLocationMobileId\" data-dojo-attach-point=\"subLocationMobile\" data-dojo-props=\"maxHeight:'260',scrollOnFocus :true,forceWidth:true\"></select>\n         <!-- Sub-Location Drop Down Ends Here -->\n      </div>\n      <div class=\"mobile-checkbox-container\"  data-dojo-attach-point=\"mobileCheckBoxType\">\n         <!-- Location Types Checkboxes Starts here -->\n         <div data-dojo-attach-point=\"locationTypesMobile\"></div>\n         <!-- Location Types Checkboxes Ends here -->\n      </div>\n      <div>\n         <!-- Services Drop Down Starts Here -->\n         <span id=\"serviceTypeMoblieId\" class=\"accessibleHidden\" style=\"visibility: hidden;\">${i18n.all} ${i18n.dropdown}</span>\n         <select name=\"serviceTypeMobile\" data-dojo-type=\"hdx/dijits/form/Select\" aria-labelledby=\"serviceTypeMoblieId\" data-dojo-attach-point=\"serviceTypeMobile\" data-dojo-props=\"maxHeight:'260',scrollOnFocus :true,forceWidth:true\"></select>\n         <!-- Services Drop Down Ends Here -->\n      </div>\n   </div>\n</div>\n"}});define("hdx/bijits/tools/serviceFinder/mobileOverlay",["dojo/_base/declare","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_WidgetBase","hdx/bijits/tools/serviceFinder/ServiceFinderDialog","dojo/dom-style","dojo/on","dojo/text!./templates/mobileOverlay.html","dojo/query","dojo/dom-class","dojo/dom-geometry","hsbc/eca!dojo/i18n!pws/Components/client/serviceFinder/nls/servicefinder_nls"],function(_82d,_82e,_82f,_830,_831,_832,on,_833,_834,_835,_836,i18n){return _82d("hdx.bijits.tools.serviceFinder.mobileOverlay",[_830,_82e,_82f],{templateString:_833,i18n:i18n,serviceFinderOverlay:null,serviceFinderOverlayNode:null,overlayTopPosition:0,iconNode:null,_self:this,constructor:function(){this.inherited(arguments);},postCreate:function(){var self=this;iconNode=_834("[custom_id=\"filterSearchMobile\"]").children("em")[0];titleNode=_834("[custom_id=\"toolTitle\"]")[0];serviceFinderOverlay=new _831({content:this.serviceFinderOverlay,style:"width:100%"});_835.add(serviceFinderOverlay.containerNode.parentNode,"find-branch");_835.add(_834(serviceFinderOverlay.domNode).children(".dijitDialogPaneContent")[0],"mobile-overlay-content");dojo.connect(window,"onscroll",this,function(){self.positionDialog();});on(serviceFinderOverlay,"blur",function(){self.hideDialog();});on(this.agreeIcon,"click",function(){self.hideDialog();});var _837=_834("[custom_id=\"filterSearchMobile\"]")[0].parentNode;var _838=_836.getContentBox(_837);var _839=dojo.position(_837);overlayTopPosition=_838.h+_839.y+18+15;},showDialog:function(){serviceFinderOverlay.show();this.positionDialog();},hideDialog:function(){serviceFinderOverlay.hide();},positionDialog:function(){_832.set(serviceFinderOverlay.domNode,"top",overlayTopPosition+"px");}});});},"url:hdx/bijits/tools/serviceFinder/templates/mobileOverlay.html":"<div class=\"service-finder-overlay-modal\" data-dojo-attach-point=\"serviceFinderOverlay\">\n   <div class=\"row full-width overlay_marRow\">\n\t   <div class=\"s-four columns overlay_mar page-title show-on-mobile\" data-dojo-attach-point=\"toolTitle\" custom_id=\"toolTitle\">\n\t      <p class=\"mobileheader\">\n\t         ${i18n.serviceFinder}\n\t      </p>\n\t      <a data-dojo-attach-point=\"agreeIcon\" class=\"chvicon\" href=\"javascript: void(0)\"><em class=\"icon-agree-absl\"></em><span class=\"accessibleHidden\">${i18n.accessibleSaveSearchCriteria}</span></a>\n\t   </div>\n   </div>\n   <div>\n      <div class=\"location-mobile-dropdown\">\n         <!-- Location Drop Down Starts Here -->\n          <span id=\"locationMobileId\" class=\"accessibleHidden\" style=\"visibility: hidden;\">${i18n.selectTerritory} ${i18n.dropdown}</span>\n         <select name=\"locationMobile\" data-dojo-type=\"hdx/dijits/form/Select\" aria-labelledby=\"locationMobileId\" data-dojo-attach-point=\"locationMobile\" data-dojo-props=\"maxHeight:'260',scrollOnFocus :true,forceWidth:true\"></select>\n         <!-- Location Drop Down Ends Here -->\n      </div>\n      <div>\n         <!-- Sub-Location Drop Down Starts Here -->\n          <span id=\"subLocationMobileId\" class=\"accessibleHidden\" style=\"visibility: hidden;\">${i18n.selectDistrict} ${i18n.dropdown}</span>\n         <select name=\"subLocationMobile\" data-dojo-type=\"hdx/dijits/form/Select\" aria-labelledby=\"subLocationMobileId\" data-dojo-attach-point=\"subLocationMobile\" data-dojo-props=\"maxHeight:'260',scrollOnFocus :true,forceWidth:true\"></select>\n         <!-- Sub-Location Drop Down Ends Here -->\n      </div>\n      <div class=\"mobile-checkbox-container\"  data-dojo-attach-point=\"mobileCheckBoxType\">\n         <!-- Location Types Checkboxes Starts here -->\n         <div data-dojo-attach-point=\"locationTypesMobile\"></div>\n         <!-- Location Types Checkboxes Ends here -->\n      </div>\n      <div>\n         <!-- Services Drop Down Starts Here -->\n         <span id=\"serviceTypeMoblieId\" class=\"accessibleHidden\" style=\"visibility: hidden;\">${i18n.all} ${i18n.dropdown}</span>\n         <select name=\"serviceTypeMobile\" data-dojo-type=\"hdx/dijits/form/Select\" aria-labelledby=\"serviceTypeMoblieId\" data-dojo-attach-point=\"serviceTypeMobile\" data-dojo-props=\"maxHeight:'260',scrollOnFocus :true,forceWidth:true\"></select>\n         <!-- Services Drop Down Ends Here -->\n      </div>\n   </div>\n</div>\n"}});define("hdx/layers/tool",[],1);