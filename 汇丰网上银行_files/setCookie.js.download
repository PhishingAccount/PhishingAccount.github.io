var cookie_setting = {
	path : '/',
	expires : 365,
	domain : '.hsbc.com.cn'
};
if(location.host.indexOf(".hsbc.com.cn")>0){
	cookie_setting.domain=".hsbc.com.cn";
}else if(location.host.indexOf(".hsbc.com.hk")>0){
	cookie_setting.domain=".hsbc.com.hk";
}
/**
 * Set the cookie value.
 */
function setGPWSCookie(name, value, props) {
	props = props || {};
	var exp = props.expires;
	if(typeof exp == 'number'){
		var d = new Date();
		d.setTime(d.getTime() + exp*24*60*60*1000);
		exp = props.expires = d;
	}
	if(exp && exp.toUTCString){ props.expires = exp.toUTCString(); }
	value = encodeURIComponent(value);
	var updatedCookie = name + '=' + value, propName;
	for(propName in props){
		updatedCookie += '; ' + propName;
		var propValue = props[propName];
		if(propValue !== true){ updatedCookie += '=' + propValue; }
	}
	document.cookie = updatedCookie;
}
/**
 * Get the cookie value.
 */
function getGPWSCookie(name) {
	var c = document.cookie, ret;
	var matches = c.match(new RegExp('(?:^|; )' + name + '=([^;]*)'));
	ret = matches ? decodeURIComponent(matches[1]) : undefined;
	return ret;
}
/**
 * Set the locale to cookie.
 */
function setGPWSLocale(locale) {
	locale = locale || '';
	var cookieValue = getGPWSCookie('HSBC_CLIENT_COOKIE');
	if(!cookieValue){
		cookieValue = 'PreferredLocale=' + locale;
	}else if(cookieValue.indexOf('PreferredLocale=') > -1){
		cookieValue = cookieValue.replace(/^(.*,)?PreferredLocale=[^,]*(,.*)?$/, '$1'+'PreferredLocale='+locale+'$2');
	}else{
		cookieValue = cookieValue + ',PreferredLocale=' + locale;
	}
	setGPWSCookie('HSBC_CLIENT_COOKIE', cookieValue, cookie_setting);
}
function setHSBCClientCookie(){
	var hsbcLanguage = HSBC.SITE.language;
	switch (hsbcLanguage) {
		case 'en_CN':
			setGPWSLocale('en_CN');
			break;
		case 'en':
			setGPWSLocale('en_CN');
			break;
		default:
			setGPWSLocale('zh_CN');
	}
}
setHSBCClientCookie();
/*if(document.getElementsByClassName('hsbcDivletLogoImage',document,'span')[0]){
var span = document.getElementsByClassName('hsbcDivletLogoImage',document,'span')[0];
var albl = document.createElement('a');
	if(HSBC.SITE.language == 'zh_CN'){
	albl.href='/1/2/home-cn';
	albl.title='ึ๗าณ';
	}else if(HSBC.SITE.language == 'en'){
		albl.href='/1/2/home';  
	    albl.title='Home';
		}
	_span = span.cloneNode(true);
	albl.appendChild(_span);
	span.parentNode.replaceChild(albl,span);	
}*/